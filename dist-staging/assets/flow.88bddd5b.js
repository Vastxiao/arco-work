import{ay as x_,d as E_,a as Hh,b as j_,e as S_,w as P_,aa as A_,r as Yh,o as k_,c as T_,m as Ku,j as D_,h as M_,O as N_}from"./vendor.98fdfd48.js";import{_ as C_,b as R_}from"./index.353524b8.js";var Ze={exports:{}};(function(g,y){(function(c,p){g.exports=p()})(window,function(){return function(c){var p={};function a(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=p,a.d=function(f,s,m){a.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:m})},a.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,s){if(1&s&&(f=a(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var _ in f)a.d(m,_,function(E){return f[E]}.bind(null,_));return m},a.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(s,"a",s),s},a.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},a.p="",a(a.s=204)}([function(c,p,a){(function(f,s){a.d(p,"a",function(){return k}),a.d(p,"b",function(){return lo}),a.d(p,"c",function(){return On}),a.d(p,"d",function(){return ft}),a.d(p,"e",function(){return yt}),a.d(p,"f",function(){return et}),a.d(p,"g",function(){return Qe}),a.d(p,"h",function(){return vr}),a.d(p,"i",function(){return Ft}),a.d(p,"j",function(){return Fe}),a.d(p,"k",function(){return Dn}),a.d(p,"l",function(){return no}),a.d(p,"m",function(){return Dt}),a.d(p,"n",function(){return tr}),a.d(p,"o",function(){return te}),a.d(p,"p",function(){return li}),a.d(p,"q",function(){return Vn}),a.d(p,"r",function(){return ui}),a.d(p,"s",function(){return gn}),a.d(p,"t",function(){return pr}),a.d(p,"u",function(){return Dr}),a.d(p,"v",function(){return ca}),a.d(p,"w",function(){return si}),a.d(p,"x",function(){return hr}),a.d(p,"y",function(){return on}),a.d(p,"z",function(){return en}),a.d(p,"A",function(){return fn}),a.d(p,"B",function(){return Mn}),a.d(p,"C",function(){return Ye}),a.d(p,"D",function(){return sa}),a.d(p,"E",function(){return er}),a.d(p,"F",function(){return Qn}),a.d(p,"G",function(){return ia}),a.d(p,"H",function(){return Qo}),a.d(p,"I",function(){return pi}),a.d(p,"J",function(){return yn}),a.d(p,"K",function(){return Ee}),a.d(p,"L",function(){return Jt}),a.d(p,"M",function(){return Nn});var m=[];Object.freeze(m);var _={};function E(){return++Ie.mobxGuid}function O(h){throw S(!1,h),"X"}function S(h,v){if(!h)throw new Error("[mobx] "+(v||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(_);function A(h){var v=!1;return function(){if(!v)return v=!0,h.apply(this,arguments)}}var P=function(){};function C(h){return h!==null&&typeof h=="object"}function R(h){if(h===null||typeof h!="object")return!1;var v=Object.getPrototypeOf(h);return v===Object.prototype||v===null}function G(h,v,w){Object.defineProperty(h,v,{enumerable:!1,writable:!0,configurable:!0,value:w})}function H(h,v){var w="isMobX"+h;return v.prototype[w]=!0,function(T){return C(T)&&T[w]===!0}}function I(h){return h instanceof Map}function V(h){return h instanceof Set}function Z(h){var v=new Set;for(var w in h)v.add(w);return Object.getOwnPropertySymbols(h).forEach(function(T){Object.getOwnPropertyDescriptor(h,T).enumerable&&v.add(T)}),Array.from(v)}function Y(h){return h&&h.toString?h.toString():new String(h).toString()}function M(h){return h===null?null:typeof h=="object"?""+h:h}var z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),L=function(){function h(v){v===void 0&&(v="Atom@"+E()),this.name=v,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=q.NOT_TRACKING}return h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(v){return v()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(v){return v()})},h.prototype.reportObserved=function(){return Tn(this)},h.prototype.reportChanged=function(){sn(),function(v){v.lowestObserverState!==q.STALE&&(v.lowestObserverState=q.STALE,v.observers.forEach(function(w){w.dependenciesState===q.UP_TO_DATE&&(w.isTracing!==Be.NONE&&Jn(w,v),w.onBecomeStale()),w.dependenciesState=q.STALE}))}(this),ln()},h.prototype.toString=function(){return this.name},h}(),F=H("Atom",L);function te(h,v,w){v===void 0&&(v=P),w===void 0&&(w=P);var T,D=new L(h);return v!==P&&ni("onBecomeObserved",D,v,T),w!==P&&er(D,w),D}var $={identity:function(h,v){return h===v},structural:function(h,v){return ho(h,v)},default:function(h,v){return Object.is(h,v)},shallow:function(h,v){return ho(h,v,1)}},ae=function(h,v){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var D in T)T.hasOwnProperty(D)&&(w[D]=T[D])})(h,v)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ge=function(){return(ge=Object.assign||function(h){for(var v,w=1,T=arguments.length;w<T;w++)for(var D in v=arguments[w])Object.prototype.hasOwnProperty.call(v,D)&&(h[D]=v[D]);return h}).apply(this,arguments)};function be(h){var v=typeof Symbol=="function"&&h[Symbol.iterator],w=0;return v?v.call(h):{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}}}function ye(h,v){var w=typeof Symbol=="function"&&h[Symbol.iterator];if(!w)return h;var T,D,X=w.call(h),re=[];try{for(;(v===void 0||v-- >0)&&!(T=X.next()).done;)re.push(T.value)}catch(me){D={error:me}}finally{try{T&&!T.done&&(w=X.return)&&w.call(X)}finally{if(D)throw D.error}}return re}function je(){for(var h=[],v=0;v<arguments.length;v++)h=h.concat(ye(arguments[v]));return h}var fe=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),_e={},we={};function ke(h,v){var w=v?_e:we;return w[h]||(w[h]={configurable:!0,enumerable:v,get:function(){return Ce(this),this[h]},set:function(T){Ce(this),this[h]=T}})}function Ce(h){var v,w;if(h[fe]!==!0){var T=h[ue];if(T){G(h,fe,!0);var D=je(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var X=be(D),re=X.next();!re.done;re=X.next()){var me=T[re.value];me.propertyCreator(h,me.prop,me.descriptor,me.decoratorTarget,me.decoratorArguments)}}catch(Te){v={error:Te}}finally{try{re&&!re.done&&(w=X.return)&&w.call(X)}finally{if(v)throw v.error}}}}}function ze(h,v){return function(){var w,T=function(D,X,re,me){if(me===!0)return v(D,X,re,D,w),null;if(!Object.prototype.hasOwnProperty.call(D,ue)){var Te=D[ue];G(D,ue,ge({},Te))}return D[ue][X]={prop:X,propertyCreator:v,descriptor:re,decoratorTarget:D,decoratorArguments:w},ke(X,h)};return Me(arguments)?(w=m,T.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),T)}}function Me(h){return(h.length===2||h.length===3)&&(typeof h[1]=="string"||typeof h[1]=="symbol")||h.length===4&&h[3]===!0}function Xe(h,v,w){return hr(h)?h:Array.isArray(h)?Ye.array(h,{name:w}):R(h)?Ye.object(h,void 0,{name:w}):I(h)?Ye.map(h,{name:w}):V(h)?Ye.set(h,{name:w}):h}function ct(h){return h}function K(h){S(h);var v=ze(!0,function(T,D,X,re,me){var Te=X?X.initializer?X.initializer.call(T):X.value:void 0;fo(T).addObservableProp(D,Te,h)}),w=(f!==void 0&&f.env,v);return w.enhancer=h,w}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ie(h){return h==null?J:typeof h=="string"?{name:h,deep:!0,proxy:!0}:h}Object.freeze(J);var ve=K(Xe),Pe=K(function(h,v,w){return h==null||fn(h)||on(h)||en(h)||Kt(h)?h:Array.isArray(h)?Ye.array(h,{name:w,deep:!1}):R(h)?Ye.object(h,void 0,{name:w,deep:!1}):I(h)?Ye.map(h,{name:w,deep:!1}):V(h)?Ye.set(h,{name:w,deep:!1}):O(!1)}),xe=K(ct),We=K(function(h,v,w){return ho(h,v)?v:h});function He(h){return h.defaultDecorator?h.defaultDecorator.enhancer:h.deep===!1?ct:Xe}var Je={box:function(h,v){arguments.length>2&&de("box");var w=ie(v);return new $t(h,He(w),w.name,!0,w.equals)},array:function(h,v){arguments.length>2&&de("array");var w=ie(v);return hi(h,He(w),w.name)},map:function(h,v){arguments.length>2&&de("map");var w=ie(v);return new lo(h,He(w),w.name)},set:function(h,v){arguments.length>2&&de("set");var w=ie(v);return new Wn(h,He(w),w.name)},object:function(h,v,w){typeof arguments[1]=="string"&&de("object");var T=ie(w);if(T.proxy===!1)return Vn({},h,v,T);var D=ri(T),X=Vn({},void 0,void 0,T),re=Cr(X);return oi(re,h,v,D),re},ref:xe,shallow:Pe,deep:ve,struct:We},Ye=function(h,v,w){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ve.apply(null,arguments);if(hr(h))return h;var T=R(h)?Ye.object(h,v,w):Array.isArray(h)?Ye.array(h,v):I(h)?Ye.map(h,v):V(h)?Ye.set(h,v):h;if(T!==h)return T;O(!1)};function de(h){O("Expected one or two arguments to observable."+h+". Did you accidentally try to use observable."+h+" as decorator?")}Object.keys(Je).forEach(function(h){return Ye[h]=Je[h]});var q,Be,Le=ze(!1,function(h,v,w,T,D){var X=w.get,re=w.set,me=D[0]||{};fo(h).addComputedProp(h,v,ge({get:X,set:re,context:h},me))}),Ke=Le({equals:$.structural}),Dt=function(h,v,w){if(typeof v=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return Le.apply(null,arguments);var T=typeof v=="object"?v:{};return T.get=h,T.set=typeof v=="function"?v:T.set,T.name=T.name||h.name||"",new kn(T)};Dt.struct=Ke,function(h){h[h.NOT_TRACKING=-1]="NOT_TRACKING",h[h.UP_TO_DATE=0]="UP_TO_DATE",h[h.POSSIBLY_STALE=1]="POSSIBLY_STALE",h[h.STALE=2]="STALE"}(q||(q={})),function(h){h[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.BREAK=2]="BREAK"}(Be||(Be={}));var it=function(h){this.cause=h};function lt(h){return h instanceof it}function ht(h){switch(h.dependenciesState){case q.UP_TO_DATE:return!1;case q.NOT_TRACKING:case q.STALE:return!0;case q.POSSIBLY_STALE:for(var v=et(!0),w=$e(),T=h.observing,D=T.length,X=0;X<D;X++){var re=T[X];if(Hn(re)){if(Ie.disableErrorBoundaries)re.get();else try{re.get()}catch{return Ge(w),yt(v),!0}if(h.dependenciesState===q.STALE)return Ge(w),yt(v),!0}}return At(h),Ge(w),yt(v),!1}}function Ft(){return Ie.trackingDerivation!==null}function U(h){var v=h.observers.size>0;Ie.computationDepth>0&&v&&O(!1),Ie.allowStateChanges||!v&&Ie.enforceActions!=="strict"||O(!1)}function Q(h,v,w){var T=et(!0);At(h),h.newObserving=new Array(h.observing.length+100),h.unboundDepsCount=0,h.runId=++Ie.runId;var D,X=Ie.trackingDerivation;if(Ie.trackingDerivation=h,Ie.disableErrorBoundaries===!0)D=v.call(w);else try{D=v.call(w)}catch(re){D=new it(re)}return Ie.trackingDerivation=X,function(re){for(var me=re.observing,Te=re.observing=re.newObserving,nt=q.UP_TO_DATE,tt=0,mt=re.unboundDepsCount,vt=0;vt<mt;vt++)(pt=Te[vt]).diffValue===0&&(pt.diffValue=1,tt!==vt&&(Te[tt]=pt),tt++),pt.dependenciesState>nt&&(nt=pt.dependenciesState);for(Te.length=tt,re.newObserving=null,mt=me.length;mt--;)(pt=me[mt]).diffValue===0&&qo(pt,re),pt.diffValue=0;for(;tt--;){var pt;(pt=Te[tt]).diffValue===1&&(pt.diffValue=0,ta(pt,re))}nt!==q.UP_TO_DATE&&(re.dependenciesState=nt,re.onBecomeStale())}(h),yt(T),D}function ce(h){var v=h.observing;h.observing=[];for(var w=v.length;w--;)qo(v[w],h);h.dependenciesState=q.NOT_TRACKING}function Ee(h){var v=$e();try{return h()}finally{Ge(v)}}function $e(){var h=Ie.trackingDerivation;return Ie.trackingDerivation=null,h}function Ge(h){Ie.trackingDerivation=h}function et(h){var v=Ie.allowStateReads;return Ie.allowStateReads=h,v}function yt(h){Ie.allowStateReads=h}function At(h){if(h.dependenciesState!==q.UP_TO_DATE){h.dependenciesState=q.UP_TO_DATE;for(var v=h.observing,w=v.length;w--;)v[w].lowestObserverState=q.UP_TO_DATE}}var Bt=0,Gn=1,An=Object.getOwnPropertyDescriptor(function(){},"name");An&&An.configurable;function bt(h,v,w){var T=function(){return Ne(h,v,w||this,arguments)};return T.isMobxAction=!0,T}function Ne(h,v,w,T){var D=Fe();try{return v.apply(w,T)}catch(X){throw D.error=X,X}finally{Qe(D)}}function Fe(h,v,w){var T=0,D=$e();sn();var X={prevDerivation:D,prevAllowStateChanges:xt(!0),prevAllowStateReads:et(!0),notifySpy:!1,startTime:T,actionId:Gn++,parentActionId:Bt};return Bt=X.actionId,X}function Qe(h){Bt!==h.actionId&&O("invalid action stack. did you forget to finish an action?"),Bt=h.parentActionId,h.error!==void 0&&(Ie.suppressReactionErrors=!0),Rt(h.prevAllowStateChanges),yt(h.prevAllowStateReads),ln(),Ge(h.prevDerivation),h.notifySpy,Ie.suppressReactionErrors=!1}function ft(h,v){var w,T=xt(h);try{w=v()}finally{Rt(T)}return w}function xt(h){var v=Ie.allowStateChanges;return Ie.allowStateChanges=h,v}function Rt(h){Ie.allowStateChanges=h}var $t=function(h){function v(w,T,D,X,re){D===void 0&&(D="ObservableValue@"+E()),re===void 0&&(re=$.default);var me=h.call(this,D)||this;return me.enhancer=T,me.name=D,me.equals=re,me.hasUnreportedChange=!1,me.value=T(w,void 0,D),me}return function(w,T){function D(){this.constructor=w}ae(w,T),w.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}(v,h),v.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},v.prototype.set=function(w){this.value,(w=this.prepareNewValue(w))!==Ie.UNCHANGED&&this.setNewValue(w)},v.prototype.prepareNewValue=function(w){if(U(this),vn(this)){var T=rn(this,{object:this,type:"update",newValue:w});if(!T)return Ie.UNCHANGED;w=T.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?Ie.UNCHANGED:w},v.prototype.setNewValue=function(w){var T=this.value;this.value=w,this.reportChanged(),st(this)&&Qt(this,{type:"update",object:this,newValue:w,oldValue:T})},v.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},v.prototype.intercept=function(w){return Cn(this,w)},v.prototype.observe=function(w,T){return T&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),yr(this,w)},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.value+"]"},v.prototype.valueOf=function(){return M(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(L),Ko=H("ObservableValue",$t),kn=function(){function h(v){this.dependenciesState=q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Be.NONE,S(v.get,"missing option for computed: get"),this.derivation=v.get,this.name=v.name||"ComputedValue@"+E(),v.set&&(this.setter=bt(this.name+"-setter",v.set)),this.equals=v.equals||(v.compareStructural||v.struct?$.structural:$.default),this.scope=v.context,this.requiresReaction=!!v.requiresReaction,this.keepAlive=!!v.keepAlive}return h.prototype.onBecomeStale=function(){(function(v){v.lowestObserverState===q.UP_TO_DATE&&(v.lowestObserverState=q.POSSIBLY_STALE,v.observers.forEach(function(w){w.dependenciesState===q.UP_TO_DATE&&(w.dependenciesState=q.POSSIBLY_STALE,w.isTracing!==Be.NONE&&Jn(w,v),w.onBecomeStale())}))})(this)},h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(v){return v()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(v){return v()})},h.prototype.get=function(){this.isComputing&&O("Cycle detected in computation "+this.name+": "+this.derivation),Ie.inBatch!==0||this.observers.size!==0||this.keepAlive?(Tn(this),ht(this)&&this.trackAndCompute()&&function(w){w.lowestObserverState!==q.STALE&&(w.lowestObserverState=q.STALE,w.observers.forEach(function(T){T.dependenciesState===q.POSSIBLY_STALE?T.dependenciesState=q.STALE:T.dependenciesState===q.UP_TO_DATE&&(w.lowestObserverState=q.UP_TO_DATE)}))}(this)):ht(this)&&(this.warnAboutUntrackedRead(),sn(),this.value=this.computeValue(!1),ln());var v=this.value;if(lt(v))throw v.cause;return v},h.prototype.peek=function(){var v=this.computeValue(!1);if(lt(v))throw v.cause;return v},h.prototype.set=function(v){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,v)}finally{this.isRunningSetter=!1}}else S(!1,!1)},h.prototype.trackAndCompute=function(){var v=this.value,w=this.dependenciesState===q.NOT_TRACKING,T=this.computeValue(!0),D=w||lt(v)||lt(T)||!this.equals(v,T);return D&&(this.value=T),D},h.prototype.computeValue=function(v){var w;if(this.isComputing=!0,Ie.computationDepth++,v)w=Q(this,this.derivation,this.scope);else if(Ie.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(T){w=new it(T)}return Ie.computationDepth--,this.isComputing=!1,w},h.prototype.suspend=function(){this.keepAlive||(ce(this),this.value=void 0)},h.prototype.observe=function(v,w){var T=this,D=!0,X=void 0;return no(function(){var re=T.get();if(!D||w){var me=$e();v({type:"update",object:T,newValue:re,oldValue:X}),Ge(me)}D=!1,X=re})},h.prototype.warnAboutUntrackedRead=function(){},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},h.prototype.valueOf=function(){return M(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(),Hn=H("ComputedValue",kn),Ar=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ea={};function _n(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:ea}var kr=!0,Zo=!1,Ie=function(){var h=_n();return h.__mobxInstanceCount>0&&!h.__mobxGlobals&&(kr=!1),h.__mobxGlobals&&h.__mobxGlobals.version!==new Ar().version&&(kr=!1),kr?h.__mobxGlobals?(h.__mobxInstanceCount+=1,h.__mobxGlobals.UNCHANGED||(h.__mobxGlobals.UNCHANGED={}),h.__mobxGlobals):(h.__mobxInstanceCount=1,h.__mobxGlobals=new Ar):(setTimeout(function(){Zo||O("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Ar)}();function ta(h,v){h.observers.add(v),h.lowestObserverState>v.dependenciesState&&(h.lowestObserverState=v.dependenciesState)}function qo(h,v){h.observers.delete(v),h.observers.size===0&&$o(h)}function $o(h){h.isPendingUnobservation===!1&&(h.isPendingUnobservation=!0,Ie.pendingUnobservations.push(h))}function sn(){Ie.inBatch++}function ln(){if(--Ie.inBatch==0){Jo();for(var h=Ie.pendingUnobservations,v=0;v<h.length;v++){var w=h[v];w.isPendingUnobservation=!1,w.observers.size===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof kn&&w.suspend())}Ie.pendingUnobservations=[]}}function Tn(h){var v=Ie.trackingDerivation;return v!==null?(v.runId!==h.lastAccessedBy&&(h.lastAccessedBy=v.runId,v.newObserving[v.unboundDepsCount++]=h,h.isBeingObserved||(h.isBeingObserved=!0,h.onBecomeObserved())),!0):(h.observers.size===0&&Ie.inBatch>0&&$o(h),!1)}function Jn(h,v){if(console.log("[mobx.trace] '"+h.name+"' is invalidated due to a change in: '"+v.name+"'"),h.isTracing===Be.BREAK){var w=[];(function T(D,X,re){if(X.length>=1e3)return void X.push("(and many more)");X.push(""+new Array(re).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(me){return T(me,X,re+1)})})(pr(h),w,1),new Function(`debugger;
/*
Tracing '`+h.name+`'

You are entering this break point because derivation '`+h.name+"' is being traced and '"+v.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(h instanceof kn?h.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}}var On=function(){function h(v,w,T,D){v===void 0&&(v="Reaction@"+E()),D===void 0&&(D=!1),this.name=v,this.onInvalidate=w,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Be.NONE}return h.prototype.onBecomeStale=function(){this.schedule()},h.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ie.pendingReactions.push(this),Jo())},h.prototype.isScheduled=function(){return this._isScheduled},h.prototype.runReaction=function(){if(!this.isDisposed){if(sn(),this._isScheduled=!1,ht(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(v){this.reportExceptionInDerivation(v)}}ln()}},h.prototype.track=function(v){if(!this.isDisposed){sn(),this._isRunning=!0;var w=Q(this,v,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ce(this),lt(w)&&this.reportExceptionInDerivation(w.cause),ln()}},h.prototype.reportExceptionInDerivation=function(v){var w=this;if(this.errorHandler)this.errorHandler(v,this);else{if(Ie.disableErrorBoundaries)throw v;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ie.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,v),Ie.globalReactionErrorHandlers.forEach(function(D){return D(v,w)})}},h.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(sn(),ce(this),ln()))},h.prototype.getDisposer=function(){var v=this.dispose.bind(this);return v[k]=this,v},h.prototype.toString=function(){return"Reaction["+this.name+"]"},h.prototype.trace=function(v){v===void 0&&(v=!1),function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=!1;typeof w[w.length-1]=="boolean"&&(D=w.pop());var X=oo(w);if(!X)return O(!1);X.isTracing===Be.NONE&&console.log("[mobx.trace] '"+X.name+"' tracing enabled"),X.isTracing=D?Be.BREAK:Be.LOG}(this,v)},h}(),eo=function(h){return h()};function Jo(){Ie.inBatch>0||Ie.isRunningReactions||eo(na)}function na(){Ie.isRunningReactions=!0;for(var h=Ie.pendingReactions,v=0;h.length>0;){++v==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+h[0]),h.splice(0));for(var w=h.splice(0),T=0,D=w.length;T<D;T++)w[T].runReaction()}Ie.isRunningReactions=!1}var Tr=H("Reaction",On);function ra(h){var v=eo;eo=function(w){return h(function(){return v(w)})}}function Qo(h){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function oa(){O(!1)}function Yn(h){return function(v,w,T){if(T){if(T.value)return{value:bt(h,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return bt(h,D.call(this))}}}return ei(h).apply(this,arguments)}}function ei(h){return function(v,w,T){Object.defineProperty(v,w,{configurable:!0,enumerable:!1,get:function(){},set:function(D){G(this,w,Dn(h,D))}})}}var Dn=function(h,v,w,T){return arguments.length===1&&typeof h=="function"?bt(h.name||"<unnamed action>",h):arguments.length===2&&typeof v=="function"?bt(h,v):arguments.length===1&&typeof h=="string"?Yn(h):T!==!0?Yn(v).apply(null,arguments):void G(h,v,bt(h.name||v,w.value,this))};function ia(h,v){return Ne(typeof h=="string"?h:h.name||"<unnamed action>",typeof h=="function"?h:v,this,void 0)}function Dr(h){return typeof h=="function"&&h.isMobxAction===!0}function to(h,v,w){G(h,v,bt(v,w.bind(h)))}function no(h,v){v===void 0&&(v=_);var w,T=v&&v.name||h.name||"Autorun@"+E();if(!v.scheduler&&!v.delay)w=new On(T,function(){this.track(re)},v.onError,v.requiresObservable);else{var D=ti(v),X=!1;w=new On(T,function(){X||(X=!0,D(function(){X=!1,w.isDisposed||w.track(re)}))},v.onError,v.requiresObservable)}function re(){h(w)}return w.schedule(),w.getDisposer()}Dn.bound=function(h,v,w,T){return T===!0?(to(h,v,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return to(this,v,w.value||w.initializer.call(this)),this[v]},set:oa}:{enumerable:!1,configurable:!0,set:function(D){to(this,v,D)},get:function(){}}};var aa=function(h){return h()};function ti(h){return h.scheduler?h.scheduler:h.delay?function(v){return setTimeout(v,h.delay)}:aa}function Qn(h,v,w){w===void 0&&(w=_);var T,D,X,re=w.name||"Reaction@"+E(),me=Dn(re,w.onError?(T=w.onError,D=v,function(){try{return D.apply(this,arguments)}catch(_t){T.call(this,_t)}}):v),Te=!w.scheduler&&!w.delay,nt=ti(w),tt=!0,mt=!1,vt=w.compareStructural?$.structural:w.equals||$.default,pt=new On(re,function(){tt||Te?wt():mt||(mt=!0,nt(wt))},w.onError,w.requiresObservable);function wt(){if(mt=!1,!pt.isDisposed){var _t=!1;pt.track(function(){var gt=h(pt);_t=tt||!vt(X,gt),X=gt}),tt&&w.fireImmediately&&me(X,pt),tt||_t!==!0||me(X,pt),tt&&(tt=!1)}}return pt.schedule(),pt.getDisposer()}function er(h,v,w){return ni("onBecomeUnobserved",h,v,w)}function ni(h,v,w,T){var D=typeof T=="function"?gn(v,w):gn(v),X=typeof T=="function"?T:w,re=h+"Listeners";return D[re]?D[re].add(X):D[re]=new Set([X]),typeof D[h]!="function"?O(!1):function(){var me=D[re];me&&(me.delete(X),me.size===0&&delete D[re])}}function tr(h){var v=h.enforceActions,w=h.computedRequiresReaction,T=h.computedConfigurable,D=h.disableErrorBoundaries,X=h.reactionScheduler,re=h.reactionRequiresObservable,me=h.observableRequiresReaction;if(h.isolateGlobalState===!0&&((Ie.pendingReactions.length||Ie.inBatch||Ie.isRunningReactions)&&O("isolateGlobalState should be called before MobX is running any reactions"),Zo=!0,kr&&(--_n().__mobxInstanceCount==0&&(_n().__mobxGlobals=void 0),Ie=new Ar)),v!==void 0){var Te=void 0;switch(v){case!0:case"observed":Te=!0;break;case!1:case"never":Te=!1;break;case"strict":case"always":Te="strict";break;default:O("Invalid value for 'enforceActions': '"+v+"', expected 'never', 'always' or 'observed'")}Ie.enforceActions=Te,Ie.allowStateChanges=Te!==!0&&Te!=="strict"}w!==void 0&&(Ie.computedRequiresReaction=!!w),re!==void 0&&(Ie.reactionRequiresObservable=!!re),me!==void 0&&(Ie.observableRequiresReaction=!!me,Ie.allowStateReads=!Ie.observableRequiresReaction),T!==void 0&&(Ie.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ie.disableErrorBoundaries=!!D),X&&ra(X)}function Vn(h,v,w,T){var D=ri(T=ie(T));return Ce(h),fo(h,T.name,D.enhancer),v&&oi(h,v,w,D),h}function ri(h){return h.defaultDecorator||(h.deep===!1?xe:ve)}function oi(h,v,w,T){var D,X;sn();try{var re=z(v);try{for(var me=be(re),Te=me.next();!Te.done;Te=me.next()){var nt=Te.value,tt=Object.getOwnPropertyDescriptor(v,nt),mt=(w&&nt in w?w[nt]:tt.get?Le:T)(h,nt,tt,!0);mt&&Object.defineProperty(h,nt,mt)}}catch(vt){D={error:vt}}finally{try{Te&&!Te.done&&(X=me.return)&&X.call(me)}finally{if(D)throw D.error}}}finally{ln()}}function pr(h,v){return ii(gn(h,v))}function ii(h){var v,w,T={name:h.name};return h.observing&&h.observing.length>0&&(T.dependencies=(v=h.observing,w=[],v.forEach(function(D){w.indexOf(D)===-1&&w.push(D)}),w).map(ii)),T}var ua=0;function ai(){this.message="FLOW_CANCELLED"}function ui(h){arguments.length!==1&&O("Flow expects 1 argument and cannot be used as decorator");var v=h.name||"<unnamed flow>";return function(){var w,T=this,D=arguments,X=++ua,re=Dn(v+" - runid: "+X+" - init",h).apply(T,D),me=void 0,Te=new Promise(function(nt,tt){var mt=0;function vt(_t){var gt;me=void 0;try{gt=Dn(v+" - runid: "+X+" - yield "+mt++,re.next).call(re,_t)}catch(xn){return tt(xn)}wt(gt)}function pt(_t){var gt;me=void 0;try{gt=Dn(v+" - runid: "+X+" - yield "+mt++,re.throw).call(re,_t)}catch(xn){return tt(xn)}wt(gt)}function wt(_t){if(!_t||typeof _t.then!="function")return _t.done?nt(_t.value):(me=Promise.resolve(_t.value)).then(vt,pt);_t.then(wt,tt)}w=tt,vt(void 0)});return Te.cancel=Dn(v+" - runid: "+X+" - cancel",function(){try{me&&dr(me);var nt=re.return(void 0),tt=Promise.resolve(nt.value);tt.then(P,P),dr(tt),w(new ai)}catch(mt){w(mt)}}),Te}}function dr(h){typeof h.cancel=="function"&&h.cancel()}function ci(h,v){if(h==null)return!1;if(v!==void 0){if(fn(h)===!1||!h[k].values.has(v))return!1;var w=gn(h,v);return Hn(w)}return Hn(h)}function ca(h){return arguments.length>1?O(!1):ci(h)}function si(h,v){return typeof v!="string"?O(!1):ci(h,v)}function ro(h,v){return h!=null&&(v!==void 0?!!fn(h)&&h[k].values.has(v):fn(h)||!!h[k]||F(h)||Tr(h)||Hn(h))}function hr(h){return arguments.length!==1&&O(!1),ro(h)}function Mn(h){return fn(h)?h[k].getKeys():en(h)||Kt(h)?Array.from(h.keys()):on(h)?h.map(function(v,w){return w}):O(!1)}function Jt(h){return fn(h)?Mn(h).map(function(v){return h[v]}):en(h)?Mn(h).map(function(v){return h.get(v)}):Kt(h)?Array.from(h.values()):on(h)?h.slice():O(!1)}function li(h){return fn(h)?Mn(h).map(function(v){return[v,h[v]]}):en(h)?Mn(h).map(function(v){return[v,h.get(v)]}):Kt(h)?Array.from(h.entries()):on(h)?h.map(function(v,w){return[w,v]}):O(!1)}function sa(h,v,w,T){return typeof w=="function"?function(D,X,re,me){return vr(D,X).observe(re,me)}(h,v,w,T):function(D,X,re){return vr(D).observe(X,re)}(h,v,w)}ai.prototype=Object.create(Error.prototype);var fi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function nr(h,v,w,T){return T.detectCycles&&h.set(v,w),w}function pi(h,v){var w;return typeof v=="boolean"&&(v={detectCycles:v}),v||(v=fi),v.detectCycles=v.detectCycles===void 0?v.recurseEverything===!0:v.detectCycles===!0,v.detectCycles&&(w=new Map),function T(D,X,re){if(!X.recurseEverything&&!hr(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Ko(D))return T(D.get(),X,re);if(hr(D)&&Mn(D),X.detectCycles===!0&&D!==null&&re.has(D))return re.get(D);if(on(D)||Array.isArray(D)){var me=nr(re,D,[],X),Te=D.map(function(gt){return T(gt,X,re)});me.length=Te.length;for(var nt=0,tt=Te.length;nt<tt;nt++)me[nt]=Te[nt];return me}if(Kt(D)||Object.getPrototypeOf(D)===Set.prototype){if(X.exportMapsAsObjects===!1){var mt=nr(re,D,new Set,X);return D.forEach(function(gt){mt.add(T(gt,X,re))}),mt}var vt=nr(re,D,[],X);return D.forEach(function(gt){vt.push(T(gt,X,re))}),vt}if(en(D)||Object.getPrototypeOf(D)===Map.prototype){if(X.exportMapsAsObjects===!1){var pt=nr(re,D,new Map,X);return D.forEach(function(gt,xn){pt.set(xn,T(gt,X,re))}),pt}var wt=nr(re,D,{},X);return D.forEach(function(gt,xn){wt[xn]=T(gt,X,re)}),wt}var _t=nr(re,D,{},X);return Z(D).forEach(function(gt){_t[gt]=T(D[gt],X,re)}),_t}(h,v,w)}function oo(h){switch(h.length){case 0:return Ie.trackingDerivation;case 1:return gn(h[0]);case 2:return gn(h[0],h[1])}}function yn(h,v){v===void 0&&(v=void 0),sn();try{return h.apply(v)}finally{ln()}}function Nn(h,v,w){return arguments.length===1||v&&typeof v=="object"?di(h,v):io(h,v,w||{})}function io(h,v,w){var T;typeof w.timeout=="number"&&(T=setTimeout(function(){if(!X[k].isDisposed){X();var re=new Error("WHEN_TIMEOUT");if(!w.onError)throw re;w.onError(re)}},w.timeout)),w.name=w.name||"When@"+E();var D=bt(w.name+"-effect",v),X=no(function(re){h()&&(re.dispose(),T&&clearTimeout(T),D())},w);return X}function di(h,v){var w,T=new Promise(function(D,X){var re=io(h,D,ge(ge({},v),{onError:X}));w=function(){re(),X("WHEN_CANCELLED")}});return T.cancel=w,T}function Mr(h){return h[k]}function Nr(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"}var ao={has:function(h,v){if(v===k||v==="constructor"||v===fe)return!0;var w=Mr(h);return Nr(v)?w.has(v):v in h},get:function(h,v){if(v===k||v==="constructor"||v===fe)return h[v];var w=Mr(h),T=w.values.get(v);if(T instanceof L){var D=T.get();return D===void 0&&w.has(v),D}return Nr(v)&&w.has(v),h[v]},set:function(h,v,w){return!!Nr(v)&&(function T(D,X,re){if(arguments.length!==2||Kt(D))if(fn(D)){var me=D[k],Te=me.values.get(X);Te?me.write(X,re):me.addObservableProp(X,re,me.defaultEnhancer)}else if(en(D))D.set(X,re);else if(Kt(D))D.add(X);else{if(!on(D))return O(!1);typeof X!="number"&&(X=parseInt(X,10)),S(X>=0,"Not a valid index: '"+X+"'"),sn(),X>=D.length&&(D.length=X+1),D[X]=re,ln()}else{sn();var nt=X;try{for(var tt in nt)T(D,tt,nt[tt])}finally{ln()}}}(h,v,w),!0)},deleteProperty:function(h,v){return!!Nr(v)&&(Mr(h).remove(v),!0)},ownKeys:function(h){return Mr(h).keysAtom.reportObserved(),Reflect.ownKeys(h)},preventExtensions:function(h){return O("Dynamic observable objects cannot be frozen"),!1}};function Cr(h){var v=new Proxy(h,ao);return h[k].proxy=v,v}function vn(h){return h.interceptors!==void 0&&h.interceptors.length>0}function Cn(h,v){var w=h.interceptors||(h.interceptors=[]);return w.push(v),A(function(){var T=w.indexOf(v);T!==-1&&w.splice(T,1)})}function rn(h,v){var w=$e();try{for(var T=je(h.interceptors||[]),D=0,X=T.length;D<X&&(S(!(v=T[D](v))||v.type,"Intercept handlers should return nothing or a change object"),v);D++);return v}finally{Ge(w)}}function st(h){return h.changeListeners!==void 0&&h.changeListeners.length>0}function yr(h,v){var w=h.changeListeners||(h.changeListeners=[]);return w.push(v),A(function(){var T=w.indexOf(v);T!==-1&&w.splice(T,1)})}function Qt(h,v){var w=$e(),T=h.changeListeners;if(T){for(var D=0,X=(T=T.slice()).length;D<X;D++)T[D](v);Ge(w)}}var rr={get:function(h,v){return v===k?h[k]:v==="length"?h[k].getArrayLength():typeof v=="number"?wn.get.call(h,v):typeof v!="string"||isNaN(v)?wn.hasOwnProperty(v)?wn[v]:h[v]:wn.get.call(h,parseInt(v))},set:function(h,v,w){return v==="length"&&h[k].setArrayLength(w),typeof v=="number"&&wn.set.call(h,v,w),typeof v=="symbol"||isNaN(v)?h[v]=w:wn.set.call(h,parseInt(v),w),!0},preventExtensions:function(h){return O("Observable arrays cannot be frozen"),!1}};function hi(h,v,w,T){w===void 0&&(w="ObservableArray@"+E()),T===void 0&&(T=!1);var D,X,re,me=new uo(w,v,T);D=me.values,X=k,re=me,Object.defineProperty(D,X,{enumerable:!1,writable:!1,configurable:!0,value:re});var Te=new Proxy(me.values,rr);if(me.proxy=Te,h&&h.length){var nt=xt(!0);me.spliceWithArray(0,0,h),Rt(nt)}return Te}var uo=function(){function h(v,w,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(v||"ObservableArray@"+E()),this.enhancer=function(D,X){return w(D,X,v+"[..]")}}return h.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},h.prototype.dehanceValues=function(v){return this.dehancer!==void 0&&v.length>0?v.map(this.dehancer):v},h.prototype.intercept=function(v){return Cn(this,v)},h.prototype.observe=function(v,w){return w===void 0&&(w=!1),w&&v({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),yr(this,v)},h.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},h.prototype.setArrayLength=function(v){if(typeof v!="number"||v<0)throw new Error("[mobx.array] Out of range: "+v);var w=this.values.length;if(v!==w)if(v>w){for(var T=new Array(v-w),D=0;D<v-w;D++)T[D]=void 0;this.spliceWithArray(w,0,T)}else this.spliceWithArray(v,w-v)},h.prototype.updateArrayLength=function(v,w){if(v!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=w},h.prototype.spliceWithArray=function(v,w,T){var D=this;U(this.atom);var X=this.values.length;if(v===void 0?v=0:v>X?v=X:v<0&&(v=Math.max(0,X+v)),w=arguments.length===1?X-v:w==null?0:Math.max(0,Math.min(w,X-v)),T===void 0&&(T=m),vn(this)){var re=rn(this,{object:this.proxy,type:"splice",index:v,removedCount:w,added:T});if(!re)return m;w=re.removedCount,T=re.added}T=T.length===0?T:T.map(function(Te){return D.enhancer(Te,void 0)});var me=this.spliceItemsIntoValues(v,w,T);return w===0&&T.length===0||this.notifyArraySplice(v,T,me),this.dehanceValues(me)},h.prototype.spliceItemsIntoValues=function(v,w,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,je([v,w],T));var X=this.values.slice(v,v+w);return this.values=this.values.slice(0,v).concat(T,this.values.slice(v+w)),X},h.prototype.notifyArrayChildUpdate=function(v,w,T){var D=!this.owned&&!1,X=st(this),re=X||D?{object:this.proxy,type:"update",index:v,newValue:w,oldValue:T}:null;this.atom.reportChanged(),X&&Qt(this,re)},h.prototype.notifyArraySplice=function(v,w,T){var D=!this.owned&&!1,X=st(this),re=X||D?{object:this.proxy,type:"splice",index:v,removed:T,added:w,removedCount:T.length,addedCount:w.length}:null;this.atom.reportChanged(),X&&Qt(this,re)},h}(),wn={intercept:function(h){return this[k].intercept(h)},observe:function(h,v){return v===void 0&&(v=!1),this[k].observe(h,v)},clear:function(){return this.splice(0)},replace:function(h){var v=this[k];return v.spliceWithArray(0,v.values.length,h)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(h,v){for(var w=[],T=2;T<arguments.length;T++)w[T-2]=arguments[T];var D=this[k];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(h);case 2:return D.spliceWithArray(h,v)}return D.spliceWithArray(h,v,w)},spliceWithArray:function(h,v,w){return this[k].spliceWithArray(h,v,w)},push:function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var w=this[k];return w.spliceWithArray(w.values.length,0,h),w.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var w=this[k];return w.spliceWithArray(0,0,h),w.values.length},reverse:function(){var h=this.slice();return h.reverse.apply(h,arguments)},sort:function(h){var v=this.slice();return v.sort.apply(v,arguments)},remove:function(h){var v=this[k],w=v.dehanceValues(v.values).indexOf(h);return w>-1&&(this.splice(w,1),!0)},get:function(h){var v=this[k];if(v){if(h<v.values.length)return v.atom.reportObserved(),v.dehanceValue(v.values[h]);console.warn("[mobx.array] Attempt to read an array index ("+h+") that is out of bounds ("+v.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(h,v){var w=this[k],T=w.values;if(h<T.length){U(w.atom);var D=T[h];if(vn(w)){var X=rn(w,{type:"update",object:w.proxy,index:h,newValue:v});if(!X)return;v=X.newValue}(v=w.enhancer(v,D))!==D&&(T[h]=v,w.notifyArrayChildUpdate(h,v,D))}else{if(h!==T.length)throw new Error("[mobx.array] Index out of bounds, "+h+" is larger than "+T.length);w.spliceWithArray(h,0,[v])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(h){typeof Array.prototype[h]=="function"&&(wn[h]=function(){var v=this[k];v.atom.reportObserved();var w=v.dehanceValues(v.values);return w[h].apply(w,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(h){typeof Array.prototype[h]=="function"&&(wn[h]=function(v,w){var T=this,D=this[k];return D.atom.reportObserved(),D.dehanceValues(D.values)[h](function(X,re){return v.call(w,X,re,T)},w)})}),["reduce","reduceRight"].forEach(function(h){wn[h]=function(){var v=this,w=this[k];w.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,X,re){return X=w.dehanceValue(X),T(D,X,re,v)},w.values[h].apply(w.values,arguments)}});var co,la=H("ObservableArrayAdministration",uo);function on(h){return C(h)&&la(h[k])}var so,fa={},lo=function(){function h(v,w,T){if(w===void 0&&(w=Xe),T===void 0&&(T="ObservableMap@"+E()),this.enhancer=w,this.name=T,this[co]=fa,this._keysAtom=te(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(v)}return h.prototype._has=function(v){return this._data.has(v)},h.prototype.has=function(v){var w=this;if(!Ie.trackingDerivation)return this._has(v);var T=this._hasMap.get(v);if(!T){var D=T=new $t(this._has(v),ct,this.name+"."+Y(v)+"?",!1);this._hasMap.set(v,D),er(D,function(){return w._hasMap.delete(v)})}return T.get()},h.prototype.set=function(v,w){var T=this._has(v);if(vn(this)){var D=rn(this,{type:T?"update":"add",object:this,newValue:w,name:v});if(!D)return this;w=D.newValue}return T?this._updateValue(v,w):this._addValue(v,w),this},h.prototype.delete=function(v){var w=this;if(U(this._keysAtom),vn(this)&&!(D=rn(this,{type:"delete",object:this,name:v})))return!1;if(this._has(v)){var T=st(this),D=T?{type:"delete",object:this,oldValue:this._data.get(v).value,name:v}:null;return yn(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(v,!1),w._data.get(v).setNewValue(void 0),w._data.delete(v)}),T&&Qt(this,D),!0}return!1},h.prototype._updateHasMapEntry=function(v,w){var T=this._hasMap.get(v);T&&T.setNewValue(w)},h.prototype._updateValue=function(v,w){var T=this._data.get(v);if((w=T.prepareNewValue(w))!==Ie.UNCHANGED){var D=st(this),X=D?{type:"update",object:this,oldValue:T.value,name:v,newValue:w}:null;T.setNewValue(w),D&&Qt(this,X)}},h.prototype._addValue=function(v,w){var T=this;U(this._keysAtom),yn(function(){var re=new $t(w,T.enhancer,T.name+"."+Y(v),!1);T._data.set(v,re),w=re.value,T._updateHasMapEntry(v,!0),T._keysAtom.reportChanged()});var D=st(this),X=D?{type:"add",object:this,name:v,newValue:w}:null;D&&Qt(this,X)},h.prototype.get=function(v){return this.has(v)?this.dehanceValue(this._data.get(v).get()):this.dehanceValue(void 0)},h.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},h.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},h.prototype.values=function(){var v=this,w=this.keys();return br({next:function(){var T=w.next(),D=T.done,X=T.value;return{done:D,value:D?void 0:v.get(X)}}})},h.prototype.entries=function(){var v=this,w=this.keys();return br({next:function(){var T=w.next(),D=T.done,X=T.value;return{done:D,value:D?void 0:[X,v.get(X)]}}})},h.prototype[co=k,Symbol.iterator]=function(){return this.entries()},h.prototype.forEach=function(v,w){var T,D;try{for(var X=be(this),re=X.next();!re.done;re=X.next()){var me=ye(re.value,2),Te=me[0],nt=me[1];v.call(w,nt,Te,this)}}catch(tt){T={error:tt}}finally{try{re&&!re.done&&(D=X.return)&&D.call(X)}finally{if(T)throw T.error}}},h.prototype.merge=function(v){var w=this;return en(v)&&(v=v.toJS()),yn(function(){var T=xt(!0);try{R(v)?Z(v).forEach(function(D){return w.set(D,v[D])}):Array.isArray(v)?v.forEach(function(D){var X=ye(D,2),re=X[0],me=X[1];return w.set(re,me)}):I(v)?(v.constructor!==Map&&O("Cannot initialize from classes that inherit from Map: "+v.constructor.name),v.forEach(function(D,X){return w.set(X,D)})):v!=null&&O("Cannot initialize map from "+v)}finally{Rt(T)}}),this},h.prototype.clear=function(){var v=this;yn(function(){Ee(function(){var w,T;try{for(var D=be(v.keys()),X=D.next();!X.done;X=D.next()){var re=X.value;v.delete(re)}}catch(me){w={error:me}}finally{try{X&&!X.done&&(T=D.return)&&T.call(D)}finally{if(w)throw w.error}}})})},h.prototype.replace=function(v){var w=this;return yn(function(){var T,D,X,re,me=function(tn){if(I(tn)||en(tn))return tn;if(Array.isArray(tn))return new Map(tn);if(R(tn)){var gi=new Map;for(var vo in tn)gi.set(vo,tn[vo]);return gi}return O("Cannot convert to map from '"+tn+"'")}(v),Te=new Map,nt=!1;try{for(var tt=be(w._data.keys()),mt=tt.next();!mt.done;mt=tt.next()){var vt=mt.value;if(!me.has(vt))if(w.delete(vt))nt=!0;else{var pt=w._data.get(vt);Te.set(vt,pt)}}}catch(tn){T={error:tn}}finally{try{mt&&!mt.done&&(D=tt.return)&&D.call(tt)}finally{if(T)throw T.error}}try{for(var wt=be(me.entries()),_t=wt.next();!_t.done;_t=wt.next()){var gt=ye(_t.value,2),xn=(vt=gt[0],pt=gt[1],w._data.has(vt));if(w.set(vt,pt),w._data.has(vt)){var da=w._data.get(vt);Te.set(vt,da),xn||(nt=!0)}}}catch(tn){X={error:tn}}finally{try{_t&&!_t.done&&(re=wt.return)&&re.call(wt)}finally{if(X)throw X.error}}if(!nt)if(w._data.size!==Te.size)w._keysAtom.reportChanged();else for(var mr=w._data.keys(),ir=Te.keys(),_r=mr.next(),yo=ir.next();!_r.done;){if(_r.value!==yo.value){w._keysAtom.reportChanged();break}_r=mr.next(),yo=ir.next()}w._data=Te}),this},Object.defineProperty(h.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.toPOJO=function(){var v,w,T={};try{for(var D=be(this),X=D.next();!X.done;X=D.next()){var re=ye(X.value,2),me=re[0],Te=re[1];T[typeof me=="symbol"?me:Y(me)]=Te}}catch(nt){v={error:nt}}finally{try{X&&!X.done&&(w=D.return)&&w.call(D)}finally{if(v)throw v.error}}return T},h.prototype.toJS=function(){return new Map(this)},h.prototype.toJSON=function(){return this.toPOJO()},h.prototype.toString=function(){var v=this;return this.name+"[{ "+Array.from(this.keys()).map(function(w){return Y(w)+": "+v.get(w)}).join(", ")+" }]"},h.prototype.observe=function(v,w){return yr(this,v)},h.prototype.intercept=function(v){return Cn(this,v)},h}(),en=H("ObservableMap",lo),or={},Wn=function(){function h(v,w,T){if(w===void 0&&(w=Xe),T===void 0&&(T="ObservableSet@"+E()),this.name=T,this[so]=or,this._data=new Set,this._atom=te(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,X){return w(D,X,T)},v&&this.replace(v)}return h.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},h.prototype.clear=function(){var v=this;yn(function(){Ee(function(){var w,T;try{for(var D=be(v._data.values()),X=D.next();!X.done;X=D.next()){var re=X.value;v.delete(re)}}catch(me){w={error:me}}finally{try{X&&!X.done&&(T=D.return)&&T.call(D)}finally{if(w)throw w.error}}})})},h.prototype.forEach=function(v,w){var T,D;try{for(var X=be(this),re=X.next();!re.done;re=X.next()){var me=re.value;v.call(w,me,me,this)}}catch(Te){T={error:Te}}finally{try{re&&!re.done&&(D=X.return)&&D.call(X)}finally{if(T)throw T.error}}},Object.defineProperty(h.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.add=function(v){var w=this;if(U(this._atom),vn(this)&&!(D=rn(this,{type:"add",object:this,newValue:v})))return this;if(!this.has(v)){yn(function(){w._data.add(w.enhancer(v,void 0)),w._atom.reportChanged()});var T=st(this),D=T?{type:"add",object:this,newValue:v}:null;T&&Qt(this,D)}return this},h.prototype.delete=function(v){var w=this;if(vn(this)&&!(D=rn(this,{type:"delete",object:this,oldValue:v})))return!1;if(this.has(v)){var T=st(this),D=T?{type:"delete",object:this,oldValue:v}:null;return yn(function(){w._atom.reportChanged(),w._data.delete(v)}),T&&Qt(this,D),!0}return!1},h.prototype.has=function(v){return this._atom.reportObserved(),this._data.has(this.dehanceValue(v))},h.prototype.entries=function(){var v=0,w=Array.from(this.keys()),T=Array.from(this.values());return br({next:function(){var D=v;return v+=1,D<T.length?{value:[w[D],T[D]],done:!1}:{done:!0}}})},h.prototype.keys=function(){return this.values()},h.prototype.values=function(){this._atom.reportObserved();var v=this,w=0,T=Array.from(this._data.values());return br({next:function(){return w<T.length?{value:v.dehanceValue(T[w++]),done:!1}:{done:!0}}})},h.prototype.replace=function(v){var w=this;return Kt(v)&&(v=v.toJS()),yn(function(){var T=xt(!0);try{Array.isArray(v)||V(v)?(w.clear(),v.forEach(function(D){return w.add(D)})):v!=null&&O("Cannot initialize set from "+v)}finally{Rt(T)}}),this},h.prototype.observe=function(v,w){return yr(this,v)},h.prototype.intercept=function(v){return Cn(this,v)},h.prototype.toJS=function(){return new Set(this)},h.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},h.prototype[so=k,Symbol.iterator]=function(){return this.values()},h}(),Kt=H("ObservableSet",Wn),yi=function(){function h(v,w,T,D){w===void 0&&(w=new Map),this.target=v,this.values=w,this.name=T,this.defaultEnhancer=D,this.keysAtom=new L(T+".keys")}return h.prototype.read=function(v){return this.values.get(v).get()},h.prototype.write=function(v,w){var T=this.target,D=this.values.get(v);if(D instanceof kn)D.set(w);else{if(vn(this)){if(!(re=rn(this,{type:"update",object:this.proxy||T,name:v,newValue:w})))return;w=re.newValue}if((w=D.prepareNewValue(w))!==Ie.UNCHANGED){var X=st(this),re=X?{type:"update",object:this.proxy||T,oldValue:D.value,name:v,newValue:w}:null;D.setNewValue(w),X&&Qt(this,re)}}},h.prototype.has=function(v){var w=this.pendingKeys||(this.pendingKeys=new Map),T=w.get(v);if(T)return T.get();var D=!!this.values.get(v);return T=new $t(D,ct,this.name+"."+Y(v)+"?",!1),w.set(v,T),T.get()},h.prototype.addObservableProp=function(v,w,T){T===void 0&&(T=this.defaultEnhancer);var D=this.target;if(vn(this)){var X=rn(this,{object:this.proxy||D,name:v,type:"add",newValue:w});if(!X)return;w=X.newValue}var re=new $t(w,T,this.name+"."+Y(v),!1);this.values.set(v,re),w=re.value,Object.defineProperty(D,v,function(me){return Rr[me]||(Rr[me]={configurable:!0,enumerable:!0,get:function(){return this[k].read(me)},set:function(Te){this[k].write(me,Te)}})}(v)),this.notifyPropertyAddition(v,w)},h.prototype.addComputedProp=function(v,w,T){var D,X,re,me=this.target;T.name=T.name||this.name+"."+Y(w),this.values.set(w,new kn(T)),(v===me||(D=v,X=w,!(re=Object.getOwnPropertyDescriptor(D,X))||re.configurable!==!1&&re.writable!==!1))&&Object.defineProperty(v,w,function(Te){return Ir[Te]||(Ir[Te]={configurable:Ie.computedConfigurable,enumerable:!1,get:function(){return Lr(this).read(Te)},set:function(nt){Lr(this).write(Te,nt)}})}(w))},h.prototype.remove=function(v){if(this.values.has(v)){var w=this.target;if(vn(this)&&!(me=rn(this,{object:this.proxy||w,name:v,type:"remove"})))return;try{sn();var T=st(this),D=this.values.get(v),X=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(v),this.pendingKeys){var re=this.pendingKeys.get(v);re&&re.set(!1)}delete this.target[v];var me=T?{type:"remove",object:this.proxy||w,oldValue:X,name:v}:null;T&&Qt(this,me)}finally{ln()}}},h.prototype.illegalAccess=function(v,w){console.warn("Property '"+w+"' of '"+v+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},h.prototype.observe=function(v,w){return yr(this,v)},h.prototype.intercept=function(v){return Cn(this,v)},h.prototype.notifyPropertyAddition=function(v,w){var T=st(this),D=T?{type:"add",object:this.proxy||this.target,name:v,newValue:w}:null;if(T&&Qt(this,D),this.pendingKeys){var X=this.pendingKeys.get(v);X&&X.set(!0)}this.keysAtom.reportChanged()},h.prototype.getKeys=function(){var v,w;this.keysAtom.reportObserved();var T=[];try{for(var D=be(this.values),X=D.next();!X.done;X=D.next()){var re=ye(X.value,2),me=re[0];re[1]instanceof $t&&T.push(me)}}catch(Te){v={error:Te}}finally{try{X&&!X.done&&(w=D.return)&&w.call(D)}finally{if(v)throw v.error}}return T},h}();function fo(h,v,w){if(v===void 0&&(v=""),w===void 0&&(w=Xe),Object.prototype.hasOwnProperty.call(h,k))return h[k];R(h)||(v=(h.constructor.name||"ObservableObject")+"@"+E()),v||(v="ObservableObject@"+E());var T=new yi(h,new Map,Y(v),w);return G(h,k,T),T}var Rr=Object.create(null),Ir=Object.create(null);function Lr(h){var v=h[k];return v||(Ce(h),h[k])}var po=H("ObservableObjectAdministration",yi);function fn(h){return!!C(h)&&(Ce(h),po(h[k]))}function gn(h,v){if(typeof h=="object"&&h!==null){if(on(h))return v!==void 0&&O(!1),h[k].atom;if(Kt(h))return h[k];if(en(h)){var w=h;return v===void 0?w._keysAtom:((T=w._data.get(v)||w._hasMap.get(v))||O(!1),T)}var T;if(Ce(h),v&&!h[k]&&h[v],fn(h))return v?((T=h[k].values.get(v))||O(!1),T):O(!1);if(F(h)||Hn(h)||Tr(h))return h}else if(typeof h=="function"&&Tr(h[k]))return h[k];return O(!1)}function vr(h,v){return h||O("Expecting some object"),v!==void 0?vr(gn(h,v)):F(h)||Hn(h)||Tr(h)||en(h)||Kt(h)?h:(Ce(h),h[k]?h[k]:void O(!1))}var vi=Object.prototype.toString;function ho(h,v,w){return w===void 0&&(w=-1),function T(D,X,re,me,Te){if(D===X)return D!==0||1/D==1/X;if(D==null||X==null)return!1;if(D!=D)return X!=X;var nt=typeof D;if(nt!=="function"&&nt!=="object"&&typeof X!="object")return!1;var tt=vi.call(D);if(tt!==vi.call(X))return!1;switch(tt){case"[object RegExp]":case"[object String]":return""+D==""+X;case"[object Number]":return+D!=+D?+X!=+X:+D==0?1/+D==1/X:+D==+X;case"[object Date]":case"[object Boolean]":return+D==+X;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(X);case"[object Map]":case"[object Set]":re>=0&&re++}D=Rn(D),X=Rn(X);var mt=tt==="[object Array]";if(!mt){if(typeof D!="object"||typeof X!="object")return!1;var vt=D.constructor,pt=X.constructor;if(vt!==pt&&!(typeof vt=="function"&&vt instanceof vt&&typeof pt=="function"&&pt instanceof pt)&&"constructor"in D&&"constructor"in X)return!1}if(re===0)return!1;re<0&&(re=-1),Te=Te||[];for(var wt=(me=me||[]).length;wt--;)if(me[wt]===D)return Te[wt]===X;if(me.push(D),Te.push(X),mt){if((wt=D.length)!==X.length)return!1;for(;wt--;)if(!T(D[wt],X[wt],re-1,me,Te))return!1}else{var _t=Object.keys(D),gt=void 0;if(wt=_t.length,Object.keys(X).length!==wt)return!1;for(;wt--;)if(gt=_t[wt],!gr(X,gt)||!T(D[gt],X[gt],re-1,me,Te))return!1}return me.pop(),Te.pop(),!0}(h,v,w)}function Rn(h){return on(h)?h.slice():I(h)||en(h)||V(h)||Kt(h)?Array.from(h.entries()):h}function gr(h,v){return Object.prototype.hasOwnProperty.call(h,v)}function br(h){return h[Symbol.iterator]=pa,h}function pa(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Qo,extras:{getDebugName:function(h,v){return(v!==void 0?gn(h,v):fn(h)||en(h)||Kt(h)?vr(h):gn(h)).name}},$mobx:k})}).call(this,a(149),a(74))},function(c,p,a){a.d(p,"a",function(){return Y}),a.d(p,"b",function(){return Z}),a.d(p,"c",function(){return Xe}),a.d(p,"d",function(){return ct}),a.d(p,"e",function(){return H}),a.d(p,"f",function(){return V}),a.d(p,"g",function(){return H}),a.d(p,"h",function(){return Me}),a.d(p,"i",function(){return s}),a.d(p,"j",function(){return ze}),a.d(p,"k",function(){return $});var f,s,m,_,E,O,S,A={},P=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(K,J){for(var ie in J)K[ie]=J[ie];return K}function G(K){var J=K.parentNode;J&&J.removeChild(K)}function H(K,J,ie){var ve,Pe,xe,We={};for(xe in J)xe=="key"?ve=J[xe]:xe=="ref"?Pe=J[xe]:We[xe]=J[xe];if(arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ie),typeof K=="function"&&K.defaultProps!=null)for(xe in K.defaultProps)We[xe]===void 0&&(We[xe]=K.defaultProps[xe]);return I(K,We,ve,Pe,null)}function I(K,J,ie,ve,Pe){var xe={type:K,props:J,key:ie,ref:ve,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Pe==null?++m:Pe};return Pe==null&&s.vnode!=null&&s.vnode(xe),xe}function V(){return{current:null}}function Z(K){return K.children}function Y(K,J){this.props=K,this.context=J}function M(K,J){if(J==null)return K.__?M(K.__,K.__.__k.indexOf(K)+1):null;for(var ie;J<K.__k.length;J++)if((ie=K.__k[J])!=null&&ie.__e!=null)return ie.__e;return typeof K.type=="function"?M(K):null}function z(K){var J,ie;if((K=K.__)!=null&&K.__c!=null){for(K.__e=K.__c.base=null,J=0;J<K.__k.length;J++)if((ie=K.__k[J])!=null&&ie.__e!=null){K.__e=K.__c.base=ie.__e;break}return z(K)}}function k(K){(!K.__d&&(K.__d=!0)&&_.push(K)&&!L.__r++||O!==s.debounceRendering)&&((O=s.debounceRendering)||E)(L)}function L(){for(var K;L.__r=_.length;)K=_.sort(function(J,ie){return J.__v.__b-ie.__v.__b}),_=[],K.some(function(J){var ie,ve,Pe,xe,We,He;J.__d&&(We=(xe=(ie=J).__v).__e,(He=ie.__P)&&(ve=[],(Pe=R({},xe)).__v=xe.__v+1,fe(He,xe,Pe,ie.__n,He.ownerSVGElement!==void 0,xe.__h!=null?[We]:null,ve,We==null?M(xe):We,xe.__h),ue(ve,xe),xe.__e!=We&&z(xe)))})}function F(K,J,ie,ve,Pe,xe,We,He,Je,Ye){var de,q,Be,Le,Ke,Dt,it,lt=ve&&ve.__k||P,ht=lt.length;for(ie.__k=[],de=0;de<J.length;de++)if((Le=ie.__k[de]=(Le=J[de])==null||typeof Le=="boolean"?null:typeof Le=="string"||typeof Le=="number"||typeof Le=="bigint"?I(null,Le,null,null,Le):Array.isArray(Le)?I(Z,{children:Le},null,null,null):Le.__b>0?I(Le.type,Le.props,Le.key,null,Le.__v):Le)!=null){if(Le.__=ie,Le.__b=ie.__b+1,(Be=lt[de])===null||Be&&Le.key==Be.key&&Le.type===Be.type)lt[de]=void 0;else for(q=0;q<ht;q++){if((Be=lt[q])&&Le.key==Be.key&&Le.type===Be.type){lt[q]=void 0;break}Be=null}fe(K,Le,Be=Be||A,Pe,xe,We,He,Je,Ye),Ke=Le.__e,(q=Le.ref)&&Be.ref!=q&&(it||(it=[]),Be.ref&&it.push(Be.ref,null,Le),it.push(q,Le.__c||Ke,Le)),Ke!=null?(Dt==null&&(Dt=Ke),typeof Le.type=="function"&&Le.__k===Be.__k?Le.__d=Je=te(Le,Je,K):Je=ae(K,Le,Be,lt,Ke,Je),typeof ie.type=="function"&&(ie.__d=Je)):Je&&Be.__e==Je&&Je.parentNode!=K&&(Je=M(Be))}for(ie.__e=Dt,de=ht;de--;)lt[de]!=null&&(typeof ie.type=="function"&&lt[de].__e!=null&&lt[de].__e==ie.__d&&(ie.__d=M(ve,de+1)),ke(lt[de],lt[de]));if(it)for(de=0;de<it.length;de++)we(it[de],it[++de],it[++de])}function te(K,J,ie){for(var ve,Pe=K.__k,xe=0;Pe&&xe<Pe.length;xe++)(ve=Pe[xe])&&(ve.__=K,J=typeof ve.type=="function"?te(ve,J,ie):ae(ie,ve,ve,Pe,ve.__e,J));return J}function $(K,J){return J=J||[],K==null||typeof K=="boolean"||(Array.isArray(K)?K.some(function(ie){$(ie,J)}):J.push(K)),J}function ae(K,J,ie,ve,Pe,xe){var We,He,Je;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(ie==null||Pe!=xe||Pe.parentNode==null)e:if(xe==null||xe.parentNode!==K)K.appendChild(Pe),We=null;else{for(He=xe,Je=0;(He=He.nextSibling)&&Je<ve.length;Je+=2)if(He==Pe)break e;K.insertBefore(Pe,xe),We=xe}return We!==void 0?We:Pe.nextSibling}function ge(K,J,ie){J[0]==="-"?K.setProperty(J,ie):K[J]=ie==null?"":typeof ie!="number"||C.test(J)?ie:ie+"px"}function be(K,J,ie,ve,Pe){var xe;e:if(J==="style")if(typeof ie=="string")K.style.cssText=ie;else{if(typeof ve=="string"&&(K.style.cssText=ve=""),ve)for(J in ve)ie&&J in ie||ge(K.style,J,"");if(ie)for(J in ie)ve&&ie[J]===ve[J]||ge(K.style,J,ie[J])}else if(J[0]==="o"&&J[1]==="n")xe=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in K?J.toLowerCase().slice(2):J.slice(2),K.l||(K.l={}),K.l[J+xe]=ie,ie?ve||K.addEventListener(J,xe?je:ye,xe):K.removeEventListener(J,xe?je:ye,xe);else if(J!=="dangerouslySetInnerHTML"){if(Pe)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in K)try{K[J]=ie==null?"":ie;break e}catch{}typeof ie=="function"||(ie!=null&&(ie!==!1||J[0]==="a"&&J[1]==="r")?K.setAttribute(J,ie):K.removeAttribute(J))}}function ye(K){this.l[K.type+!1](s.event?s.event(K):K)}function je(K){this.l[K.type+!0](s.event?s.event(K):K)}function fe(K,J,ie,ve,Pe,xe,We,He,Je){var Ye,de,q,Be,Le,Ke,Dt,it,lt,ht,Ft,U=J.type;if(J.constructor!==void 0)return null;ie.__h!=null&&(Je=ie.__h,He=J.__e=ie.__e,J.__h=null,xe=[He]),(Ye=s.__b)&&Ye(J);try{e:if(typeof U=="function"){if(it=J.props,lt=(Ye=U.contextType)&&ve[Ye.__c],ht=Ye?lt?lt.props.value:Ye.__:ve,ie.__c?Dt=(de=J.__c=ie.__c).__=de.__E:("prototype"in U&&U.prototype.render?J.__c=de=new U(it,ht):(J.__c=de=new Y(it,ht),de.constructor=U,de.render=Ce),lt&&lt.sub(de),de.props=it,de.state||(de.state={}),de.context=ht,de.__n=ve,q=de.__d=!0,de.__h=[]),de.__s==null&&(de.__s=de.state),U.getDerivedStateFromProps!=null&&(de.__s==de.state&&(de.__s=R({},de.__s)),R(de.__s,U.getDerivedStateFromProps(it,de.__s))),Be=de.props,Le=de.state,q)U.getDerivedStateFromProps==null&&de.componentWillMount!=null&&de.componentWillMount(),de.componentDidMount!=null&&de.__h.push(de.componentDidMount);else{if(U.getDerivedStateFromProps==null&&it!==Be&&de.componentWillReceiveProps!=null&&de.componentWillReceiveProps(it,ht),!de.__e&&de.shouldComponentUpdate!=null&&de.shouldComponentUpdate(it,de.__s,ht)===!1||J.__v===ie.__v){de.props=it,de.state=de.__s,J.__v!==ie.__v&&(de.__d=!1),de.__v=J,J.__e=ie.__e,J.__k=ie.__k,J.__k.forEach(function(Q){Q&&(Q.__=J)}),de.__h.length&&We.push(de);break e}de.componentWillUpdate!=null&&de.componentWillUpdate(it,de.__s,ht),de.componentDidUpdate!=null&&de.__h.push(function(){de.componentDidUpdate(Be,Le,Ke)})}de.context=ht,de.props=it,de.state=de.__s,(Ye=s.__r)&&Ye(J),de.__d=!1,de.__v=J,de.__P=K,Ye=de.render(de.props,de.state,de.context),de.state=de.__s,de.getChildContext!=null&&(ve=R(R({},ve),de.getChildContext())),q||de.getSnapshotBeforeUpdate==null||(Ke=de.getSnapshotBeforeUpdate(Be,Le)),Ft=Ye!=null&&Ye.type===Z&&Ye.key==null?Ye.props.children:Ye,F(K,Array.isArray(Ft)?Ft:[Ft],J,ie,ve,Pe,xe,We,He,Je),de.base=J.__e,J.__h=null,de.__h.length&&We.push(de),Dt&&(de.__E=de.__=null),de.__e=!1}else xe==null&&J.__v===ie.__v?(J.__k=ie.__k,J.__e=ie.__e):J.__e=_e(ie.__e,J,ie,ve,Pe,xe,We,Je);(Ye=s.diffed)&&Ye(J)}catch(Q){J.__v=null,(Je||xe!=null)&&(J.__e=He,J.__h=!!Je,xe[xe.indexOf(He)]=null),s.__e(Q,J,ie)}}function ue(K,J){s.__c&&s.__c(J,K),K.some(function(ie){try{K=ie.__h,ie.__h=[],K.some(function(ve){ve.call(ie)})}catch(ve){s.__e(ve,ie.__v)}})}function _e(K,J,ie,ve,Pe,xe,We,He){var Je,Ye,de,q=ie.props,Be=J.props,Le=J.type,Ke=0;if(Le==="svg"&&(Pe=!0),xe!=null){for(;Ke<xe.length;Ke++)if((Je=xe[Ke])&&"setAttribute"in Je==!!Le&&(Le?Je.localName===Le:Je.nodeType===3)){K=Je,xe[Ke]=null;break}}if(K==null){if(Le===null)return document.createTextNode(Be);K=Pe?document.createElementNS("http://www.w3.org/2000/svg",Le):document.createElement(Le,Be.is&&Be),xe=null,He=!1}if(Le===null)q===Be||He&&K.data===Be||(K.data=Be);else{if(xe=xe&&f.call(K.childNodes),Ye=(q=ie.props||A).dangerouslySetInnerHTML,de=Be.dangerouslySetInnerHTML,!He){if(xe!=null)for(q={},Ke=0;Ke<K.attributes.length;Ke++)q[K.attributes[Ke].name]=K.attributes[Ke].value;(de||Ye)&&(de&&(Ye&&de.__html==Ye.__html||de.__html===K.innerHTML)||(K.innerHTML=de&&de.__html||""))}if(function(Dt,it,lt,ht,Ft){var U;for(U in lt)U==="children"||U==="key"||U in it||be(Dt,U,null,lt[U],ht);for(U in it)Ft&&typeof it[U]!="function"||U==="children"||U==="key"||U==="value"||U==="checked"||lt[U]===it[U]||be(Dt,U,it[U],lt[U],ht)}(K,Be,q,Pe,He),de)J.__k=[];else if(Ke=J.props.children,F(K,Array.isArray(Ke)?Ke:[Ke],J,ie,ve,Pe&&Le!=="foreignObject",xe,We,xe?xe[0]:ie.__k&&M(ie,0),He),xe!=null)for(Ke=xe.length;Ke--;)xe[Ke]!=null&&G(xe[Ke]);He||("value"in Be&&(Ke=Be.value)!==void 0&&(Ke!==q.value||Ke!==K.value||Le==="progress"&&!Ke)&&be(K,"value",Ke,q.value,!1),"checked"in Be&&(Ke=Be.checked)!==void 0&&Ke!==K.checked&&be(K,"checked",Ke,q.checked,!1))}return K}function we(K,J,ie){try{typeof K=="function"?K(J):K.current=J}catch(ve){s.__e(ve,ie)}}function ke(K,J,ie){var ve,Pe;if(s.unmount&&s.unmount(K),(ve=K.ref)&&(ve.current&&ve.current!==K.__e||we(ve,null,J)),(ve=K.__c)!=null){if(ve.componentWillUnmount)try{ve.componentWillUnmount()}catch(xe){s.__e(xe,J)}ve.base=ve.__P=null}if(ve=K.__k)for(Pe=0;Pe<ve.length;Pe++)ve[Pe]&&ke(ve[Pe],J,typeof K.type!="function");ie||K.__e==null||G(K.__e),K.__e=K.__d=void 0}function Ce(K,J,ie){return this.constructor(K,ie)}function ze(K,J,ie){var ve,Pe,xe;s.__&&s.__(K,J),Pe=(ve=typeof ie=="function")?null:ie&&ie.__k||J.__k,xe=[],fe(J,K=(!ve&&ie||J).__k=H(Z,null,[K]),Pe||A,A,J.ownerSVGElement!==void 0,!ve&&ie?[ie]:Pe?null:J.firstChild?f.call(J.childNodes):null,xe,!ve&&ie?ie:Pe?Pe.__e:J.firstChild,ve),ue(xe,K)}function Me(K,J){ze(K,J,Me)}function Xe(K,J,ie){var ve,Pe,xe,We=R({},K.props);for(xe in J)xe=="key"?ve=J[xe]:xe=="ref"?Pe=J[xe]:We[xe]=J[xe];return arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ie),I(K.type,We,ve||K.key,Pe||K.ref,null)}function ct(K,J){var ie={__c:J="__cC"+S++,__:K,Consumer:function(ve,Pe){return ve.children(Pe)},Provider:function(ve){var Pe,xe;return this.getChildContext||(Pe=[],(xe={})[J]=this,this.getChildContext=function(){return xe},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Pe.some(k)},this.sub=function(We){Pe.push(We);var He=We.componentWillUnmount;We.componentWillUnmount=function(){Pe.splice(Pe.indexOf(We),1),He&&He.call(We)}}),ve.children}};return ie.Provider.__=ie.Consumer.contextType=ie}f=P.slice,s={__e:function(K,J){for(var ie,ve,Pe;J=J.__;)if((ie=J.__c)&&!ie.__)try{if((ve=ie.constructor)&&ve.getDerivedStateFromError!=null&&(ie.setState(ve.getDerivedStateFromError(K)),Pe=ie.__d),ie.componentDidCatch!=null&&(ie.componentDidCatch(K),Pe=ie.__d),Pe)return ie.__E=ie}catch(xe){K=xe}throw K}},m=0,Y.prototype.setState=function(K,J){var ie;ie=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof K=="function"&&(K=K(R({},ie),this.props)),K&&R(ie,K),K!=null&&this.__v&&(J&&this.__h.push(J),k(this))},Y.prototype.forceUpdate=function(K){this.__v&&(this.__e=!0,K&&this.__h.push(K),k(this))},Y.prototype.render=Z,_=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,S=0},function(c,p,a){var f=a(113),s=a(46),m=a(172);f||s(Object.prototype,"toString",m,{unsafe:!0})},function(c,p,a){var f=a(39),s=a(75),m=a(66),_=a(59),E=a(107),O=_.set,S=_.getterFor("Array Iterator");c.exports=E(Array,"Array",function(A,P){O(this,{type:"Array Iterator",target:f(A),index:0,kind:P})},function(){var A=S(this),P=A.target,C=A.kind,R=A.index++;return!P||R>=P.length?(A.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:R,done:!1}:C=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),m.Arguments=m.Array,s("keys"),s("values"),s("entries")},function(c,p,a){var f=a(19),s=a(10),m=a(49),_=a(95),E=a(34),O=a(17),S=a(77),A=a(33),P=a(103),C=a(21),R=a(32),G=a(93),H=a(28),I=a(30),V=a(56),Z=a(82),Y=a(29),M=a(37),z=a(39),k=a(81),L=a(38),F=a(67),te=a(52),$=a(63),ae=a(68),ge=a(132),be=a(108),ye=a(54),je=a(35),fe=a(86),ue=a(116),_e=a(46),we=a(76),ke=a(85),Ce=a(65),ze=a(78),Me=a(26),Xe=a(143),ct=a(144),K=a(89),J=a(59),ie=a(69).forEach,ve=ke("hidden"),Pe=Me("toPrimitive"),xe=J.set,We=J.getterFor("Symbol"),He=Object.prototype,Je=s.Symbol,Ye=Je&&Je.prototype,de=s.TypeError,q=s.QObject,Be=m("JSON","stringify"),Le=ye.f,Ke=je.f,Dt=ge.f,it=fe.f,lt=O([].push),ht=we("symbols"),Ft=we("op-symbols"),U=we("string-to-symbol-registry"),Q=we("symbol-to-string-registry"),ce=we("wks"),Ee=!q||!q.prototype||!q.prototype.findChild,$e=A&&C(function(){return te(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!=7})?function(Ne,Fe,Qe){var ft=Le(He,Fe);ft&&delete He[Fe],Ke(Ne,Fe,Qe),ft&&Ne!==He&&Ke(He,Fe,ft)}:Ke,Ge=function(Ne,Fe){var Qe=ht[Ne]=te(Ye);return xe(Qe,{type:"Symbol",tag:Ne,description:Fe}),A||(Qe.description=Fe),Qe},et=function(Ne,Fe,Qe){Ne===He&&et(Ft,Fe,Qe),Y(Ne);var ft=k(Fe);return Y(Qe),R(ht,ft)?(Qe.enumerable?(R(Ne,ve)&&Ne[ve][ft]&&(Ne[ve][ft]=!1),Qe=te(Qe,{enumerable:F(0,!1)})):(R(Ne,ve)||Ke(Ne,ve,F(1,{})),Ne[ve][ft]=!0),$e(Ne,ft,Qe)):Ke(Ne,ft,Qe)},yt=function(Ne,Fe){Y(Ne);var Qe=z(Fe),ft=$(Qe).concat(An(Qe));return ie(ft,function(xt){A&&!E(At,Qe,xt)||et(Ne,xt,Qe[xt])}),Ne},At=function(Ne){var Fe=k(Ne),Qe=E(it,this,Fe);return!(this===He&&R(ht,Fe)&&!R(Ft,Fe))&&(!(Qe||!R(this,Fe)||!R(ht,Fe)||R(this,ve)&&this[ve][Fe])||Qe)},Bt=function(Ne,Fe){var Qe=z(Ne),ft=k(Fe);if(Qe!==He||!R(ht,ft)||R(Ft,ft)){var xt=Le(Qe,ft);return!xt||!R(ht,ft)||R(Qe,ve)&&Qe[ve][ft]||(xt.enumerable=!0),xt}},Gn=function(Ne){var Fe=Dt(z(Ne)),Qe=[];return ie(Fe,function(ft){R(ht,ft)||R(Ce,ft)||lt(Qe,ft)}),Qe},An=function(Ne){var Fe=Ne===He,Qe=Dt(Fe?Ft:z(Ne)),ft=[];return ie(Qe,function(xt){!R(ht,xt)||Fe&&!R(He,xt)||lt(ft,ht[xt])}),ft};if(P||(_e(Ye=(Je=function(){if(V(Ye,this))throw de("Symbol is not a constructor");var Ne=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Fe=ze(Ne),Qe=function(ft){this===He&&E(Qe,Ft,ft),R(this,ve)&&R(this[ve],Fe)&&(this[ve][Fe]=!1),$e(this,Fe,F(1,ft))};return A&&Ee&&$e(He,Fe,{configurable:!0,set:Qe}),Ge(Fe,Ne)}).prototype,"toString",function(){return We(this).tag}),_e(Je,"withoutSetter",function(Ne){return Ge(ze(Ne),Ne)}),fe.f=At,je.f=et,ye.f=Bt,ae.f=ge.f=Gn,be.f=An,Xe.f=function(Ne){return Ge(Me(Ne),Ne)},A&&(Ke(Ye,"description",{configurable:!0,get:function(){return We(this).description}}),S||_e(He,"propertyIsEnumerable",At,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:Je}),ie($(ce),function(Ne){ct(Ne)}),f({target:"Symbol",stat:!0,forced:!P},{for:function(Ne){var Fe=L(Ne);if(R(U,Fe))return U[Fe];var Qe=Je(Fe);return U[Fe]=Qe,Q[Qe]=Fe,Qe},keyFor:function(Ne){if(!Z(Ne))throw de(Ne+" is not a symbol");if(R(Q,Ne))return Q[Ne]},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),f({target:"Object",stat:!0,forced:!P,sham:!A},{create:function(Ne,Fe){return Fe===void 0?te(Ne):yt(te(Ne),Fe)},defineProperty:et,defineProperties:yt,getOwnPropertyDescriptor:Bt}),f({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:Gn,getOwnPropertySymbols:An}),f({target:"Object",stat:!0,forced:C(function(){be.f(1)})},{getOwnPropertySymbols:function(Ne){return be.f(M(Ne))}}),Be&&f({target:"JSON",stat:!0,forced:!P||C(function(){var Ne=Je();return Be([Ne])!="[null]"||Be({a:Ne})!="{}"||Be(Object(Ne))!="{}"})},{stringify:function(Ne,Fe,Qe){var ft=ue(arguments),xt=Fe;if((I(Fe)||Ne!==void 0)&&!Z(Ne))return G(Fe)||(Fe=function(Rt,$t){if(H(xt)&&($t=E(xt,this,Rt,$t)),!Z($t))return $t}),ft[1]=Fe,_(Be,null,ft)}}),!Ye[Pe]){var bt=Ye.valueOf;_e(Ye,Pe,function(Ne){return E(bt,this)})}K(Je,"Symbol"),Ce[ve]=!0},function(c,p,a){var f=a(10),s=a(141),m=a(142),_=a(3),E=a(53),O=a(26),S=O("iterator"),A=O("toStringTag"),P=_.values,C=function(G,H){if(G){if(G[S]!==P)try{E(G,S,P)}catch{G[S]=P}if(G[A]||E(G,A,H),s[H]){for(var I in _)if(G[I]!==_[I])try{E(G,I,_[I])}catch{G[I]=_[I]}}}};for(var R in s)C(f[R]&&f[R].prototype,R);C(m,"DOMTokenList")},function(c,p,a){var f=a(140).charAt,s=a(38),m=a(59),_=a(107),E=m.set,O=m.getterFor("String Iterator");_(String,"String",function(S){E(this,{type:"String Iterator",string:s(S),index:0})},function(){var S,A=O(this),P=A.string,C=A.index;return C>=P.length?{value:void 0,done:!0}:(S=f(P,C),A.index+=S.length,{value:S,done:!1})})},function(c,p,a){var f=a(19),s=a(33),m=a(10),_=a(17),E=a(32),O=a(28),S=a(56),A=a(38),P=a(35).f,C=a(127),R=m.Symbol,G=R&&R.prototype;if(s&&O(R)&&(!("description"in G)||R().description!==void 0)){var H={},I=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),F=S(G,this)?new R(L):L===void 0?R():R(L);return L===""&&(H[F]=!0),F};C(I,R),I.prototype=G,G.constructor=I;var V=String(R("test"))=="Symbol(test)",Z=_(G.toString),Y=_(G.valueOf),M=/^Symbol\((.*)\)[^)]+$/,z=_("".replace),k=_("".slice);P(G,"description",{configurable:!0,get:function(){var L=Y(this),F=Z(L);if(E(H,L))return"";var te=V?k(F,7,-1):z(F,M,"$1");return te===""?void 0:te}}),f({global:!0,forced:!0},{Symbol:I})}},function(c,p,a){a(144)("iterator")},function(c,p,a){var f=a(10),s=a(141),m=a(142),_=a(173),E=a(53),O=function(A){if(A&&A.forEach!==_)try{E(A,"forEach",_)}catch{A.forEach=_}};for(var S in s)s[S]&&O(f[S]&&f[S].prototype);O(m)},function(c,p,a){(function(f){var s=function(m){return m&&m.Math==Math&&m};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,a(74))},function(c,p,a){a.d(p,"a",function(){return _.a}),a.d(p,"c",function(){return _.e}),a.d(p,"h",function(){return M}),a.d(p,"i",function(){return V}),a.d(p,"j",function(){return H}),a.d(p,"b",function(){return ye}),a.d(p,"e",function(){return _e}),a.d(p,"f",function(){return je}),a.d(p,"g",function(){return lt});var f,s,m,_=a(1),E=0,O=[],S=_.i.__b,A=_.i.__r,P=_.i.diffed,C=_.i.__c,R=_.i.unmount;function G(U,Q){_.i.__h&&_.i.__h(s,U,E||Q),E=0;var ce=s.__H||(s.__H={__:[],__h:[]});return U>=ce.__.length&&ce.__.push({}),ce.__[U]}function H(U){return E=1,I(ae,U)}function I(U,Q,ce){var Ee=G(f++,2);return Ee.t=U,Ee.__c||(Ee.__=[ce?ce(Q):ae(void 0,Q),function($e){var Ge=Ee.t(Ee.__[0],$e);Ee.__[0]!==Ge&&(Ee.__=[Ge,Ee.__[1]],Ee.__c.setState({}))}],Ee.__c=s),Ee.__}function V(U,Q){var ce=G(f++,3);!_.i.__s&&$(ce.__H,Q)&&(ce.__=U,ce.__H=Q,s.__H.__h.push(ce))}function Z(U,Q){var ce=G(f++,4);!_.i.__s&&$(ce.__H,Q)&&(ce.__=U,ce.__H=Q,s.__h.push(ce))}function Y(U,Q){var ce=G(f++,7);return $(ce.__H,Q)&&(ce.__=U(),ce.__H=Q,ce.__h=U),ce.__}function M(U,Q){return E=8,Y(function(){return U},Q)}function z(){var U;for(O.sort(function(Q,ce){return Q.__v.__b-ce.__v.__b});U=O.pop();)if(U.__P)try{U.__H.__h.forEach(F),U.__H.__h.forEach(te),U.__H.__h=[]}catch(Q){U.__H.__h=[],_.i.__e(Q,U.__v)}}_.i.__b=function(U){s=null,S&&S(U)},_.i.__r=function(U){A&&A(U),f=0;var Q=(s=U.__c).__H;Q&&(Q.__h.forEach(F),Q.__h.forEach(te),Q.__h=[])},_.i.diffed=function(U){P&&P(U);var Q=U.__c;Q&&Q.__H&&Q.__H.__h.length&&(O.push(Q)!==1&&m===_.i.requestAnimationFrame||((m=_.i.requestAnimationFrame)||L)(z)),s=null},_.i.__c=function(U,Q){Q.some(function(ce){try{ce.__h.forEach(F),ce.__h=ce.__h.filter(function(Ee){return!Ee.__||te(Ee)})}catch(Ee){Q.some(function($e){$e.__h&&($e.__h=[])}),Q=[],_.i.__e(Ee,ce.__v)}}),C&&C(U,Q)},_.i.unmount=function(U){R&&R(U);var Q,ce=U.__c;ce&&ce.__H&&(ce.__H.__.forEach(function(Ee){try{F(Ee)}catch($e){Q=$e}}),Q&&_.i.__e(Q,ce.__v))};var k=typeof requestAnimationFrame=="function";function L(U){var Q,ce=function(){clearTimeout(Ee),k&&cancelAnimationFrame(Q),setTimeout(U)},Ee=setTimeout(ce,100);k&&(Q=requestAnimationFrame(ce))}function F(U){var Q=s,ce=U.__c;typeof ce=="function"&&(U.__c=void 0,ce()),s=Q}function te(U){var Q=s;U.__c=U.__(),s=Q}function $(U,Q){return!U||U.length!==Q.length||Q.some(function(ce,Ee){return ce!==U[Ee]})}function ae(U,Q){return typeof Q=="function"?Q(U):Q}function ge(U,Q){for(var ce in Q)U[ce]=Q[ce];return U}function be(U,Q){for(var ce in U)if(ce!=="__source"&&!(ce in Q))return!0;for(var Ee in Q)if(Ee!=="__source"&&U[Ee]!==Q[Ee])return!0;return!1}function ye(U){this.props=U}function je(U,Q){function ce($e){var Ge=this.props.ref,et=Ge==$e.ref;return!et&&Ge&&(Ge.call?Ge(null):Ge.current=null),Q?!Q(this.props,$e)||!et:be(this.props,$e)}function Ee($e){return this.shouldComponentUpdate=ce,Object(_.e)(U,$e)}return Ee.displayName="Memo("+(U.displayName||U.name)+")",Ee.prototype.isReactComponent=!0,Ee.__f=!0,Ee}(ye.prototype=new _.a).isPureReactComponent=!0,ye.prototype.shouldComponentUpdate=function(U,Q){return be(this.props,U)||be(this.state,Q)};var fe=_.i.__b;_.i.__b=function(U){U.type&&U.type.__f&&U.ref&&(U.props.ref=U.ref,U.ref=null),fe&&fe(U)};var ue=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _e(U){function Q(ce,Ee){var $e=ge({},ce);return delete $e.ref,U($e,!(Ee=ce.ref||Ee)||typeof Ee=="object"&&!("current"in Ee)?null:Ee)}return Q.$$typeof=ue,Q.render=Q,Q.prototype.isReactComponent=Q.__f=!0,Q.displayName="ForwardRef("+(U.displayName||U.name)+")",Q}var we=function(U,Q){return U==null?null:Object(_.k)(Object(_.k)(U).map(Q))},ke={map:we,forEach:we,count:function(U){return U?Object(_.k)(U).length:0},only:function(U){var Q=Object(_.k)(U);if(Q.length!==1)throw"Children.only";return Q[0]},toArray:_.k},Ce=_.i.__e;_.i.__e=function(U,Q,ce){if(U.then){for(var Ee,$e=Q;$e=$e.__;)if((Ee=$e.__c)&&Ee.__c)return Q.__e==null&&(Q.__e=ce.__e,Q.__k=ce.__k),Ee.__c(U,Q)}Ce(U,Q,ce)};var ze=_.i.unmount;function Me(){this.__u=0,this.t=null,this.__b=null}function Xe(U){var Q=U.__.__c;return Q&&Q.__e&&Q.__e(U)}function ct(){this.u=null,this.o=null}_.i.unmount=function(U){var Q=U.__c;Q&&Q.__R&&Q.__R(),Q&&U.__h===!0&&(U.type=null),ze&&ze(U)},(Me.prototype=new _.a).__c=function(U,Q){var ce=Q.__c,Ee=this;Ee.t==null&&(Ee.t=[]),Ee.t.push(ce);var $e=Xe(Ee.__v),Ge=!1,et=function(){Ge||(Ge=!0,ce.__R=null,$e?$e(yt):yt())};ce.__R=et;var yt=function(){if(!--Ee.__u){if(Ee.state.__e){var Bt=Ee.state.__e;Ee.__v.__k[0]=function An(bt,Ne,Fe){return bt&&(bt.__v=null,bt.__k=bt.__k&&bt.__k.map(function(Qe){return An(Qe,Ne,Fe)}),bt.__c&&bt.__c.__P===Ne&&(bt.__e&&Fe.insertBefore(bt.__e,bt.__d),bt.__c.__e=!0,bt.__c.__P=Fe)),bt}(Bt,Bt.__c.__P,Bt.__c.__O)}var Gn;for(Ee.setState({__e:Ee.__b=null});Gn=Ee.t.pop();)Gn.forceUpdate()}},At=Q.__h===!0;Ee.__u++||At||Ee.setState({__e:Ee.__b=Ee.__v.__k[0]}),U.then(et,et)},Me.prototype.componentWillUnmount=function(){this.t=[]},Me.prototype.render=function(U,Q){if(this.__b){if(this.__v.__k){var ce=document.createElement("div"),Ee=this.__v.__k[0].__c;this.__v.__k[0]=function Ge(et,yt,At){return et&&(et.__c&&et.__c.__H&&(et.__c.__H.__.forEach(function(Bt){typeof Bt.__c=="function"&&Bt.__c()}),et.__c.__H=null),(et=ge({},et)).__c!=null&&(et.__c.__P===At&&(et.__c.__P=yt),et.__c=null),et.__k=et.__k&&et.__k.map(function(Bt){return Ge(Bt,yt,At)})),et}(this.__b,ce,Ee.__O=Ee.__P)}this.__b=null}var $e=Q.__e&&Object(_.e)(_.b,null,U.fallback);return $e&&($e.__h=null),[Object(_.e)(_.b,null,Q.__e?null:U.children),$e]};var K=function(U,Q,ce){if(++ce[1]===ce[0]&&U.o.delete(Q),U.props.revealOrder&&(U.props.revealOrder[0]!=="t"||!U.o.size))for(ce=U.u;ce;){for(;ce.length>3;)ce.pop()();if(ce[1]<ce[0])break;U.u=ce=ce[2]}};function J(U){return this.getChildContext=function(){return U.context},U.children}function ie(U){var Q=this,ce=U.i;Q.componentWillUnmount=function(){Object(_.j)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==ce&&Q.componentWillUnmount(),U.__v?(Q.l||(Q.i=ce,Q.l={nodeType:1,parentNode:ce,childNodes:[],appendChild:function(Ee){this.childNodes.push(Ee),Q.i.appendChild(Ee)},insertBefore:function(Ee,$e){this.childNodes.push(Ee),Q.i.appendChild(Ee)},removeChild:function(Ee){this.childNodes.splice(this.childNodes.indexOf(Ee)>>>1,1),Q.i.removeChild(Ee)}}),Object(_.j)(Object(_.e)(J,{context:Q.context},U.__v),Q.l)):Q.l&&Q.componentWillUnmount()}(ct.prototype=new _.a).__e=function(U){var Q=this,ce=Xe(Q.__v),Ee=Q.o.get(U);return Ee[0]++,function($e){var Ge=function(){Q.props.revealOrder?(Ee.push($e),K(Q,U,Ee)):$e()};ce?ce(Ge):Ge()}},ct.prototype.render=function(U){this.u=null,this.o=new Map;var Q=Object(_.k)(U.children);U.revealOrder&&U.revealOrder[0]==="b"&&Q.reverse();for(var ce=Q.length;ce--;)this.o.set(Q[ce],this.u=[1,0,this.u]);return U.children},ct.prototype.componentDidUpdate=ct.prototype.componentDidMount=function(){var U=this;this.o.forEach(function(Q,ce){K(U,ce,Q)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Pe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,xe=typeof document!="undefined",We=function(U){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(U)};_.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(U){Object.defineProperty(_.a.prototype,U,{configurable:!0,get:function(){return this["UNSAFE_"+U]},set:function(Q){Object.defineProperty(this,U,{configurable:!0,writable:!0,value:Q})}})});var He=_.i.event;function Je(){}function Ye(){return this.cancelBubble}function de(){return this.defaultPrevented}_.i.event=function(U){return He&&(U=He(U)),U.persist=Je,U.isPropagationStopped=Ye,U.isDefaultPrevented=de,U.nativeEvent=U};var q,Be={configurable:!0,get:function(){return this.class}},Le=_.i.vnode;_.i.vnode=function(U){var Q=U.type,ce=U.props,Ee=ce;if(typeof Q=="string"){var $e=Q.indexOf("-")===-1;for(var Ge in Ee={},ce){var et=ce[Ge];xe&&Ge==="children"&&Q==="noscript"||Ge==="value"&&"defaultValue"in ce&&et==null||(Ge==="defaultValue"&&"value"in ce&&ce.value==null?Ge="value":Ge==="download"&&et===!0?et="":/ondoubleclick/i.test(Ge)?Ge="ondblclick":/^onchange(textarea|input)/i.test(Ge+Q)&&!We(ce.type)?Ge="oninput":/^onfocus$/i.test(Ge)?Ge="onfocusin":/^onblur$/i.test(Ge)?Ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ge)?Ge=Ge.toLowerCase():$e&&Pe.test(Ge)?Ge=Ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():et===null&&(et=void 0),Ee[Ge]=et)}Q=="select"&&Ee.multiple&&Array.isArray(Ee.value)&&(Ee.value=Object(_.k)(ce.children).forEach(function(yt){yt.props.selected=Ee.value.indexOf(yt.props.value)!=-1})),Q=="select"&&Ee.defaultValue!=null&&(Ee.value=Object(_.k)(ce.children).forEach(function(yt){yt.props.selected=Ee.multiple?Ee.defaultValue.indexOf(yt.props.value)!=-1:Ee.defaultValue==yt.props.value})),U.props=Ee,ce.class!=ce.className&&(Be.enumerable="className"in ce,ce.className!=null&&(Ee.class=ce.className),Object.defineProperty(Ee,"className",Be))}U.$$typeof=ve,Le&&Le(U)};var Ke=_.i.__r;_.i.__r=function(U){Ke&&Ke(U),q=U.__c};var Dt={ReactCurrentDispatcher:{current:{readContext:function(U){return q.__n[U.__c].props.value}}}};function it(U){return!!U&&U.$$typeof===ve}var lt=function(U,Q){return U(Q)},ht=_.b,Ft={useState:H,useReducer:I,useEffect:V,useLayoutEffect:Z,useRef:function(U){return E=5,Y(function(){return{current:U}},[])},useImperativeHandle:function(U,Q,ce){E=6,Z(function(){typeof U=="function"?U(Q()):U&&(U.current=Q())},ce==null?ce:ce.concat(U))},useMemo:Y,useCallback:M,useContext:function(U){var Q=s.context[U.__c],ce=G(f++,9);return ce.c=U,Q?(ce.__==null&&(ce.__=!0,Q.sub(s)),Q.props.value):U.__},useDebugValue:function(U,Q){_.i.useDebugValue&&_.i.useDebugValue(Q?Q(U):U)},version:"17.0.2",Children:ke,render:function(U,Q,ce){return Q.__k==null&&(Q.textContent=""),Object(_.j)(U,Q),typeof ce=="function"&&ce(),U?U.__c:null},hydrate:function(U,Q,ce){return Object(_.h)(U,Q),typeof ce=="function"&&ce(),U?U.__c:null},unmountComponentAtNode:function(U){return!!U.__k&&(Object(_.j)(null,U),!0)},createPortal:function(U,Q){return Object(_.e)(ie,{__v:U,i:Q})},createElement:_.e,createContext:_.d,createFactory:function(U){return _.e.bind(null,U)},cloneElement:function(U){return it(U)?_.c.apply(null,arguments):U},createRef:_.f,Fragment:_.b,isValidElement:it,findDOMNode:function(U){return U&&(U.base||U.nodeType===1&&U)||null},Component:_.a,PureComponent:ye,memo:je,forwardRef:_e,flushSync:function(U,Q){return U(Q)},unstable_batchedUpdates:lt,StrictMode:ht,Suspense:Me,SuspenseList:ct,lazy:function(U){var Q,ce,Ee;function $e(Ge){if(Q||(Q=U()).then(function(et){ce=et.default||et},function(et){Ee=et}),Ee)throw Ee;if(!ce)throw Q;return Object(_.e)(ce,Ge)}return $e.displayName="Lazy",$e.__f=!0,$e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Dt};p.d=Ft},function(c,p,a){a(19)({target:"Object",stat:!0},{setPrototypeOf:a(110)})},function(c,p,a){var f=a(19),s=a(21),m=a(37),_=a(88),E=a(130);f({target:"Object",stat:!0,forced:s(function(){_(1)}),sham:!E},{getPrototypeOf:function(O){return _(m(O))}})},function(c,p,a){var f=a(19),s=a(49),m=a(95),_=a(192),E=a(150),O=a(29),S=a(30),A=a(52),P=a(21),C=s("Reflect","construct"),R=Object.prototype,G=[].push,H=P(function(){function Z(){}return!(C(function(){},[],Z)instanceof Z)}),I=!P(function(){C(function(){})}),V=H||I;f({target:"Reflect",stat:!0,forced:V,sham:V},{construct:function(Z,Y){E(Z),O(Y);var M=arguments.length<3?Z:E(arguments[2]);if(I&&!H)return C(Z,Y,M);if(Z==M){switch(Y.length){case 0:return new Z;case 1:return new Z(Y[0]);case 2:return new Z(Y[0],Y[1]);case 3:return new Z(Y[0],Y[1],Y[2]);case 4:return new Z(Y[0],Y[1],Y[2],Y[3])}var z=[null];return m(G,z,Y),new(m(_,Z,z))}var k=M.prototype,L=A(S(k)?k:R),F=m(Z,L,Y);return S(F)?F:L}})},function(c,p,a){var f=a(19),s=a(37),m=a(63);f({target:"Object",stat:!0,forced:a(21)(function(){m(1)})},{keys:function(_){return m(s(_))}})},function(c,p,a){var f=a(19),s=a(21),m=a(39),_=a(54).f,E=a(33),O=s(function(){_(1)});f({target:"Object",stat:!0,forced:!E||O,sham:!E},{getOwnPropertyDescriptor:function(S,A){return _(m(S),A)}})},function(c,p){var a=Function.prototype,f=a.bind,s=a.call,m=f&&f.bind(s);c.exports=f?function(_){return _&&m(s,_)}:function(_){return _&&function(){return s.apply(_,arguments)}}},function(c,p,a){var f=a(19),s=a(10),m=a(93),_=a(94),E=a(30),O=a(64),S=a(45),A=a(39),P=a(60),C=a(26),R=a(70),G=a(116),H=R("slice"),I=C("species"),V=s.Array,Z=Math.max;f({target:"Array",proto:!0,forced:!H},{slice:function(Y,M){var z,k,L,F=A(this),te=S(F),$=O(Y,te),ae=O(M===void 0?te:M,te);if(m(F)&&(z=F.constructor,(_(z)&&(z===V||m(z.prototype))||E(z)&&(z=z[I])===null)&&(z=void 0),z===V||z===void 0))return G(F,$,ae);for(k=new(z===void 0?V:z)(Z(ae-$,0)),L=0;$<ae;$++,L++)$ in F&&P(k,L,F[$]);return k.length=L,k}})},function(c,p,a){var f=a(10),s=a(54).f,m=a(53),_=a(46),E=a(102),O=a(127),S=a(109);c.exports=function(A,P){var C,R,G,H,I,V=A.target,Z=A.global,Y=A.stat;if(C=Z?f:Y?f[V]||E(V,{}):(f[V]||{}).prototype)for(R in P){if(H=P[R],G=A.noTargetGet?(I=s(C,R))&&I.value:C[R],!S(Z?R:V+(Y?".":"#")+R,A.forced)&&G!==void 0){if(typeof H==typeof G)continue;O(H,G)}(A.sham||G&&G.sham)&&m(H,"sham",!0),_(C,R,H,A)}}},function(c,p,a){var f=a(19),s=a(96);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p){c.exports=function(a){try{return!!a()}catch{return!0}}},function(c,p,a){var f=a(33),s=a(87).EXISTS,m=a(17),_=a(35).f,E=Function.prototype,O=m(E.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=m(S.exec);f&&!s&&_(E,"name",{configurable:!0,get:function(){try{return A(S,O(this))[1]}catch{return""}}})},function(c,p,a){var f=a(19),s=a(176);f({target:"Array",stat:!0,forced:!a(138)(function(m){Array.from(m)})},{from:s})},function(c,p,a){var f=a(19),s=a(69).filter;f({target:"Array",proto:!0,forced:!a(70)("filter")},{filter:function(m){return s(this,m,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(19),s=a(33),m=a(128),_=a(39),E=a(54),O=a(60);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(S){for(var A,P,C=_(S),R=E.f,G=m(C),H={},I=0;G.length>I;)(P=R(C,A=G[I++]))!==void 0&&O(H,A,P);return H}})},function(c,p,a){var f=a(10),s=a(76),m=a(32),_=a(78),E=a(103),O=a(122),S=s("wks"),A=f.Symbol,P=A&&A.for,C=O?A:A&&A.withoutSetter||_;c.exports=function(R){if(!m(S,R)||!E&&typeof S[R]!="string"){var G="Symbol."+R;E&&m(A,R)?S[R]=A[R]:S[R]=O&&P?P(G):C(G)}return S[R]}},function(c,p,a){var f=a(100),s=typeof self=="object"&&self&&self.Object===Object&&self,m=f.a||s||Function("return this")();p.a=m},function(c,p){c.exports=function(a){return typeof a=="function"}},function(c,p,a){var f=a(10),s=a(30),m=f.String,_=f.TypeError;c.exports=function(E){if(s(E))return E;throw _(m(E)+" is not an object")}},function(c,p,a){var f=a(28);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},,function(c,p,a){var f=a(17),s=a(37),m=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(_,E){return m(s(_),E)}},function(c,p,a){var f=a(21);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,p,a){var f=a(10),s=a(33),m=a(123),_=a(29),E=a(81),O=f.TypeError,S=Object.defineProperty;p.f=s?S:function(A,P,C){if(_(A),P=E(P),_(C),m)try{return S(A,P,C)}catch{}if("get"in C||"set"in C)throw O("Accessors not supported");return"value"in C&&(A[P]=C.value),A}},function(c,p,a){var f=a(19),s=a(10),m=a(21),_=a(93),E=a(30),O=a(37),S=a(45),A=a(60),P=a(114),C=a(70),R=a(26),G=a(79),H=R("isConcatSpreadable"),I=s.TypeError,V=G>=51||!m(function(){var M=[];return M[H]=!1,M.concat()[0]!==M}),Z=C("concat"),Y=function(M){if(!E(M))return!1;var z=M[H];return z!==void 0?!!z:_(M)};f({target:"Array",proto:!0,forced:!V||!Z},{concat:function(M){var z,k,L,F,te,$=O(this),ae=P($,0),ge=0;for(z=-1,L=arguments.length;z<L;z++)if(Y(te=z===-1?$:arguments[z])){if(ge+(F=S(te))>9007199254740991)throw I("Maximum allowed index exceeded");for(k=0;k<F;k++,ge++)k in te&&A(ae,ge,te[k])}else{if(ge>=9007199254740991)throw I("Maximum allowed index exceeded");A(ae,ge++,te)}return ae.length=ge,ae}})},function(c,p,a){var f=a(10),s=a(44),m=f.Object;c.exports=function(_){return m(s(_))}},function(c,p,a){var f=a(10),s=a(92),m=f.String;c.exports=function(_){if(s(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(_)}},function(c,p,a){var f=a(73),s=a(44);c.exports=function(m){return f(s(m))}},function(c,p,a){var f=a(19),s=a(69).map;f({target:"Array",proto:!0,forced:!a(70)("map")},{map:function(m){return s(this,m,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(19),s=a(193);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,a){var f=a(19),s=a(34),m=a(30),_=a(29),E=a(197),O=a(54),S=a(88);f({target:"Reflect",stat:!0},{get:function A(P,C){var R,G,H=arguments.length<3?P:arguments[2];return _(P)===H?P[C]:(R=O.f(P,C))?E(R)?R.value:R.get===void 0?void 0:s(R.get,H):m(G=S(P))?A(G,C,H):void 0}})},function(c,p,a){(function(f){a.d(p,"d",function(){return _}),a.d(p,"c",function(){return E}),a.d(p,"b",function(){return O}),a.d(p,"a",function(){return A});var s=a(11),m=function(P,C){var R=typeof Symbol=="function"&&P[Symbol.iterator];if(!R)return P;var G,H,I=R.call(P),V=[];try{for(;(C===void 0||C-- >0)&&!(G=I.next()).done;)V.push(G.value)}catch(Z){H={error:Z}}finally{try{G&&!G.done&&(R=I.return)&&R.call(I)}finally{if(H)throw H.error}}return V};function _(){var P=m(Object(s.j)(0),2)[1];return Object(s.h)(function(){P(function(C){return C+1})},[])}function E(P){if(!P||typeof P!="object")return!1;var C=Object.getPrototypeOf(P);return!C||C===Object.prototype}function O(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var S={};function A(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:S}}).call(this,a(74))},function(c,p,a){var f=a(10).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,a){var f=a(84);c.exports=function(s){return f(s.length)}},function(c,p,a){var f=a(10),s=a(28),m=a(32),_=a(53),E=a(102),O=a(106),S=a(59),A=a(87).CONFIGURABLE,P=S.get,C=S.enforce,R=String(String).split("String");(c.exports=function(G,H,I,V){var Z,Y=!!V&&!!V.unsafe,M=!!V&&!!V.enumerable,z=!!V&&!!V.noTargetGet,k=V&&V.name!==void 0?V.name:H;s(I)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(I,"name")||A&&I.name!==k)&&_(I,"name",k),(Z=C(I)).source||(Z.source=R.join(typeof k=="string"?k:""))),G!==f?(Y?!z&&G[H]&&(M=!0):delete G[H],M?G[H]=I:_(G,H,I)):M?G[H]=I:E(H,I)})(Function.prototype,"toString",function(){return s(this)&&P(this).source||O(this)})},function(c,p,a){var f=a(19),s=a(201),m=a(75);f({target:"Array",proto:!0},{fill:s}),m("fill")},function(c,p,a){(function(f){var s=a(100),m=y&&!y.nodeType&&y,_=m&&typeof f=="object"&&f&&!f.nodeType&&f,E=_&&_.exports===m&&s.a.process,O=function(){try{var S=_&&_.require&&_.require("util").types;return S||E&&E.binding&&E.binding("util")}catch{}}();p.a=O}).call(this,a(117)(c))},function(c,p,a){var f=a(10),s=a(28),m=function(_){return s(_)?_:void 0};c.exports=function(_,E){return arguments.length<2?m(f[_]):f[_]&&f[_][E]}},function(c,p,a){var f=a(19),s=a(200).entries;f({target:"Object",stat:!0},{entries:function(m){return s(m)}})},function(c,p,a){var f=a(17),s=f({}.toString),m=f("".slice);c.exports=function(_){return m(s(_),8,-1)}},function(c,p,a){var f,s=a(29),m=a(159),_=a(105),E=a(65),O=a(161),S=a(104),A=a(85),P=A("IE_PROTO"),C=function(){},R=function(I){return"<script>"+I+"<\/script>"},G=function(I){I.write(R("")),I.close();var V=I.parentWindow.Object;return I=null,V},H=function(){try{f=new ActiveXObject("htmlfile")}catch{}var I,V;H=typeof document!="undefined"?document.domain&&f?G(f):((V=S("iframe")).style.display="none",O.appendChild(V),V.src=String("javascript:"),(I=V.contentWindow.document).open(),I.write(R("document.F=Object")),I.close(),I.F):G(f);for(var Z=_.length;Z--;)delete H.prototype[_[Z]];return H()};E[P]=!0,c.exports=Object.create||function(I,V){var Z;return I!==null?(C.prototype=s(I),Z=new C,C.prototype=null,Z[P]=I):Z=H(),V===void 0?Z:m(Z,V)}},function(c,p,a){var f=a(33),s=a(35),m=a(67);c.exports=f?function(_,E,O){return s.f(_,E,m(1,O))}:function(_,E,O){return _[E]=O,_}},function(c,p,a){var f=a(33),s=a(34),m=a(86),_=a(67),E=a(39),O=a(81),S=a(32),A=a(123),P=Object.getOwnPropertyDescriptor;p.f=f?P:function(C,R){if(C=E(C),R=O(R),A)try{return P(C,R)}catch{}if(S(C,R))return _(!s(m.f,C,R),C[R])}},function(c,p,a){(function(f){var s=a(27),m=a(155),_=y&&!y.nodeType&&y,E=_&&typeof f=="object"&&f&&!f.nodeType&&f,O=E&&E.exports===_?s.a.Buffer:void 0,S=(O?O.isBuffer:void 0)||m.a;p.a=S}).call(this,a(117)(c))},function(c,p,a){var f=a(17);c.exports=f({}.isPrototypeOf)},function(c,p,a){var f=a(62);c.exports=function(s,m){var _=s[m];return _==null?void 0:f(_)}},function(c,p){var a=Math.ceil,f=Math.floor;c.exports=function(s){var m=+s;return m!=m||m===0?0:(m>0?f:a)(m)}},function(c,p,a){var f,s,m,_=a(162),E=a(10),O=a(17),S=a(30),A=a(53),P=a(32),C=a(101),R=a(85),G=a(65),H=E.TypeError,I=E.WeakMap;if(_||C.state){var V=C.state||(C.state=new I),Z=O(V.get),Y=O(V.has),M=O(V.set);f=function(k,L){if(Y(V,k))throw new H("Object already initialized");return L.facade=k,M(V,k,L),L},s=function(k){return Z(V,k)||{}},m=function(k){return Y(V,k)}}else{var z=R("state");G[z]=!0,f=function(k,L){if(P(k,z))throw new H("Object already initialized");return L.facade=k,A(k,z,L),L},s=function(k){return P(k,z)?k[z]:{}},m=function(k){return P(k,z)}}c.exports={set:f,get:s,has:m,enforce:function(k){return m(k)?s(k):f(k,{})},getterFor:function(k){return function(L){var F;if(!S(L)||(F=s(L)).type!==k)throw H("Incompatible receiver, "+k+" required");return F}}}},function(c,p,a){var f=a(81),s=a(35),m=a(67);c.exports=function(_,E,O){var S=f(E);S in _?s.f(_,S,m(0,O)):_[S]=O}},function(c,p,a){var f=a(95),s=a(34),m=a(17),_=a(118),E=a(148),O=a(29),S=a(44),A=a(189),P=a(119),C=a(84),R=a(38),G=a(57),H=a(111),I=a(120),V=a(96),Z=a(145),Y=a(21),M=Z.UNSUPPORTED_Y,z=Math.min,k=[].push,L=m(/./.exec),F=m(k),te=m("".slice);_("split",function($,ae,ge){var be;return be="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ye,je){var fe=R(S(this)),ue=je===void 0?4294967295:je>>>0;if(ue===0)return[];if(ye===void 0)return[fe];if(!E(ye))return s(ae,fe,ye,ue);for(var _e,we,ke,Ce=[],ze=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+(ye.sticky?"y":""),Me=0,Xe=new RegExp(ye.source,ze+"g");(_e=s(V,Xe,fe))&&!((we=Xe.lastIndex)>Me&&(F(Ce,te(fe,Me,_e.index)),_e.length>1&&_e.index<fe.length&&f(k,Ce,H(_e,1)),ke=_e[0].length,Me=we,Ce.length>=ue));)Xe.lastIndex===_e.index&&Xe.lastIndex++;return Me===fe.length?!ke&&L(Xe,"")||F(Ce,""):F(Ce,te(fe,Me)),Ce.length>ue?H(Ce,0,ue):Ce}:"0".split(void 0,0).length?function(ye,je){return ye===void 0&&je===0?[]:s(ae,this,ye,je)}:ae,[function(ye,je){var fe=S(this),ue=ye==null?void 0:G(ye,$);return ue?s(ue,ye,fe,je):s(be,R(fe),ye,je)},function(ye,je){var fe=O(this),ue=R(ye),_e=ge(be,fe,ue,je,be!==ae);if(_e.done)return _e.value;var we=A(fe,RegExp),ke=fe.unicode,Ce=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(M?"g":"y"),ze=new we(M?"^(?:"+fe.source+")":fe,Ce),Me=je===void 0?4294967295:je>>>0;if(Me===0)return[];if(ue.length===0)return I(ze,ue)===null?[ue]:[];for(var Xe=0,ct=0,K=[];ct<ue.length;){ze.lastIndex=M?0:ct;var J,ie=I(ze,M?te(ue,ct):ue);if(ie===null||(J=z(C(ze.lastIndex+(M?ct:0)),ue.length))===Xe)ct=P(ue,ct,ke);else{if(F(K,te(ue,Xe,ct)),K.length===Me)return K;for(var ve=1;ve<=ie.length-1;ve++)if(F(K,ie[ve]),K.length===Me)return K;ct=Xe=J}}return F(K,te(ue,Xe)),K}]},!!Y(function(){var $=/(?:)/,ae=$.exec;$.exec=function(){return ae.apply(this,arguments)};var ge="ab".split($);return ge.length!==2||ge[0]!=="a"||ge[1]!=="b"}),M)},function(c,p,a){var f=a(10),s=a(28),m=a(83),_=f.TypeError;c.exports=function(E){if(s(E))return E;throw _(m(E)+" is not a function")}},function(c,p,a){var f=a(125),s=a(105);c.exports=Object.keys||function(m){return f(m,s)}},function(c,p,a){var f=a(58),s=Math.max,m=Math.min;c.exports=function(_,E){var O=f(_);return O<0?s(O+E,0):m(O,E)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(a,f){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:f}}},function(c,p,a){var f=a(125),s=a(105).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(m){return f(m,s)}},function(c,p,a){var f=a(91),s=a(17),m=a(73),_=a(37),E=a(45),O=a(114),S=s([].push),A=function(P){var C=P==1,R=P==2,G=P==3,H=P==4,I=P==6,V=P==7,Z=P==5||I;return function(Y,M,z,k){for(var L,F,te=_(Y),$=m(te),ae=f(M,z),ge=E($),be=0,ye=k||O,je=C?ye(Y,ge):R||V?ye(Y,0):void 0;ge>be;be++)if((Z||be in $)&&(F=ae(L=$[be],be,te),P))if(C)je[be]=F;else if(F)switch(P){case 3:return!0;case 5:return L;case 6:return be;case 2:S(je,L)}else switch(P){case 4:return!1;case 7:S(je,L)}return I?-1:G||H?H:je}};c.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(c,p,a){var f=a(21),s=a(26),m=a(79),_=s("species");c.exports=function(E){return m>=51||!f(function(){var O=[];return(O.constructor={})[_]=function(){return{foo:1}},O[E](Boolean).foo!==1})}},function(c,p,a){var f=a(33),s=a(10),m=a(17),_=a(109),E=a(46),O=a(32),S=a(139),A=a(56),P=a(82),C=a(124),R=a(21),G=a(68).f,H=a(54).f,I=a(35).f,V=a(190),Z=a(151).trim,Y=s.Number,M=Y.prototype,z=s.TypeError,k=m("".slice),L=m("".charCodeAt),F=function(ye){var je=C(ye,"number");return typeof je=="bigint"?je:te(je)},te=function(ye){var je,fe,ue,_e,we,ke,Ce,ze,Me=C(ye,"number");if(P(Me))throw z("Cannot convert a Symbol value to a number");if(typeof Me=="string"&&Me.length>2){if(Me=Z(Me),(je=L(Me,0))===43||je===45){if((fe=L(Me,2))===88||fe===120)return NaN}else if(je===48){switch(L(Me,1)){case 66:case 98:ue=2,_e=49;break;case 79:case 111:ue=8,_e=55;break;default:return+Me}for(ke=(we=k(Me,2)).length,Ce=0;Ce<ke;Ce++)if((ze=L(we,Ce))<48||ze>_e)return NaN;return parseInt(we,ue)}}return+Me};if(_("Number",!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var $,ae=function(ye){var je=arguments.length<1?0:Y(F(ye)),fe=this;return A(M,fe)&&R(function(){V(fe)})?S(Object(je),fe,ae):je},ge=f?G(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),be=0;ge.length>be;be++)O(Y,$=ge[be])&&!O(ae,$)&&I(ae,$,H(Y,$));ae.prototype=M,M.constructor=ae,E(s,"Number",ae)}},function(c,p,a){a(19)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,a){var f=a(10),s=a(17),m=a(21),_=a(51),E=f.Object,O=s("".split);c.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(S){return _(S)=="String"?O(S,""):E(S)}:E},function(c,p){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,p,a){var f=a(26),s=a(52),m=a(35),_=f("unscopables"),E=Array.prototype;E[_]==null&&m.f(E,_,{configurable:!0,value:s(null)}),c.exports=function(O){E[_][O]=!0}},function(c,p,a){var f=a(77),s=a(101);(c.exports=function(m,_){return s[m]||(s[m]=_!==void 0?_:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p){c.exports=!1},function(c,p,a){var f=a(17),s=0,m=Math.random(),_=f(1 .toString);c.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+_(++s+m,36)}},function(c,p,a){var f,s,m=a(10),_=a(80),E=m.process,O=m.Deno,S=E&&E.versions||O&&O.version,A=S&&S.v8;A&&(s=(f=A.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&_&&(!(f=_.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=_.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,a){var f=a(49);c.exports=f("navigator","userAgent")||""},function(c,p,a){var f=a(124),s=a(82);c.exports=function(m){var _=f(m,"string");return s(_)?_:_+""}},function(c,p,a){var f=a(10),s=a(49),m=a(28),_=a(56),E=a(122),O=f.Object;c.exports=E?function(S){return typeof S=="symbol"}:function(S){var A=s("Symbol");return m(A)&&_(A.prototype,O(S))}},function(c,p,a){var f=a(10).String;c.exports=function(s){try{return f(s)}catch{return"Object"}}},function(c,p,a){var f=a(58),s=Math.min;c.exports=function(m){return m>0?s(f(m),9007199254740991):0}},function(c,p,a){var f=a(76),s=a(78),m=f("keys");c.exports=function(_){return m[_]||(m[_]=s(_))}},function(c,p,a){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,m=s&&!f.call({1:2},1);p.f=m?function(_){var E=s(this,_);return!!E&&E.enumerable}:f},function(c,p,a){var f=a(33),s=a(32),m=Function.prototype,_=f&&Object.getOwnPropertyDescriptor,E=s(m,"name"),O=E&&function(){}.name==="something",S=E&&(!f||f&&_(m,"name").configurable);c.exports={EXISTS:E,PROPER:O,CONFIGURABLE:S}},function(c,p,a){var f=a(10),s=a(32),m=a(28),_=a(37),E=a(85),O=a(130),S=E("IE_PROTO"),A=f.Object,P=A.prototype;c.exports=O?A.getPrototypeOf:function(C){var R=_(C);if(s(R,S))return R[S];var G=R.constructor;return m(G)&&R instanceof G?G.prototype:R instanceof A?P:null}},function(c,p,a){var f=a(35).f,s=a(32),m=a(26)("toStringTag");c.exports=function(_,E,O){_&&!s(_=O?_:_.prototype,m)&&f(_,m,{configurable:!0,value:E})}},function(c,p,a){a(165)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},a(169))},function(c,p,a){var f=a(17),s=a(62),m=f(f.bind);c.exports=function(_,E){return s(_),E===void 0?_:m?m(_,E):function(){return _.apply(E,arguments)}}},function(c,p,a){var f=a(10),s=a(113),m=a(28),_=a(51),E=a(26)("toStringTag"),O=f.Object,S=_(function(){return arguments}())=="Arguments";c.exports=s?_:function(A){var P,C,R;return A===void 0?"Undefined":A===null?"Null":typeof(C=function(G,H){try{return G[H]}catch{}}(P=O(A),E))=="string"?C:S?_(P):(R=_(P))=="Object"&&m(P.callee)?"Arguments":R}},function(c,p,a){var f=a(51);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,a){var f=a(17),s=a(21),m=a(28),_=a(92),E=a(49),O=a(106),S=function(){},A=[],P=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,R=f(C.exec),G=!C.exec(S),H=function(I){if(!m(I))return!1;try{return P(S,A,I),!0}catch{return!1}};c.exports=!P||s(function(){var I;return H(H.call)||!H(Object)||!H(function(){I=!0})||I})?function(I){if(!m(I))return!1;switch(_(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return G||!!R(C,O(I))}:H},function(c,p){var a=Function.prototype,f=a.apply,s=a.bind,m=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?m.bind(f):function(){return m.apply(f,arguments)})},function(c,p,a){var f,s,m=a(34),_=a(17),E=a(38),O=a(178),S=a(145),A=a(76),P=a(52),C=a(59).get,R=a(179),G=a(180),H=A("native-string-replace",String.prototype.replace),I=RegExp.prototype.exec,V=I,Z=_("".charAt),Y=_("".indexOf),M=_("".replace),z=_("".slice),k=(s=/b*/g,m(I,f=/a/,"a"),m(I,s,"a"),f.lastIndex!==0||s.lastIndex!==0),L=S.BROKEN_CARET,F=/()??/.exec("")[1]!==void 0;(k||F||L||R||G)&&(V=function(te){var $,ae,ge,be,ye,je,fe,ue=this,_e=C(ue),we=E(te),ke=_e.raw;if(ke)return ke.lastIndex=ue.lastIndex,$=m(V,ke,we),ue.lastIndex=ke.lastIndex,$;var Ce=_e.groups,ze=L&&ue.sticky,Me=m(O,ue),Xe=ue.source,ct=0,K=we;if(ze&&(Me=M(Me,"y",""),Y(Me,"g")===-1&&(Me+="g"),K=z(we,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&Z(we,ue.lastIndex-1)!==`
`)&&(Xe="(?: "+Xe+")",K=" "+K,ct++),ae=new RegExp("^(?:"+Xe+")",Me)),F&&(ae=new RegExp("^"+Xe+"$(?!\\s)",Me)),k&&(ge=ue.lastIndex),be=m(I,ze?ae:ue,K),ze?be?(be.input=z(be.input,ct),be[0]=z(be[0],ct),be.index=ue.lastIndex,ue.lastIndex+=be[0].length):ue.lastIndex=0:k&&be&&(ue.lastIndex=ue.global?be.index+be[0].length:ge),F&&be&&be.length>1&&m(H,be[0],ae,function(){for(ye=1;ye<arguments.length-2;ye++)arguments[ye]===void 0&&(be[ye]=void 0)}),be&&Ce)for(be.groups=je=P(null),ye=0;ye<Ce.length;ye++)je[(fe=Ce[ye])[0]]=be[fe[1]];return be}),c.exports=V},function(c,p,a){var f=a(19),s=a(10),m=a(64),_=a(58),E=a(45),O=a(37),S=a(114),A=a(60),P=a(70)("splice"),C=s.TypeError,R=Math.max,G=Math.min;f({target:"Array",proto:!0,forced:!P},{splice:function(H,I){var V,Z,Y,M,z,k,L=O(this),F=E(L),te=m(H,F),$=arguments.length;if($===0?V=Z=0:$===1?(V=0,Z=F-te):(V=$-2,Z=G(R(_(I),0),F-te)),F+V-Z>9007199254740991)throw C("Maximum allowed length exceeded");for(Y=S(L,Z),M=0;M<Z;M++)(z=te+M)in L&&A(Y,M,L[z]);if(Y.length=Z,V<Z){for(M=te;M<F-Z;M++)k=M+V,(z=M+Z)in L?L[k]=L[z]:delete L[k];for(M=F;M>F-Z+V;M--)delete L[M-1]}else if(V>Z)for(M=F-Z;M>te;M--)k=M+V-1,(z=M+Z-1)in L?L[k]=L[z]:delete L[k];for(M=0;M<V;M++)L[M+te]=arguments[M+2];return L.length=F-Z+V,Y}})},function(c,p,a){var f=a(19),s=a(17),m=a(73),_=a(39),E=a(115),O=s([].join),S=m!=Object,A=E("join",",");f({target:"Array",proto:!0,forced:S||!A},{join:function(P){return O(_(this),P===void 0?",":P)}})},function(c,p,a){var f=a(19),s=a(194);f({target:"String",proto:!0,forced:a(195)("anchor")},{anchor:function(m){return s(this,"a","name",m)}})},function(c,p,a){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,a(74))},function(c,p,a){var f=a(10),s=a(102),m=f["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=m},function(c,p,a){var f=a(10),s=Object.defineProperty;c.exports=function(m,_){try{s(f,m,{value:_,configurable:!0,writable:!0})}catch{f[m]=_}return _}},function(c,p,a){var f=a(79),s=a(21);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p,a){var f=a(10),s=a(30),m=f.document,_=s(m)&&s(m.createElement);c.exports=function(E){return _?m.createElement(E):{}}},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,a){var f=a(17),s=a(28),m=a(101),_=f(Function.toString);s(m.inspectSource)||(m.inspectSource=function(E){return _(E)}),c.exports=m.inspectSource},function(c,p,a){var f=a(19),s=a(34),m=a(77),_=a(87),E=a(28),O=a(163),S=a(88),A=a(110),P=a(89),C=a(53),R=a(46),G=a(26),H=a(66),I=a(129),V=_.PROPER,Z=_.CONFIGURABLE,Y=I.IteratorPrototype,M=I.BUGGY_SAFARI_ITERATORS,z=G("iterator"),k=function(){return this};c.exports=function(L,F,te,$,ae,ge,be){O(te,F,$);var ye,je,fe,ue=function(Xe){if(Xe===ae&&ze)return ze;if(!M&&Xe in ke)return ke[Xe];switch(Xe){case"keys":case"values":case"entries":return function(){return new te(this,Xe)}}return function(){return new te(this)}},_e=F+" Iterator",we=!1,ke=L.prototype,Ce=ke[z]||ke["@@iterator"]||ae&&ke[ae],ze=!M&&Ce||ue(ae),Me=F=="Array"&&ke.entries||Ce;if(Me&&(ye=S(Me.call(new L)))!==Object.prototype&&ye.next&&(m||S(ye)===Y||(A?A(ye,Y):E(ye[z])||R(ye,z,k)),P(ye,_e,!0,!0),m&&(H[_e]=k)),V&&ae=="values"&&Ce&&Ce.name!=="values"&&(!m&&Z?C(ke,"name","values"):(we=!0,ze=function(){return s(Ce,this)})),ae)if(je={values:ue("values"),keys:ge?ze:ue("keys"),entries:ue("entries")},be)for(fe in je)(M||we||!(fe in ke))&&R(ke,fe,je[fe]);else f({target:F,proto:!0,forced:M||we},je);return m&&!be||ke[z]===ze||R(ke,z,ze,{name:ae}),H[F]=ze,je}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,a){var f=a(21),s=a(28),m=/#|\.prototype\./,_=function(P,C){var R=O[E(P)];return R==A||R!=S&&(s(C)?f(C):!!C)},E=_.normalize=function(P){return String(P).replace(m,".").toLowerCase()},O=_.data={},S=_.NATIVE="N",A=_.POLYFILL="P";c.exports=_},function(c,p,a){var f=a(17),s=a(29),m=a(164);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _,E=!1,O={};try{(_=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(O,[]),E=O instanceof Array}catch{}return function(S,A){return s(S),m(A),E?_(S,A):S.__proto__=A,S}}():void 0)},function(c,p,a){var f=a(10),s=a(64),m=a(45),_=a(60),E=f.Array,O=Math.max;c.exports=function(S,A,P){for(var C=m(S),R=s(A,C),G=s(P===void 0?C:P,C),H=E(O(G-R,0)),I=0;R<G;R++,I++)_(H,I,S[R]);return H.length=I,H}},function(c,p,a){var f=a(92),s=a(57),m=a(66),_=a(26)("iterator");c.exports=function(E){if(E!=null)return s(E,_)||s(E,"@@iterator")||m[f(E)]}},function(c,p,a){var f={};f[a(26)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,a){var f=a(174);c.exports=function(s,m){return new(f(s))(m===0?0:m)}},function(c,p,a){var f=a(21);c.exports=function(s,m){var _=[][s];return!!_&&f(function(){_.call(null,m||function(){throw 1},1)})}},function(c,p,a){var f=a(17);c.exports=f([].slice)},function(c,p){c.exports=function(a){if(!a.webpackPolyfill){var f=Object.create(a);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,a){a(20);var f=a(17),s=a(46),m=a(96),_=a(21),E=a(26),O=a(53),S=E("species"),A=RegExp.prototype;c.exports=function(P,C,R,G){var H=E(P),I=!_(function(){var M={};return M[H]=function(){return 7},""[P](M)!=7}),V=I&&!_(function(){var M=!1,z=/a/;return P==="split"&&((z={}).constructor={},z.constructor[S]=function(){return z},z.flags="",z[H]=/./[H]),z.exec=function(){return M=!0,null},z[H](""),!M});if(!I||!V||R){var Z=f(/./[H]),Y=C(H,""[P],function(M,z,k,L,F){var te=f(M),$=z.exec;return $===m||$===A.exec?I&&!F?{done:!0,value:Z(z,k,L)}:{done:!0,value:te(k,z,L)}:{done:!1}});s(String.prototype,P,Y[0]),s(A,H,Y[1])}G&&O(A[H],"sham",!0)}},function(c,p,a){var f=a(140).charAt;c.exports=function(s,m,_){return m+(_?f(s,m).length:1)}},function(c,p,a){var f=a(10),s=a(34),m=a(29),_=a(28),E=a(51),O=a(96),S=f.TypeError;c.exports=function(A,P){var C=A.exec;if(_(C)){var R=s(C,A,P);return R!==null&&m(R),R}if(E(A)==="RegExp")return s(O,A,P);throw S("RegExp#exec called on incompatible receiver")}},function(c,p,a){a(19)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,a){var f=a(103);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,a){var f=a(33),s=a(21),m=a(104);c.exports=!f&&!s(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,a){var f=a(10),s=a(34),m=a(30),_=a(82),E=a(57),O=a(160),S=a(26),A=f.TypeError,P=S("toPrimitive");c.exports=function(C,R){if(!m(C)||_(C))return C;var G,H=E(C,P);if(H){if(R===void 0&&(R="default"),G=s(H,C,R),!m(G)||_(G))return G;throw A("Can't convert object to primitive value")}return R===void 0&&(R="number"),O(C,R)}},function(c,p,a){var f=a(17),s=a(32),m=a(39),_=a(126).indexOf,E=a(65),O=f([].push);c.exports=function(S,A){var P,C=m(S),R=0,G=[];for(P in C)!s(E,P)&&s(C,P)&&O(G,P);for(;A.length>R;)s(C,P=A[R++])&&(~_(G,P)||O(G,P));return G}},function(c,p,a){var f=a(39),s=a(64),m=a(45),_=function(E){return function(O,S,A){var P,C=f(O),R=m(C),G=s(A,R);if(E&&S!=S){for(;R>G;)if((P=C[G++])!=P)return!0}else for(;R>G;G++)if((E||G in C)&&C[G]===S)return E||G||0;return!E&&-1}};c.exports={includes:_(!0),indexOf:_(!1)}},function(c,p,a){var f=a(32),s=a(128),m=a(54),_=a(35);c.exports=function(E,O){for(var S=s(O),A=_.f,P=m.f,C=0;C<S.length;C++){var R=S[C];f(E,R)||A(E,R,P(O,R))}}},function(c,p,a){var f=a(49),s=a(17),m=a(68),_=a(108),E=a(29),O=s([].concat);c.exports=f("Reflect","ownKeys")||function(S){var A=m.f(E(S)),P=_.f;return P?O(A,P(S)):A}},function(c,p,a){var f,s,m,_=a(21),E=a(28),O=a(52),S=a(88),A=a(46),P=a(26),C=a(77),R=P("iterator"),G=!1;[].keys&&("next"in(m=[].keys())?(s=S(S(m)))!==Object.prototype&&(f=s):G=!0),f==null||_(function(){var H={};return f[R].call(H)!==H})?f={}:C&&(f=O(f)),E(f[R])||A(f,R,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:G}},function(c,p,a){var f=a(21);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,a){var f=a(19),s=a(17),m=a(65),_=a(30),E=a(32),O=a(35).f,S=a(68),A=a(132),P=a(166),C=a(78),R=a(168),G=!1,H=C("meta"),I=0,V=function(Y){O(Y,H,{value:{objectID:"O"+I++,weakData:{}}})},Z=c.exports={enable:function(){Z.enable=function(){},G=!0;var Y=S.f,M=s([].splice),z={};z[H]=1,Y(z).length&&(S.f=function(k){for(var L=Y(k),F=0,te=L.length;F<te;F++)if(L[F]===H){M(L,F,1);break}return L},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},fastKey:function(Y,M){if(!_(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!E(Y,H)){if(!P(Y))return"F";if(!M)return"E";V(Y)}return Y[H].objectID},getWeakData:function(Y,M){if(!E(Y,H)){if(!P(Y))return!0;if(!M)return!1;V(Y)}return Y[H].weakData},onFreeze:function(Y){return R&&G&&P(Y)&&!E(Y,H)&&V(Y),Y}};m[H]=!0},function(c,p,a){var f=a(51),s=a(39),m=a(68).f,_=a(111),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(O){return E&&f(O)=="Window"?function(S){try{return m(S)}catch{return _(E)}}(O):m(s(O))}},function(c,p,a){var f=a(10),s=a(91),m=a(34),_=a(29),E=a(83),O=a(134),S=a(45),A=a(56),P=a(135),C=a(112),R=a(136),G=f.TypeError,H=function(V,Z){this.stopped=V,this.result=Z},I=H.prototype;c.exports=function(V,Z,Y){var M,z,k,L,F,te,$,ae=Y&&Y.that,ge=!(!Y||!Y.AS_ENTRIES),be=!(!Y||!Y.IS_ITERATOR),ye=!(!Y||!Y.INTERRUPTED),je=s(Z,ae),fe=function(_e){return M&&R(M,"normal",_e),new H(!0,_e)},ue=function(_e){return ge?(_(_e),ye?je(_e[0],_e[1],fe):je(_e[0],_e[1])):ye?je(_e,fe):je(_e)};if(be)M=V;else{if(!(z=C(V)))throw G(E(V)+" is not iterable");if(O(z)){for(k=0,L=S(V);L>k;k++)if((F=ue(V[k]))&&A(I,F))return F;return new H(!1)}M=P(V,z)}for(te=M.next;!($=m(te,M)).done;){try{F=ue($.value)}catch(_e){R(M,"throw",_e)}if(typeof F=="object"&&F&&A(I,F))return F}return new H(!1)}},function(c,p,a){var f=a(26),s=a(66),m=f("iterator"),_=Array.prototype;c.exports=function(E){return E!==void 0&&(s.Array===E||_[m]===E)}},function(c,p,a){var f=a(10),s=a(34),m=a(62),_=a(29),E=a(83),O=a(112),S=f.TypeError;c.exports=function(A,P){var C=arguments.length<2?O(A):P;if(m(C))return _(s(C,A));throw S(E(A)+" is not iterable")}},function(c,p,a){var f=a(34),s=a(29),m=a(57);c.exports=function(_,E,O){var S,A;s(_);try{if(!(S=m(_,"return"))){if(E==="throw")throw O;return O}S=f(S,_)}catch(P){A=!0,S=P}if(E==="throw")throw O;if(A)throw S;return s(S),O}},function(c,p,a){var f=a(10),s=a(56),m=f.TypeError;c.exports=function(_,E){if(s(E,_))return _;throw m("Incorrect invocation")}},function(c,p,a){var f=a(26)("iterator"),s=!1;try{var m=0,_={next:function(){return{done:!!m++}},return:function(){s=!0}};_[f]=function(){return this},Array.from(_,function(){throw 2})}catch{}c.exports=function(E,O){if(!O&&!s)return!1;var S=!1;try{var A={};A[f]=function(){return{next:function(){return{done:S=!0}}}},E(A)}catch{}return S}},function(c,p,a){var f=a(28),s=a(30),m=a(110);c.exports=function(_,E,O){var S,A;return m&&f(S=E.constructor)&&S!==O&&s(A=S.prototype)&&A!==O.prototype&&m(_,A),_}},function(c,p,a){var f=a(17),s=a(58),m=a(38),_=a(44),E=f("".charAt),O=f("".charCodeAt),S=f("".slice),A=function(P){return function(C,R){var G,H,I=m(_(C)),V=s(R),Z=I.length;return V<0||V>=Z?P?"":void 0:(G=O(I,V))<55296||G>56319||V+1===Z||(H=O(I,V+1))<56320||H>57343?P?E(I,V):G:P?S(I,V,V+2):H-56320+(G-55296<<10)+65536}};c.exports={codeAt:A(!1),charAt:A(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,a){var f=a(104)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,a){var f=a(26);p.f=f},function(c,p,a){var f=a(175),s=a(32),m=a(143),_=a(35).f;c.exports=function(E){var O=f.Symbol||(f.Symbol={});s(O,E)||_(O,E,{value:m.f(E)})}},function(c,p,a){var f=a(21),s=a(10).RegExp,m=f(function(){var O=s("a","y");return O.lastIndex=2,O.exec("abcd")!=null}),_=m||f(function(){return!s("a","y").sticky}),E=m||f(function(){var O=s("^r","gy");return O.lastIndex=2,O.exec("str")!=null});c.exports={BROKEN_CARET:E,MISSED_STICKY:_,UNSUPPORTED_Y:m}},function(c,p,a){var f=a(19),s=a(126).includes,m=a(75);f({target:"Array",proto:!0},{includes:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(c,p,a){var f=a(19),s=a(17),m=a(187),_=a(44),E=a(38),O=a(188),S=s("".indexOf);f({target:"String",proto:!0,forced:!O("includes")},{includes:function(A){return!!~S(E(_(this)),E(m(A)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(30),s=a(51),m=a(26)("match");c.exports=function(_){var E;return f(_)&&((E=_[m])!==void 0?!!E:s(_)=="RegExp")}},function(c,p){var a,f,s=c.exports={};function m(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function E(I){if(a===setTimeout)return setTimeout(I,0);if((a===m||!a)&&setTimeout)return a=setTimeout,setTimeout(I,0);try{return a(I,0)}catch{try{return a.call(null,I,0)}catch{return a.call(this,I,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:m}catch{a=m}try{f=typeof clearTimeout=="function"?clearTimeout:_}catch{f=_}})();var O,S=[],A=!1,P=-1;function C(){A&&O&&(A=!1,O.length?S=O.concat(S):P=-1,S.length&&R())}function R(){if(!A){var I=E(C);A=!0;for(var V=S.length;V;){for(O=S,S=[];++P<V;)O&&O[P].run();P=-1,V=S.length}O=null,A=!1,function(Z){if(f===clearTimeout)return clearTimeout(Z);if((f===_||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(Z);try{f(Z)}catch{try{return f.call(null,Z)}catch{return f.call(this,Z)}}}(I)}}function G(I,V){this.fun=I,this.array=V}function H(){}s.nextTick=function(I){var V=new Array(arguments.length-1);if(arguments.length>1)for(var Z=1;Z<arguments.length;Z++)V[Z-1]=arguments[Z];S.push(new G(I,V)),S.length!==1||A||E(R)},G.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=H,s.addListener=H,s.once=H,s.off=H,s.removeListener=H,s.removeAllListeners=H,s.emit=H,s.prependListener=H,s.prependOnceListener=H,s.listeners=function(I){return[]},s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,a){var f=a(10),s=a(94),m=a(83),_=f.TypeError;c.exports=function(E){if(s(E))return E;throw _(m(E)+" is not a constructor")}},function(c,p,a){var f=a(17),s=a(44),m=a(38),_=a(152),E=f("".replace),O="["+_+"]",S=RegExp("^"+O+O+"*"),A=RegExp(O+O+"*$"),P=function(C){return function(R){var G=m(s(R));return 1&C&&(G=E(G,S,"")),2&C&&(G=E(G,A,"")),G}};c.exports={start:P(1),end:P(2),trim:P(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,a){var f=a(34),s=a(118),m=a(29),_=a(84),E=a(38),O=a(44),S=a(57),A=a(119),P=a(120);s("match",function(C,R,G){return[function(H){var I=O(this),V=H==null?void 0:S(H,C);return V?f(V,H,I):new RegExp(H)[C](E(I))},function(H){var I=m(this),V=E(H),Z=G(R,I,V);if(Z.done)return Z.value;if(!I.global)return P(I,V);var Y=I.unicode;I.lastIndex=0;for(var M,z=[],k=0;(M=P(I,V))!==null;){var L=E(M[0]);z[k]=L,L===""&&(I.lastIndex=A(V,_(I.lastIndex),Y)),k++}return k===0?null:z}]})},function(c,p,a){var f=a(95),s=a(34),m=a(17),_=a(118),E=a(21),O=a(29),S=a(28),A=a(58),P=a(84),C=a(38),R=a(44),G=a(119),H=a(57),I=a(191),V=a(120),Z=a(26)("replace"),Y=Math.max,M=Math.min,z=m([].concat),k=m([].push),L=m("".indexOf),F=m("".slice),te="a".replace(/./,"$0")==="$0",$=!!/./[Z]&&/./[Z]("a","$0")==="";_("replace",function(ae,ge,be){var ye=$?"$":"$0";return[function(je,fe){var ue=R(this),_e=je==null?void 0:H(je,Z);return _e?s(_e,je,ue,fe):s(ge,C(ue),je,fe)},function(je,fe){var ue=O(this),_e=C(je);if(typeof fe=="string"&&L(fe,ye)===-1&&L(fe,"$<")===-1){var we=be(ge,ue,_e,fe);if(we.done)return we.value}var ke=S(fe);ke||(fe=C(fe));var Ce=ue.global;if(Ce){var ze=ue.unicode;ue.lastIndex=0}for(var Me=[];;){var Xe=V(ue,_e);if(Xe===null||(k(Me,Xe),!Ce))break;C(Xe[0])===""&&(ue.lastIndex=G(_e,P(ue.lastIndex),ze))}for(var ct,K="",J=0,ie=0;ie<Me.length;ie++){for(var ve=C((Xe=Me[ie])[0]),Pe=Y(M(A(Xe.index),_e.length),0),xe=[],We=1;We<Xe.length;We++)k(xe,(ct=Xe[We])===void 0?ct:String(ct));var He=Xe.groups;if(ke){var Je=z([ve],xe,Pe,_e);He!==void 0&&k(Je,He);var Ye=C(f(fe,void 0,Je))}else Ye=I(ve,_e,Pe,xe,He,fe);Pe>=J&&(K+=F(_e,J,Pe)+Ye,J=Pe+ve.length)}return K+F(_e,J)}]},!!E(function(){var ae=/./;return ae.exec=function(){var ge=[];return ge.groups={a:"7"},ge},"".replace(ae,"$<a>")!=="7"})||!te||$)},function(c,p,a){p.a=function(){return!1}},function(c,p,a){(function(f){var s=a(27),m=y&&!y.nodeType&&y,_=m&&typeof f=="object"&&f&&!f.nodeType&&f,E=_&&_.exports===m?s.a.Buffer:void 0,O=E?E.allocUnsafe:void 0;p.a=function(S,A){if(A)return S.slice();var P=S.length,C=O?O(P):new S.constructor(P);return S.copy(C),C}}).call(this,a(117)(c))},function(c,p,a){(function(f){a.d(p,"a",function(){return V});var s=a(0);function m(M){throw new Error("[mobx-utils] "+M)}function _(M,z){z===void 0&&(z="Illegal state"),M||m(z)}var E=function(M){return M&&M!==Object.prototype&&Object.getOwnPropertyNames(M).concat(E(Object.getPrototypeOf(M))||[])},O=function(M){return function(z){var k=E(z);return k.filter(function(L,F){return k.indexOf(L)===F})}(M).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})};function S(M){switch(this.state){case"pending":return M.pending&&M.pending(this.value);case"rejected":return M.rejected&&M.rejected(this.value);case"fulfilled":return M.fulfilled?M.fulfilled(this.value):this.value}}function A(M,z){if(_(arguments.length<=2,"fromPromise expects up to two arguments"),_(typeof M=="function"||typeof M=="object"&&M&&typeof M.then=="function","Please pass a promise or function to fromPromise"),M.isPromiseBasedObservable===!0)return M;typeof M=="function"&&(M=new Promise(M));var k=M;M.then(Object(s.k)("observableFromPromise-resolve",function(F){k.value=F,k.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(F){k.value=F,k.state="rejected"})),k.isPromiseBasedObservable=!0,k.case=S;var L=z&&z.state==="fulfilled"?z.value:void 0;return Object(s.q)(k,{value:L,state:"pending"},{},{deep:!1}),k}(function(M){M.reject=Object(s.k)("fromPromise.reject",function(z){var k=M(Promise.reject(z));return k.state="rejected",k.value=z,k}),M.resolve=Object(s.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var k=M(Promise.resolve(z));return k.state="fulfilled",k.value=z,k})})(A||(A={}));var P=function(M,z,k,L){var F,te=arguments.length,$=te<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(M,z,k,L);else for(var ae=M.length-1;ae>=0;ae--)(F=M[ae])&&($=(te<3?F($):te>3?F(z,k,$):F(z,k))||$);return te>3&&$&&Object.defineProperty(z,k,$),$};(function(){function M(z,k){var L=this;Object(s.G)(function(){L.current=k,L.subscription=z.subscribe(L)})}M.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},M.prototype.next=function(z){this.current=z},M.prototype.complete=function(){this.dispose()},M.prototype.error=function(z){this.current=z,this.dispose()},P([s.C.ref],M.prototype,"current",void 0),P([s.k.bound],M.prototype,"next",null),P([s.k.bound],M.prototype,"complete",null),P([s.k.bound],M.prototype,"error",null)})();var C=function(){return(C=Object.assign||function(M){for(var z,k=1,L=arguments.length;k<L;k++)for(var F in z=arguments[k])Object.prototype.hasOwnProperty.call(z,F)&&(M[F]=z[F]);return M}).apply(this,arguments)},R=function(M,z,k,L){var F,te=arguments.length,$=te<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(M,z,k,L);else for(var ae=M.length-1;ae>=0;ae--)(F=M[ae])&&($=(te<3?F($):te>3?F(z,k,$):F(z,k))||$);return te>3&&$&&Object.defineProperty(z,k,$),$},G=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function M(z){var k=this;this.model=z,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(L){return k.localValues.has(L)},_(Object(s.A)(z),"createViewModel expects an observable object"),O(z).forEach(function(L){if(L!==s.a&&L!=="__mobxDidRunLazyInitializers"){if(_(G.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(s.w)(z,L)){var F=Object(s.h)(z,L).derivation;k.localComputedValues.set(L,Object(s.m)(F.bind(k)))}var te=Object.getOwnPropertyDescriptor(z,L),$=te?{enumerable:te.enumerable}:{};Object.defineProperty(k,L,C(C({},$),{configurable:!0,get:function(){return Object(s.w)(z,L)?k.localComputedValues.get(L).get():k.isPropertyDirty(L)?k.localValues.get(L):k.model[L]},set:Object(s.k)(function(ae){ae!==k.model[L]?k.localValues.set(L,ae):k.localValues.delete(L)})}))}})}Object.defineProperty(M.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),M.prototype.submit=function(){var z=this;Object(s.B)(this.localValues).forEach(function(k){var L=z.localValues.get(k),F=z.model[k];Object(s.y)(F)?F.replace(L):Object(s.z)(F)?(F.clear(),F.merge(L)):Object(s.v)(L)||(z.model[k]=L)}),this.localValues.clear()},M.prototype.reset=function(){this.localValues.clear()},M.prototype.resetProperty=function(z){this.localValues.delete(z)},R([s.m],M.prototype,"isDirty",null),R([s.m],M.prototype,"changedValues",null),R([s.k.bound],M.prototype,"submit",null),R([s.k.bound],M.prototype,"reset",null),R([s.k.bound],M.prototype,"resetProperty",null)})();function H(M){if(!M)return"ROOT";for(var z=[];M.parent;)z.push(M.path),M=M.parent;return z.reverse().join("/")}function I(M){return Object(s.A)(M)||Object(s.y)(M)||Object(s.z)(M)}function V(M,z){var k=new WeakMap;function L($){var ae=k.get($.object);(function(ge,be){switch(ge.type){case"add":F(ge.newValue,be,ge.name);break;case"update":te(ge.oldValue),F(ge.newValue,be,ge.name||""+ge.index);break;case"remove":case"delete":te(ge.oldValue);break;case"splice":ge.removed.map(te),ge.added.forEach(function(fe,ue){return F(fe,be,""+(ge.index+ue))});for(var ye=ge.index+ge.addedCount;ye<ge.object.length;ye++)if(I(ge.object[ye])){var je=k.get(ge.object[ye]);je&&(je.path=""+ye)}}})($,ae),z($,H(ae),M)}function F($,ae,ge){if(I($)){var be=k.get($);if(be){if(be.parent!==ae||be.path!==ge)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+H(ae)+"/"+ge+"', but it already exists at '"+H(be.parent)+"/"+be.path+"'")}else{var ye={parent:ae,path:ge,dispose:Object(s.D)($,L)};k.set($,ye),Object(s.p)($).forEach(function(je){var fe=je[0];return F(je[1],ye,fe)})}}}function te($){if(I($)){var ae=k.get($);if(!ae)return;k.delete($),ae.dispose(),Object(s.L)($).forEach(te)}}return F(M,void 0,""),function(){te(M)}}var Z,Y=(Z=function(M,z){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var F in L)L.hasOwnProperty(F)&&(k[F]=L[F])})(M,z)},function(M,z){function k(){this.constructor=M}Z(M,z),M.prototype=z===null?Object.create(z):(k.prototype=z.prototype,new k)});(function(M){function z(k,L,F){var te=F===void 0?{}:F,$=te.name,ae=$===void 0?"ogm"+(1e3*Math.random()|0):$,ge=te.keyToName,be=ge===void 0?function(fe){return""+fe}:ge,ye=M.call(this)||this;ye._keyToName=be,ye._groupBy=L,ye._ogmInfoKey=Symbol("ogmInfo"+ae),ye._base=k;for(var je=0;je<k.length;je++)ye._addItem(k[je]);return ye._disposeBaseObserver=Object(s.D)(ye._base,function(fe){if(fe.type==="splice")Object(s.J)(function(){for(var ue=0,_e=fe.removed;ue<_e.length;ue++){var we=_e[ue];ye._removeItem(we)}for(var ke=0,Ce=fe.added;ke<Ce.length;ke++){var ze=Ce[ke];ye._addItem(ze)}});else{if(fe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){ye._removeItem(fe.oldValue),ye._addItem(fe.newValue)})}}),ye}Y(z,M),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(k){throw new Error("not supported")},z.prototype.set=function(k,L){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var k=0;k<this._base.length;k++){var L=this._base[k];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},z.prototype._getGroupArr=function(k){var L=M.prototype.get.call(this,k);return L===void 0&&(L=Object(s.C)([],{name:"GroupArray["+this._keyToName(k)+"]",deep:!1}),M.prototype.set.call(this,k,L)),L},z.prototype._removeFromGroupArr=function(k,L){var F=M.prototype.get.call(this,k);F.length===1?M.prototype.delete.call(this,k):(L===F.length-1||(F[L]=F[F.length-1],F[L][this._ogmInfoKey].groupArrIndex=L),F.length--)},z.prototype._addItem=function(k){var L=this,F=this._groupBy(k),te=this._getGroupArr(F),$={groupByValue:F,groupArrIndex:te.length,reaction:Object(s.F)(function(){return L._groupBy(k)},function(ae,ge){var be=k[L._ogmInfoKey];L._removeFromGroupArr(be.groupByValue,be.groupArrIndex);var ye=L._getGroupArr(ae),je=ye.length;ye.push(k),be.groupByValue=ae,be.groupArrIndex=je})};Object.defineProperty(k,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:$}),te.push(k)},z.prototype._removeItem=function(k){var L=k[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete k[this._ogmInfoKey]}})(s.b),function(){function M(z,k){this.base=z,this.args=k,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=z,F=0;F<this.args.length-1&&(L=L.get(k[F]));F++)this.closest=L;this.closestIdx=F}return M.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},M.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},M.prototype.set=function(z){this.assertNotDisposed();for(var k=this.args.length,L=this.closest,F=this.closestIdx;F<k-1;F++){var te=new Map;L.set(this.args[F],te),L=te}this.closestIdx=k-1,this.closest=L,L.set(this.args[k-1],z)},M.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var k=this.root,L=[k],F=0;F<z-1;F++)k=k.get(this.args[F]),L.push(k);for(F=L.length-1;F>0;F--)L[F].size===0&&L[F-1].delete(this.args[F-1]);this.isDisposed=!0},M.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},M}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,a(149))},function(c,p,a){var f;(function(s,m,_){if(s){for(var E,O={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)O[111+C]="f"+C;for(C=0;C<=9;++C)O[C+96]=C.toString();Z.prototype.bind=function(Y,M,z){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,M,z),this},Z.prototype.unbind=function(Y,M){return this.bind.call(this,Y,function(){},M)},Z.prototype.trigger=function(Y,M){return this._directMap[Y+":"+M]&&this._directMap[Y+":"+M]({},Y),this},Z.prototype.reset=function(){return this._callbacks={},this._directMap={},this},Z.prototype.stopCallback=function(Y,M){if((" "+M.className+" ").indexOf(" mousetrap ")>-1||function k(L,F){return L!==null&&L!==m&&(L===F||k(L.parentNode,F))}(M,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var z=Y.composedPath()[0];z!==Y.target&&(M=z)}return M.tagName=="INPUT"||M.tagName=="SELECT"||M.tagName=="TEXTAREA"||M.isContentEditable},Z.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},Z.addKeycodes=function(Y){for(var M in Y)Y.hasOwnProperty(M)&&(O[M]=Y[M]);E=null},Z.init=function(){var Y=Z(m);for(var M in Y)M.charAt(0)!=="_"&&(Z[M]=function(z){return function(){return Y[z].apply(Y,arguments)}}(M))},Z.init(),s.Mousetrap=Z,c.exports&&(c.exports=Z),(f=function(){return Z}.call(p,a,p,c))===void 0||(c.exports=f)}function R(Y,M,z){Y.addEventListener?Y.addEventListener(M,z,!1):Y.attachEvent("on"+M,z)}function G(Y){if(Y.type=="keypress"){var M=String.fromCharCode(Y.which);return Y.shiftKey||(M=M.toLowerCase()),M}return O[Y.which]?O[Y.which]:S[Y.which]?S[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function H(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function I(Y,M,z){return z||(z=function(){if(!E)for(var k in E={},O)k>95&&k<112||O.hasOwnProperty(k)&&(E[O[k]]=k);return E}()[Y]?"keydown":"keypress"),z=="keypress"&&M.length&&(z="keydown"),z}function V(Y,M){var z,k,L,F=[];for(z=function(te){return te==="+"?["+"]:(te=te.replace(/\+{2}/g,"+plus")).split("+")}(Y),L=0;L<z.length;++L)k=z[L],P[k]&&(k=P[k]),M&&M!="keypress"&&A[k]&&(k=A[k],F.push("shift")),H(k)&&F.push(k);return{key:k,modifiers:F,action:M=I(k,F,M)}}function Z(Y){var M=this;if(Y=Y||m,!(M instanceof Z))return new Z(Y);M.target=Y,M._callbacks={},M._directMap={};var z,k={},L=!1,F=!1,te=!1;function $(fe){fe=fe||{};var ue,_e=!1;for(ue in k)fe[ue]?_e=!0:k[ue]=0;_e||(te=!1)}function ae(fe,ue,_e,we,ke,Ce){var ze,Me,Xe,ct,K=[],J=_e.type;if(!M._callbacks[fe])return[];for(J=="keyup"&&H(fe)&&(ue=[fe]),ze=0;ze<M._callbacks[fe].length;++ze)if(Me=M._callbacks[fe][ze],(we||!Me.seq||k[Me.seq]==Me.level)&&J==Me.action&&(J=="keypress"&&!_e.metaKey&&!_e.ctrlKey||(Xe=ue,ct=Me.modifiers,Xe.sort().join(",")===ct.sort().join(",")))){var ie=!we&&Me.combo==ke,ve=we&&Me.seq==we&&Me.level==Ce;(ie||ve)&&M._callbacks[fe].splice(ze,1),K.push(Me)}return K}function ge(fe,ue,_e,we){M.stopCallback(ue,ue.target||ue.srcElement,_e,we)||fe(ue,_e)===!1&&(function(ke){ke.preventDefault?ke.preventDefault():ke.returnValue=!1}(ue),function(ke){ke.stopPropagation?ke.stopPropagation():ke.cancelBubble=!0}(ue))}function be(fe){typeof fe.which!="number"&&(fe.which=fe.keyCode);var ue=G(fe);ue&&(fe.type!="keyup"||L!==ue?M.handleKey(ue,function(_e){var we=[];return _e.shiftKey&&we.push("shift"),_e.altKey&&we.push("alt"),_e.ctrlKey&&we.push("ctrl"),_e.metaKey&&we.push("meta"),we}(fe),fe):L=!1)}function ye(fe,ue,_e,we){function ke(Xe){return function(){te=Xe,++k[fe],clearTimeout(z),z=setTimeout($,1e3)}}function Ce(Xe){ge(_e,Xe,fe),we!=="keyup"&&(L=G(Xe)),setTimeout($,10)}k[fe]=0;for(var ze=0;ze<ue.length;++ze){var Me=ze+1===ue.length?Ce:ke(we||V(ue[ze+1]).action);je(ue[ze],Me,we,fe,ze)}}function je(fe,ue,_e,we,ke){M._directMap[fe+":"+_e]=ue;var Ce,ze=(fe=fe.replace(/\s+/g," ")).split(" ");ze.length>1?ye(fe,ze,ue,_e):(Ce=V(fe,_e),M._callbacks[Ce.key]=M._callbacks[Ce.key]||[],ae(Ce.key,Ce.modifiers,{type:Ce.action},we,fe,ke),M._callbacks[Ce.key][we?"unshift":"push"]({callback:ue,modifiers:Ce.modifiers,action:Ce.action,seq:we,level:ke,combo:fe}))}M._handleKey=function(fe,ue,_e){var we,ke=ae(fe,ue,_e),Ce={},ze=0,Me=!1;for(we=0;we<ke.length;++we)ke[we].seq&&(ze=Math.max(ze,ke[we].level));for(we=0;we<ke.length;++we)if(ke[we].seq){if(ke[we].level!=ze)continue;Me=!0,Ce[ke[we].seq]=1,ge(ke[we].callback,_e,ke[we].combo,ke[we].seq)}else Me||ge(ke[we].callback,_e,ke[we].combo);var Xe=_e.type=="keypress"&&F;_e.type!=te||H(fe)||Xe||$(Ce),F=Me&&_e.type=="keydown"},M._bindMultiple=function(fe,ue,_e){for(var we=0;we<fe.length;++we)je(fe[we],ue,_e)},R(Y,"keypress",be),R(Y,"keydown",be),R(Y,"keyup",be)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,a){var f=a(33),s=a(35),m=a(29),_=a(39),E=a(63);c.exports=f?Object.defineProperties:function(O,S){m(O);for(var A,P=_(S),C=E(S),R=C.length,G=0;R>G;)s.f(O,A=C[G++],P[A]);return O}},function(c,p,a){var f=a(10),s=a(34),m=a(28),_=a(30),E=f.TypeError;c.exports=function(O,S){var A,P;if(S==="string"&&m(A=O.toString)&&!_(P=s(A,O))||m(A=O.valueOf)&&!_(P=s(A,O))||S!=="string"&&m(A=O.toString)&&!_(P=s(A,O)))return P;throw E("Can't convert object to primitive value")}},function(c,p,a){var f=a(49);c.exports=f("document","documentElement")},function(c,p,a){var f=a(10),s=a(28),m=a(106),_=f.WeakMap;c.exports=s(_)&&/native code/.test(m(_))},function(c,p,a){var f=a(129).IteratorPrototype,s=a(52),m=a(67),_=a(89),E=a(66),O=function(){return this};c.exports=function(S,A,P,C){var R=A+" Iterator";return S.prototype=s(f,{next:m(+!C,P)}),_(S,R,!1,!0),E[R]=O,S}},function(c,p,a){var f=a(10),s=a(28),m=f.String,_=f.TypeError;c.exports=function(E){if(typeof E=="object"||s(E))return E;throw _("Can't set "+m(E)+" as a prototype")}},function(c,p,a){var f=a(19),s=a(10),m=a(17),_=a(109),E=a(46),O=a(131),S=a(133),A=a(137),P=a(28),C=a(30),R=a(21),G=a(138),H=a(89),I=a(139);c.exports=function(V,Z,Y){var M=V.indexOf("Map")!==-1,z=V.indexOf("Weak")!==-1,k=M?"set":"add",L=s[V],F=L&&L.prototype,te=L,$={},ae=function(ue){var _e=m(F[ue]);E(F,ue,ue=="add"?function(we){return _e(this,we===0?0:we),this}:ue=="delete"?function(we){return!(z&&!C(we))&&_e(this,we===0?0:we)}:ue=="get"?function(we){return z&&!C(we)?void 0:_e(this,we===0?0:we)}:ue=="has"?function(we){return!(z&&!C(we))&&_e(this,we===0?0:we)}:function(we,ke){return _e(this,we===0?0:we,ke),this})};if(_(V,!P(L)||!(z||F.forEach&&!R(function(){new L().entries().next()}))))te=Y.getConstructor(Z,V,M,k),O.enable();else if(_(V,!0)){var ge=new te,be=ge[k](z?{}:-0,1)!=ge,ye=R(function(){ge.has(1)}),je=G(function(ue){new L(ue)}),fe=!z&&R(function(){for(var ue=new L,_e=5;_e--;)ue[k](_e,_e);return!ue.has(-0)});je||((te=Z(function(ue,_e){A(ue,F);var we=I(new L,ue,te);return _e!=null&&S(_e,we[k],{that:we,AS_ENTRIES:M}),we})).prototype=F,F.constructor=te),(ye||fe)&&(ae("delete"),ae("has"),M&&ae("get")),(fe||be)&&ae(k),z&&F.clear&&delete F.clear}return $[V]=te,f({global:!0,forced:te!=L},$),H(te,V),z||Y.setStrong(te,V,M),te}},function(c,p,a){var f=a(21),s=a(30),m=a(51),_=a(167),E=Object.isExtensible,O=f(function(){});c.exports=O||_?function(S){return!!s(S)&&(!_||m(S)!="ArrayBuffer")&&(!E||E(S))}:E},function(c,p,a){var f=a(21);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,a){var f=a(21);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,a){var f=a(35).f,s=a(52),m=a(170),_=a(91),E=a(137),O=a(133),S=a(107),A=a(171),P=a(33),C=a(131).fastKey,R=a(59),G=R.set,H=R.getterFor;c.exports={getConstructor:function(I,V,Z,Y){var M=I(function(te,$){E(te,z),G(te,{type:V,index:s(null),first:void 0,last:void 0,size:0}),P||(te.size=0),$!=null&&O($,te[Y],{that:te,AS_ENTRIES:Z})}),z=M.prototype,k=H(V),L=function(te,$,ae){var ge,be,ye=k(te),je=F(te,$);return je?je.value=ae:(ye.last=je={index:be=C($,!0),key:$,value:ae,previous:ge=ye.last,next:void 0,removed:!1},ye.first||(ye.first=je),ge&&(ge.next=je),P?ye.size++:te.size++,be!=="F"&&(ye.index[be]=je)),te},F=function(te,$){var ae,ge=k(te),be=C($);if(be!=="F")return ge.index[be];for(ae=ge.first;ae;ae=ae.next)if(ae.key==$)return ae};return m(z,{clear:function(){for(var te=k(this),$=te.index,ae=te.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete $[ae.index],ae=ae.next;te.first=te.last=void 0,P?te.size=0:this.size=0},delete:function(te){var $=k(this),ae=F(this,te);if(ae){var ge=ae.next,be=ae.previous;delete $.index[ae.index],ae.removed=!0,be&&(be.next=ge),ge&&(ge.previous=be),$.first==ae&&($.first=ge),$.last==ae&&($.last=be),P?$.size--:this.size--}return!!ae},forEach:function(te){for(var $,ae=k(this),ge=_(te,arguments.length>1?arguments[1]:void 0);$=$?$.next:ae.first;)for(ge($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(te){return!!F(this,te)}}),m(z,Z?{get:function(te){var $=F(this,te);return $&&$.value},set:function(te,$){return L(this,te===0?0:te,$)}}:{add:function(te){return L(this,te=te===0?0:te,te)}}),P&&f(z,"size",{get:function(){return k(this).size}}),M},setStrong:function(I,V,Z){var Y=V+" Iterator",M=H(V),z=H(Y);S(I,V,function(k,L){G(this,{type:Y,target:k,state:M(k),kind:L,last:void 0})},function(){for(var k=z(this),L=k.kind,F=k.last;F&&F.removed;)F=F.previous;return k.target&&(k.last=F=F?F.next:k.state.first)?L=="keys"?{value:F.key,done:!1}:L=="values"?{value:F.value,done:!1}:{value:[F.key,F.value],done:!1}:(k.target=void 0,{value:void 0,done:!0})},Z?"entries":"values",!Z,!0),A(V)}}},function(c,p,a){var f=a(46);c.exports=function(s,m,_){for(var E in m)f(s,E,m[E],_);return s}},function(c,p,a){var f=a(49),s=a(35),m=a(26),_=a(33),E=m("species");c.exports=function(O){var S=f(O),A=s.f;_&&S&&!S[E]&&A(S,E,{configurable:!0,get:function(){return this}})}},function(c,p,a){var f=a(113),s=a(92);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,a){var f=a(69).forEach,s=a(115)("forEach");c.exports=s?[].forEach:function(m){return f(this,m,arguments.length>1?arguments[1]:void 0)}},function(c,p,a){var f=a(10),s=a(93),m=a(94),_=a(30),E=a(26)("species"),O=f.Array;c.exports=function(S){var A;return s(S)&&(A=S.constructor,(m(A)&&(A===O||s(A.prototype))||_(A)&&(A=A[E])===null)&&(A=void 0)),A===void 0?O:A}},function(c,p,a){var f=a(10);c.exports=f},function(c,p,a){var f=a(10),s=a(91),m=a(34),_=a(37),E=a(177),O=a(134),S=a(94),A=a(45),P=a(60),C=a(135),R=a(112),G=f.Array;c.exports=function(H){var I=_(H),V=S(this),Z=arguments.length,Y=Z>1?arguments[1]:void 0,M=Y!==void 0;M&&(Y=s(Y,Z>2?arguments[2]:void 0));var z,k,L,F,te,$,ae=R(I),ge=0;if(!ae||this==G&&O(ae))for(z=A(I),k=V?new this(z):G(z);z>ge;ge++)$=M?Y(I[ge],ge):I[ge],P(k,ge,$);else for(te=(F=C(I,ae)).next,k=V?new this:[];!(L=m(te,F)).done;ge++)$=M?E(F,Y,[L.value,ge],!0):L.value,P(k,ge,$);return k.length=ge,k}},function(c,p,a){var f=a(29),s=a(136);c.exports=function(m,_,E,O){try{return O?_(f(E)[0],E[1]):_(E)}catch(S){s(m,"throw",S)}}},function(c,p,a){var f=a(29);c.exports=function(){var s=f(this),m="";return s.global&&(m+="g"),s.ignoreCase&&(m+="i"),s.multiline&&(m+="m"),s.dotAll&&(m+="s"),s.unicode&&(m+="u"),s.sticky&&(m+="y"),m}},function(c,p,a){var f=a(21),s=a(10).RegExp;c.exports=f(function(){var m=s(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(c,p,a){var f=a(21),s=a(10).RegExp;c.exports=f(function(){var m=s("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(c,p,a){var f=a(19),s=a(17),m=a(62),_=a(37),E=a(45),O=a(38),S=a(21),A=a(182),P=a(115),C=a(183),R=a(184),G=a(79),H=a(185),I=[],V=s(I.sort),Z=s(I.push),Y=S(function(){I.sort(void 0)}),M=S(function(){I.sort(null)}),z=P("sort"),k=!S(function(){if(G)return G<70;if(!(C&&C>3)){if(R)return!0;if(H)return H<603;var L,F,te,$,ae="";for(L=65;L<76;L++){switch(F=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:te=3;break;case 68:case 71:te=4;break;default:te=2}for($=0;$<47;$++)I.push({k:F+$,v:te})}for(I.sort(function(ge,be){return be.v-ge.v}),$=0;$<I.length;$++)F=I[$].k.charAt(0),ae.charAt(ae.length-1)!==F&&(ae+=F);return ae!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:Y||!M||!z||!k},{sort:function(L){L!==void 0&&m(L);var F=_(this);if(k)return L===void 0?V(F):V(F,L);var te,$,ae=[],ge=E(F);for($=0;$<ge;$++)$ in F&&Z(ae,F[$]);for(A(ae,function(be){return function(ye,je){return je===void 0?-1:ye===void 0?1:be!==void 0?+be(ye,je)||0:O(ye)>O(je)?1:-1}}(L)),te=ae.length,$=0;$<te;)F[$]=ae[$++];for(;$<ge;)delete F[$++];return F}})},function(c,p,a){var f=a(111),s=Math.floor,m=function(O,S){var A=O.length,P=s(A/2);return A<8?_(O,S):E(O,m(f(O,0,P),S),m(f(O,P),S),S)},_=function(O,S){for(var A,P,C=O.length,R=1;R<C;){for(P=R,A=O[R];P&&S(O[P-1],A)>0;)O[P]=O[--P];P!==R++&&(O[P]=A)}return O},E=function(O,S,A,P){for(var C=S.length,R=A.length,G=0,H=0;G<C||H<R;)O[G+H]=G<C&&H<R?P(S[G],A[H])<=0?S[G++]:A[H++]:G<C?S[G++]:A[H++];return O};c.exports=m},function(c,p,a){var f=a(80).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(80);c.exports=/MSIE|Trident/.test(f)},function(c,p,a){var f=a(80).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(19),s=a(69).find,m=a(75),_=!0;"find"in[]&&Array(1).find(function(){_=!1}),f({target:"Array",proto:!0,forced:_},{find:function(E){return s(this,E,arguments.length>1?arguments[1]:void 0)}}),m("find")},function(c,p,a){var f=a(10),s=a(148),m=f.TypeError;c.exports=function(_){if(s(_))throw m("The method doesn't accept regular expressions");return _}},function(c,p,a){var f=a(26)("match");c.exports=function(s){var m=/./;try{"/./"[s](m)}catch{try{return m[f]=!1,"/./"[s](m)}catch{}}return!1}},function(c,p,a){var f=a(29),s=a(150),m=a(26)("species");c.exports=function(_,E){var O,S=f(_).constructor;return S===void 0||(O=f(S)[m])==null?E:s(O)}},function(c,p,a){var f=a(17);c.exports=f(1 .valueOf)},function(c,p,a){var f=a(17),s=a(37),m=Math.floor,_=f("".charAt),E=f("".replace),O=f("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;c.exports=function(P,C,R,G,H,I){var V=R+P.length,Z=G.length,Y=A;return H!==void 0&&(H=s(H),Y=S),E(I,Y,function(M,z){var k;switch(_(z,0)){case"$":return"$";case"&":return P;case"`":return O(C,0,R);case"'":return O(C,V);case"<":k=H[O(z,1,-1)];break;default:var L=+z;if(L===0)return M;if(L>Z){var F=m(L/10);return F===0?M:F<=Z?G[F-1]===void 0?_(z,1):G[F-1]+_(z,1):M}k=G[L-1]}return k===void 0?"":k})}},function(c,p,a){var f=a(10),s=a(17),m=a(62),_=a(30),E=a(32),O=a(116),S=f.Function,A=s([].concat),P=s([].join),C={},R=function(G,H,I){if(!E(C,H)){for(var V=[],Z=0;Z<H;Z++)V[Z]="a["+Z+"]";C[H]=S("C,a","return new C("+P(V,",")+")")}return C[H](G,I)};c.exports=S.bind||function(G){var H=m(this),I=H.prototype,V=O(arguments,1),Z=function(){var Y=A(V,O(arguments));return this instanceof Z?R(H,Y.length,Y):H.apply(G,Y)};return _(I)&&(Z.prototype=I),Z}},function(c,p,a){var f=a(33),s=a(17),m=a(34),_=a(21),E=a(63),O=a(108),S=a(86),A=a(37),P=a(73),C=Object.assign,R=Object.defineProperty,G=s([].concat);c.exports=!C||_(function(){if(f&&C({b:1},C(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},I={},V=Symbol();return H[V]=7,"abcdefghijklmnopqrst".split("").forEach(function(Z){I[Z]=Z}),C({},H)[V]!=7||E(C({},I)).join("")!="abcdefghijklmnopqrst"})?function(H,I){for(var V=A(H),Z=arguments.length,Y=1,M=O.f,z=S.f;Z>Y;)for(var k,L=P(arguments[Y++]),F=M?G(E(L),M(L)):E(L),te=F.length,$=0;te>$;)k=F[$++],f&&!m(z,L,k)||(V[k]=L[k]);return V}:C},function(c,p,a){var f=a(17),s=a(44),m=a(38),_=/"/g,E=f("".replace);c.exports=function(O,S,A,P){var C=m(s(O)),R="<"+S;return A!==""&&(R+=" "+A+'="'+E(m(P),_,"&quot;")+'"'),R+">"+C+"</"+S+">"}},function(c,p,a){var f=a(21);c.exports=function(s){return f(function(){var m=""[s]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(c,p,a){var f=a(19),s=Math.hypot,m=Math.abs,_=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(E,O){for(var S,A,P=0,C=0,R=arguments.length,G=0;C<R;)G<(S=m(arguments[C++]))?(P=P*(A=G/S)*A+1,G=S):P+=S>0?(A=S/G)*A:S;return G===1/0?1/0:G*_(P)}})},function(c,p,a){var f=a(32);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,a){a(19)({target:"String",proto:!0},{repeat:a(199)})},function(c,p,a){var f=a(10),s=a(58),m=a(38),_=a(44),E=f.RangeError;c.exports=function(O){var S=m(_(this)),A="",P=s(O);if(P<0||P==1/0)throw E("Wrong number of repetitions");for(;P>0;(P>>>=1)&&(S+=S))1&P&&(A+=S);return A}},function(c,p,a){var f=a(33),s=a(17),m=a(63),_=a(39),E=s(a(86).f),O=s([].push),S=function(A){return function(P){for(var C,R=_(P),G=m(R),H=G.length,I=0,V=[];H>I;)C=G[I++],f&&!E(R,C)||O(V,A?[C,R[C]]:R[C]);return V}};c.exports={entries:S(!0),values:S(!1)}},function(c,p,a){var f=a(37),s=a(64),m=a(45);c.exports=function(_){for(var E=f(this),O=m(E),S=arguments.length,A=s(S>1?arguments[1]:void 0,O),P=S>2?arguments[2]:void 0,C=P===void 0?O:s(P,O);C>A;)E[A++]=_;return E}},function(c,p,a){var f=a(19),s=a(151).trim;f({target:"String",proto:!0,forced:a(203)("trim")},{trim:function(){return s(this)}})},function(c,p,a){var f=a(87).PROPER,s=a(21),m=a(152);c.exports=function(_){return s(function(){return!!m[_]()||"\u200B\x85\u180E"[_]()!=="\u200B\x85\u180E"||f&&m[_].name!==_})}},function(c,p,a){a.r(p),a.d(p,"observer",function(){return Sn}),a.d(p,"LogicFlow",function(){return Yu}),a.d(p,"h",function(){return q.g}),a.d(p,"LogicFlowUtil",function(){return f}),a.d(p,"BaseNode",function(){return Zn}),a.d(p,"RectNode",function(){return mu}),a.d(p,"CircleNode",function(){return Ou}),a.d(p,"PolygonNode",function(){return xu}),a.d(p,"DiamondNode",function(){return ju}),a.d(p,"EllipseNode",function(){return Su}),a.d(p,"TextNode",function(){return Au}),a.d(p,"HtmlNode",function(){return Tu}),a.d(p,"BaseEdge",function(){return Co}),a.d(p,"LineEdge",function(){return Iu}),a.d(p,"PolylineEdge",function(){return Lu}),a.d(p,"BezierEdge",function(){return zu}),a.d(p,"Arrow",function(){return Xd}),a.d(p,"BaseEdgeModel",function(){return Aa}),a.d(p,"BezierEdgeModel",function(){return Ka}),a.d(p,"LineEdgeModel",function(){return Da}),a.d(p,"PolylineEdgeModel",function(){return Ma}),a.d(p,"BaseNodeModel",function(){return Kn}),a.d(p,"CircleNodeModel",function(){return qa}),a.d(p,"DiamondNodeModel",function(){return Qa}),a.d(p,"EllipseNodeModel",function(){return nu}),a.d(p,"PolygonNodeModel",function(){return iu}),a.d(p,"RectNodeModel",function(){return uu}),a.d(p,"TextNodeModel",function(){return lu}),a.d(p,"HtmlNodeModel",function(){return pu}),a.d(p,"EditConfigModel",function(){return Dc}),a.d(p,"GraphModel",function(){return Sl}),a.d(p,"SnaplineModel",function(){return Gp}),a.d(p,"Keyboard",function(){return Rh}),a.d(p,"get",function(){return gf}),a.d(p,"defaults",function(){return mf});var f={};a.r(f),a.d(f,"createUuid",function(){return Br}),a.d(f,"refreshGraphId",function(){return eg}),a.d(f,"createDrag",function(){return xo}),a.d(f,"StepDrag",function(){return Eo});var s=a(0),m=a(11);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var _=a(43),E=Object(_.b)("observerBatching");function O(t){t()}var S=!1;function A(){return S}function P(t){return Object(s.t)(t)}var C,R=1e4,G=new Set;function H(){C===void 0&&(C=setTimeout(I,1e4))}function I(){C=void 0;var t=Date.now();G.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,G.delete(e))}),G.size>0&&H()}var V=!1,Z=[],Y={};function M(t){return"observer"+t}function z(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=Y),A();var r,i=function(b){return function(){V?Z.push(b):b()}}((n.useForceUpdate||_.d)()),o=m.d.useRef(null);if(!o.current){var u=new s.c(M(e),function(){l.mounted?i():(u.dispose(),o.current=null)}),l=function(b){return{cleanAt:Date.now()+R,reaction:b}}(u);o.current=l,r=o,G.add(r),H()}var d=o.current.reaction;return m.d.useDebugValue(d,P),m.d.useEffect(function(){var b;return b=o,G.delete(b),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(M(e),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(b){V=!0,Z=[];try{var x=b();V=!1;var j=Z.length>0?Z:void 0;return m.d.useLayoutEffect(function(){j&&j.forEach(function(N){return N()})},[j]),x}finally{V=!1}}(function(){var b,x;if(d.track(function(){try{b=t()}catch(j){x=j}}),x)throw x;return b})}var k=function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function L(t,e){var n,r,i,o=k({forwardRef:!1},e),u=t.displayName||t.name,l=function(d,b){return z(function(){return t(d,b)},u)};return l.displayName=u,n=o.forwardRef?Object(m.f)(Object(m.e)(l)):Object(m.f)(l),r=t,i=n,Object.keys(r).forEach(function(d){F[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var F={$$typeof:!0,render:!0,compare:!0,type:!0};function te(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:z(r)}function $(t,e,n,r,i){var o=e==="children"?"render":"children",u=typeof t[e]=="function",l=typeof t[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}te.propTypes={children:$,render:$},te.displayName="Observer";var ae;(ae=m.g)||(ae=O),Object(s.n)({reactionScheduler:ae}),Object(_.a)()[E]=!0;var ge=0,be={};function ye(t){return be[t]||(be[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+ge+")";return ge++,n}(t)),be[t]}function je(t,e){if(fe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(e,n[i])||!fe(t[n[i]],e[n[i]]))return!1;return!0}function fe(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ue(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var _e=ye("patchMixins"),we=ye("patchedDefinition");function ke(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var u;return t!=null&&(u=t.apply(this,i)),u}finally{e.locks--,e.locks===0&&e.methods.forEach(function(l){l.apply(n,i)})}}function Ce(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];ke.call.apply(ke,[this,t,e].concat(r))}}function ze(t,e,n){var r=function(l,d){var b=l[_e]=l[_e]||{},x=b[d]=b[d]||{};return x.locks=x.locks||0,x.methods=x.methods||[],x}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(t,e);if(!i||!i[we]){var o=t[e],u=function l(d,b,x,j,N){var B,W=Ce(N,j);return(B={})[we]=!0,B.get=function(){return W},B.set=function(ee){if(this===d)W=Ce(ee,j);else{var ne=l(this,b,x,j,ee);Object.defineProperty(this,b,ne)}},B.configurable=!0,B.enumerable=x,B}(t,e,i?i.enumerable:void 0,r,o);Object.defineProperty(t,e,u)}}var Me=s.a||"$mobx",Xe=ye("isMobXReactObserver"),ct=ye("isUnmounted"),K=ye("skipRender"),J=ye("isForcingUpdate");function ie(t){var e=t.prototype;if(t[Xe]){var n=ve(e);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else t[Xe]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==xe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=xe;We(e,"props"),We(e,"state");var r=e.render;return e.render=function(){return Pe.call(this,r)},ze(e,"componentWillUnmount",function(){var i;if((i=this.render[Me])===null||i===void 0||i.dispose(),this[ct]=!0,!this.render[Me]){var o=ve(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),t}function ve(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Pe(t){var e=this;ue(this,K,!1),ue(this,J,!1);var n=ve(this),r=t.bind(this),i=!1,o=new s.c(n+".render()",function(){if(!i&&(i=!0,e[ct]!==!0)){var l=!0;try{ue(e,J,!0),e[K]||m.a.prototype.forceUpdate.call(e),l=!1}finally{ue(e,J,!1),l&&o.dispose()}}});function u(){i=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(b){l=b}}),l)throw l;return d}return o.reactComponent=this,u[Me]=o,this.render=u,u.call(this)}function xe(t,e){return this.state!==e||!je(this.props,t)}function We(t,e){var n=ye("reactProp_"+e+"_valueHolder"),r=ye("reactProp_"+e+"_atomHolder");function i(){return this[r]||ue(this,r,Object(s.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),i.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[J]||je(this[n],o)?ue(this,n,o):(ue(this,n,o),ue(this,K,!0),i.call(this).reportChanged(),ue(this,K,!1))}})}var He=typeof Symbol=="function"&&Symbol.for,Je=He?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Ye=He?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function de(t){if(t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ye&&t.$$typeof===Ye)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Je&&t.$$typeof===Je){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(te,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?ie(t):L(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var q=a(1);a(3),a(90),a(2),a(6),a(5),a(9),a(22),a(40),a(15),a(4),a(24),a(16),a(25),a(7),a(8),a(18),a(23),a(20),a(181),a(186),a(97),a(146),a(147);var Be=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Le=function(){this.__data__=[],this.size=0},Ke=function(t,e){return t===e||t!=t&&e!=e},Dt=function(t,e){for(var n=t.length;n--;)if(Ke(t[n][0],e))return n;return-1},it=Array.prototype.splice,lt=function(t){var e=this.__data__,n=Dt(e,t);return!(n<0)&&(n==e.length-1?e.pop():it.call(e,n,1),--this.size,!0)},ht=function(t){var e=this.__data__,n=Dt(e,t);return n<0?void 0:e[n][1]},Ft=function(t){return Dt(this.__data__,t)>-1},U=function(t,e){var n=this.__data__,r=Dt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=Le,Q.prototype.delete=lt,Q.prototype.get=ht,Q.prototype.has=Ft,Q.prototype.set=U;var ce=Q,Ee=function(){this.__data__=new ce,this.size=0},$e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ge=function(t){return this.__data__.get(t)},et=function(t){return this.__data__.has(t)},yt=a(27),At=yt.a.Symbol,Bt=Object.prototype,Gn=Bt.hasOwnProperty,An=Bt.toString,bt=At?At.toStringTag:void 0,Ne=function(t){var e=Gn.call(t,bt),n=t[bt];try{t[bt]=void 0;var r=!0}catch{}var i=An.call(t);return r&&(e?t[bt]=n:delete t[bt]),i},Fe=Object.prototype.toString,Qe=function(t){return Fe.call(t)},ft=At?At.toStringTag:void 0,xt=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ft&&ft in Object(t)?Ne(t):Qe(t)},Rt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},$t,Ko=function(t){if(!Rt(t))return!1;var e=xt(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},kn=yt.a["__core-js_shared__"],Hn=($t=/[^.]+$/.exec(kn&&kn.keys&&kn.keys.IE_PROTO||""))?"Symbol(src)_1."+$t:"",Ar=function(t){return!!Hn&&Hn in t},ea=Function.prototype.toString,_n=function(t){if(t!=null){try{return ea.call(t)}catch{}try{return t+""}catch{}}return""},kr=/^\[object .+?Constructor\]$/,Zo=Function.prototype,Ie=Object.prototype,ta=Zo.toString,qo=Ie.hasOwnProperty,$o=RegExp("^"+ta.call(qo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=function(t){return!(!Rt(t)||Ar(t))&&(Ko(t)?$o:kr).test(_n(t))},ln=function(t,e){return t==null?void 0:t[e]},Tn=function(t,e){var n=ln(t,e);return sn(n)?n:void 0},Jn=Tn(yt.a,"Map"),On=Tn(Object,"create"),eo=function(){this.__data__=On?On(null):{},this.size=0},Jo=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},na=Object.prototype.hasOwnProperty,Tr=function(t){var e=this.__data__;if(On){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return na.call(e,t)?e[t]:void 0},ra=Object.prototype.hasOwnProperty,Qo=function(t){var e=this.__data__;return On?e[t]!==void 0:ra.call(e,t)},oa=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===void 0?"__lodash_hash_undefined__":e,this};function Yn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yn.prototype.clear=eo,Yn.prototype.delete=Jo,Yn.prototype.get=Tr,Yn.prototype.has=Qo,Yn.prototype.set=oa;var ei=Yn,Dn=function(){this.size=0,this.__data__={hash:new ei,map:new(Jn||ce),string:new ei}},ia=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Dr=function(t,e){var n=t.__data__;return ia(e)?n[typeof e=="string"?"string":"hash"]:n.map},to=function(t){var e=Dr(this,t).delete(t);return this.size-=e?1:0,e},no=function(t){return Dr(this,t).get(t)},aa=function(t){return Dr(this,t).has(t)},ti=function(t,e){var n=Dr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Qn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qn.prototype.clear=Dn,Qn.prototype.delete=to,Qn.prototype.get=no,Qn.prototype.has=aa,Qn.prototype.set=ti;var er=Qn,ni=function(t,e){var n=this.__data__;if(n instanceof ce){var r=n.__data__;if(!Jn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new er(r)}return n.set(t,e),this.size=n.size,this};function tr(t){var e=this.__data__=new ce(t);this.size=e.size}tr.prototype.clear=Ee,tr.prototype.delete=$e,tr.prototype.get=Ge,tr.prototype.has=et,tr.prototype.set=ni;var Vn=tr,ri=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},oi=function(t){return this.__data__.has(t)};function pr(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new er;++e<n;)this.add(t[e])}pr.prototype.add=pr.prototype.push=ri,pr.prototype.has=oi;var ii=pr,ua=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},ai=function(t,e){return t.has(e)},ui=function(t,e,n,r,i,o){var u=1&n,l=t.length,d=e.length;if(l!=d&&!(u&&d>l))return!1;var b=o.get(t),x=o.get(e);if(b&&x)return b==e&&x==t;var j=-1,N=!0,B=2&n?new ii:void 0;for(o.set(t,e),o.set(e,t);++j<l;){var W=t[j],ee=e[j];if(r)var ne=u?r(ee,W,j,e,t,o):r(W,ee,j,t,e,o);if(ne!==void 0){if(ne)continue;N=!1;break}if(B){if(!ua(e,function(oe,pe){if(!ai(B,pe)&&(W===oe||i(W,oe,n,r,o)))return B.push(pe)})){N=!1;break}}else if(W!==ee&&!i(W,ee,n,r,o)){N=!1;break}}return o.delete(t),o.delete(e),N},dr=yt.a.Uint8Array,ci=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},ca=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},si=At?At.prototype:void 0,ro=si?si.valueOf:void 0,hr=function(t,e,n,r,i,o,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new dr(t),new dr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=ci;case"[object Set]":var d=1&r;if(l||(l=ca),t.size!=e.size&&!d)return!1;var b=u.get(t);if(b)return b==e;r|=2,u.set(t,e);var x=ui(l(t),l(e),r,i,o,u);return u.delete(t),x;case"[object Symbol]":if(ro)return ro.call(t)==ro.call(e)}return!1},Mn=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Jt=Array.isArray,li=function(t,e,n){var r=e(t);return Jt(t)?r:Mn(r,n(t))},sa=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o},fi=function(){return[]},nr=Object.prototype.propertyIsEnumerable,pi=Object.getOwnPropertySymbols,oo=pi?function(t){return t==null?[]:(t=Object(t),sa(pi(t),function(e){return nr.call(t,e)}))}:fi,yn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Nn=function(t){return t!=null&&typeof t=="object"},io=function(t){return Nn(t)&&xt(t)=="[object Arguments]"},di=Object.prototype,Mr=di.hasOwnProperty,Nr=di.propertyIsEnumerable,ao=io(function(){return arguments}())?io:function(t){return Nn(t)&&Mr.call(t,"callee")&&!Nr.call(t,"callee")},Cr=a(55),vn=/^(?:0|[1-9]\d*)$/,Cn=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&vn.test(t))&&t>-1&&t%1==0&&t<e},rn=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var yr=function(t){return Nn(t)&&rn(t.length)&&!!st[xt(t)]},Qt=function(t){return function(e){return t(e)}},rr=a(48),hi=rr.a&&rr.a.isTypedArray,uo=hi?Qt(hi):yr,wn=Object.prototype.hasOwnProperty,co=function(t,e){var n=Jt(t),r=!n&&ao(t),i=!n&&!r&&Object(Cr.a)(t),o=!n&&!r&&!i&&uo(t),u=n||r||i||o,l=u?yn(t.length,String):[],d=l.length;for(var b in t)!e&&!wn.call(t,b)||u&&(b=="length"||i&&(b=="offset"||b=="parent")||o&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Cn(b,d))||l.push(b);return l},la=Object.prototype,on=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||la)},so=function(t,e){return function(n){return t(e(n))}},fa=so(Object.keys,Object),lo=Object.prototype.hasOwnProperty,en=function(t){if(!on(t))return fa(t);var e=[];for(var n in Object(t))lo.call(t,n)&&n!="constructor"&&e.push(n);return e},or=function(t){return t!=null&&rn(t.length)&&!Ko(t)},Wn=function(t){return or(t)?co(t):en(t)},Kt=function(t){return li(t,Wn,oo)},yi=Object.prototype.hasOwnProperty,fo=function(t,e,n,r,i,o){var u=1&n,l=Kt(t),d=l.length;if(d!=Kt(e).length&&!u)return!1;for(var b=d;b--;){var x=l[b];if(!(u?x in e:yi.call(e,x)))return!1}var j=o.get(t),N=o.get(e);if(j&&N)return j==e&&N==t;var B=!0;o.set(t,e),o.set(e,t);for(var W=u;++b<d;){var ee=t[x=l[b]],ne=e[x];if(r)var oe=u?r(ne,ee,x,e,t,o):r(ee,ne,x,t,e,o);if(!(oe===void 0?ee===ne||i(ee,ne,n,r,o):oe)){B=!1;break}W||(W=x=="constructor")}if(B&&!W){var pe=t.constructor,le=e.constructor;pe==le||!("constructor"in t)||!("constructor"in e)||typeof pe=="function"&&pe instanceof pe&&typeof le=="function"&&le instanceof le||(B=!1)}return o.delete(t),o.delete(e),B},Rr=Tn(yt.a,"DataView"),Ir=Tn(yt.a,"Promise"),Lr=Tn(yt.a,"Set"),po=Tn(yt.a,"WeakMap"),fn=_n(Rr),gn=_n(Jn),vr=_n(Ir),vi=_n(Lr),ho=_n(po),Rn=xt;(Rr&&Rn(new Rr(new ArrayBuffer(1)))!="[object DataView]"||Jn&&Rn(new Jn)!="[object Map]"||Ir&&Rn(Ir.resolve())!="[object Promise]"||Lr&&Rn(new Lr)!="[object Set]"||po&&Rn(new po)!="[object WeakMap]")&&(Rn=function(t){var e=xt(t),n=e=="[object Object]"?t.constructor:void 0,r=n?_n(n):"";if(r)switch(r){case fn:return"[object DataView]";case gn:return"[object Map]";case vr:return"[object Promise]";case vi:return"[object Set]";case ho:return"[object WeakMap]"}return e});var gr=Rn,br=Object.prototype.hasOwnProperty,pa=function(t,e,n,r,i,o){var u=Jt(t),l=Jt(e),d=u?"[object Array]":gr(t),b=l?"[object Array]":gr(e),x=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",j=(b=b=="[object Arguments]"?"[object Object]":b)=="[object Object]",N=d==b;if(N&&Object(Cr.a)(t)){if(!Object(Cr.a)(e))return!1;u=!0,x=!1}if(N&&!x)return o||(o=new Vn),u||uo(t)?ui(t,e,n,r,i,o):hr(t,e,d,n,r,i,o);if(!(1&n)){var B=x&&br.call(t,"__wrapped__"),W=j&&br.call(e,"__wrapped__");if(B||W){var ee=B?t.value():t,ne=W?e.value():e;return o||(o=new Vn),i(ee,ne,n,r,o)}}return!!N&&(o||(o=new Vn),fo(t,e,n,r,i,o))},h=function t(e,n,r,i,o){return e===n||(e==null||n==null||!Nn(e)&&!Nn(n)?e!=e&&n!=n:pa(e,n,r,i,t,o))},v=function(t,e,n,r){var i=n.length,o=i,u=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var d=(l=n[i])[0],b=t[d],x=l[1];if(u&&l[2]){if(b===void 0&&!(d in t))return!1}else{var j=new Vn;if(r)var N=r(b,x,d,t,e,j);if(!(N===void 0?h(x,b,3,r,j):N))return!1}}return!0},w=function(t){return t==t&&!Rt(t)},T=function(t){for(var e=Wn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,w(i)]}return e},D=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},X=function(t){var e=T(t);return e.length==1&&e[0][2]?D(e[0][0],e[0][1]):function(n){return n===t||v(n,t,e)}},re=function(t){return typeof t=="symbol"||Nn(t)&&xt(t)=="[object Symbol]"},me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Te=/^\w*$/,nt=function(t,e){if(Jt(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!re(t))||Te.test(t)||!me.test(t)||e!=null&&t in Object(e)};function tt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(tt.Cache||er),n}tt.Cache=er;var mt=tt,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pt=/\\(\\)?/g,wt=function(t){var e=mt(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vt,function(n,r,i,o){e.push(i?o.replace(pt,"$1"):r||n)}),e}),_t=At?At.prototype:void 0,gt=_t?_t.toString:void 0,xn=function t(e){if(typeof e=="string")return e;if(Jt(e))return Be(e,t)+"";if(re(e))return gt?gt.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},da=function(t){return t==null?"":xn(t)},mr=function(t,e){return Jt(t)?t:nt(t,e)?[t]:wt(da(t))},ir=function(t){if(typeof t=="string"||re(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},_r=function(t,e){for(var n=0,r=(e=mr(e,t)).length;t!=null&&n<r;)t=t[ir(e[n++])];return n&&n==r?t:void 0},yo=function(t,e,n){var r=t==null?void 0:_r(t,e);return r===void 0?n:r},tn=function(t,e){return t!=null&&e in Object(t)},gi=function(t,e,n){for(var r=-1,i=(e=mr(e,t)).length,o=!1;++r<i;){var u=ir(e[r]);if(!(o=t!=null&&n(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&rn(i)&&Cn(u,i)&&(Jt(t)||ao(t))},vo=function(t,e){return t!=null&&gi(t,e,tn)},By=function(t,e){return nt(t)&&w(e)?D(ir(t),e):function(n){var r=yo(n,t);return r===void 0&&r===e?vo(n,t):h(e,r,3)}},ha=function(t){return t},Xy=function(t){return function(e){return e==null?void 0:e[t]}},Fy=function(t){return function(e){return _r(e,t)}},Uy=function(t){return nt(t)?Xy(ir(t)):Fy(t)},Gy=function(t){return typeof t=="function"?t:t==null?ha:typeof t=="object"?Jt(t)?By(t[0],t[1]):X(t):Uy(t)},Hy=function(t){return function(e,n,r){for(var i=-1,o=Object(e),u=r(e),l=u.length;l--;){var d=u[t?l:++i];if(n(o[d],d,o)===!1)break}return e}}(),Yy=function(t,e){return function(n,r){if(n==null)return n;if(!or(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=Object(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(t,e){return t&&Hy(t,e,Wn)}),Vy=function(t,e){var n=-1,r=or(t)?Array(t.length):[];return Yy(t,function(i,o,u){r[++n]=e(i,o,u)}),r},bi=function(t,e){return(Jt(t)?Be:Vy)(t,Gy(e))},mi=function(){try{var t=Tn(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sc=function(t,e,n){e=="__proto__"&&mi?mi(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Wy=Object.prototype.hasOwnProperty,_i=function(t,e,n){var r=t[e];Wy.call(t,e)&&Ke(r,n)&&(n!==void 0||e in t)||sc(t,e,n)},go=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var l=e[o],d=r?r(n[l],t[l],l,n,t):void 0;d===void 0&&(d=t[l]),i?sc(n,l,d):_i(n,l,d)}return n},Ky=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},lc=Math.max,fc=function(t,e,n){return e=lc(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=lc(r.length-e,0),u=Array(o);++i<o;)u[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(u),Ky(t,this,l)}},Zy=function(t){return function(){return t}},qy=mi?function(t,e){return mi(t,"toString",{configurable:!0,enumerable:!1,value:Zy(e),writable:!0})}:ha,$y=Date.now,pc=function(t){var e=0,n=0;return function(){var r=$y(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(qy),Jy=function(t,e){return pc(fc(t,e,ha),t+"")},Qy=function(t,e,n){if(!Rt(n))return!1;var r=typeof e;return!!(r=="number"?or(n)&&Cn(e,n.length):r=="string"&&e in n)&&Ke(n[e],t)},ev=function(t){return Jy(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,u&&Qy(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})},tv=Object.prototype.hasOwnProperty,Nt=ev(function(t,e){if(on(e)||or(e))go(e,Wn(e),t);else for(var n in e)tv.call(e,n)&&_i(t,n,e[n])}),nv=function(t,e,n,r){if(!Rt(t))return t;for(var i=-1,o=(e=mr(e,t)).length,u=o-1,l=t;l!=null&&++i<o;){var d=ir(e[i]),b=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return t;if(i!=u){var x=l[d];(b=r?r(x,d,l):void 0)===void 0&&(b=Rt(x)?x:Cn(e[i+1])?[]:{})}_i(l,d,b),l=l[d]}return t},rv=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],l=_r(t,u);n(l,u)&&nv(o,mr(u,t),l)}return o},ov=function(t,e){return rv(t,e,function(n,r){return vo(t,r)})},dc=At?At.isConcatSpreadable:void 0,iv=function(t){return Jt(t)||ao(t)||!!(dc&&t&&t[dc])},av=function t(e,n,r,i,o){var u=-1,l=e.length;for(r||(r=iv),o||(o=[]);++u<l;){var d=e[u];n>0&&r(d)?n>1?t(d,n-1,r,i,o):Mn(o,d):i||(o[o.length]=d)}return o},uv=function(t){return(t==null?0:t.length)?av(t,1):[]},It,hc,yc,vc,gc,bc,mc,_c,Oc,wc,xc,Ec,jc,Sc,Pc,Ac,kc,In=function(t){return pc(fc(t,void 0,uv),t+"")}(function(t,e){return t==null?{}:ov(t,e)});function Zt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function cv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Et,Tc,at,Xt,ot,Tt,sv={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},ya=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","multipleSelectKey","extraConf"],Dc=(hc=Yt((It=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Zt(this,"stopZoomGraph",hc,this),Zt(this,"stopScrollGraph",yc,this),Zt(this,"stopMoveGraph",vc,this),Zt(this,"adjustEdge",gc,this),Zt(this,"adjustEdgeMiddle",bc,this),Zt(this,"adjustEdgeStartAndEnd",mc,this),Zt(this,"adjustNodePosition",_c,this),Zt(this,"hideAnchors",Oc,this),Zt(this,"hoverOutline",wc,this),Zt(this,"nodeSelectedOutline",xc,this),Zt(this,"edgeSelectedOutline",Ec,this),Zt(this,"nodeTextEdit",jc,this),Zt(this,"edgeTextEdit",Sc,this),Zt(this,"nodeTextDraggable",Pc,this),Zt(this,"edgeTextDraggable",Ac,this),Zt(this,"metaKeyMultipleSelected",kc,this),this.multipleSelectKey="",this.extraConf={},this.defaultConfig={},Nt(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);Nt(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&Nt(u,this.defaultConfig),i===!0){var l=In(sv,ya);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},Nt(u,l)}o===!1&&Nt(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=In(r,ya);return Nt(u,d)}},{key:"getConfig",value:function(){return In(this,ya)}}])&&cv(e.prototype,n),t}()).prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yc=Yt(It.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vc=Yt(It.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gc=Yt(It.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bc=Yt(It.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mc=Yt(It.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_c=Yt(It.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oc=Yt(It.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wc=Yt(It.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xc=Yt(It.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ec=Yt(It.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jc=Yt(It.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sc=Yt(It.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pc=Yt(It.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ac=Yt(It.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kc=Yt(It.prototype,"metaKeyMultipleSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt(It.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);a(98),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Et||(Et={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(Tc||(Tc={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(at||(at={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Xt||(Xt={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(ot||(ot={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Tt||(Tt={}));var Ln,Lt,Mc,Nc,Cc,Rc,Ic,Lc,zc;function Oi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Bc(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Or(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function En(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Ln||(Ln={}));var fv=(Mc=En((Lt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,Or(this,"SCALE_X",Mc,this),Or(this,"SKEW_Y",Nc,this),Or(this,"SKEW_X",Cc,this),Or(this,"SCALE_Y",Rc,this),Or(this,"TRANSLATE_X",Ic,this),Or(this,"TRANSLATE_Y",Lc,this),Or(this,"ZOOM_SIZE",zc,this),this.eventCenter=void 0,this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Oi(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Oi(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=Oi(r,2),l=u[0],d=u[1];return[l+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),!(o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ot.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var l=Oi(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-l[0],b=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=b,this.emitGraphTransform("focusOn")}}])&&lv(e.prototype,n),t}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nc=En(Lt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cc=En(Lt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rc=En(Lt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ic=En(Lt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lc=En(Lt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zc=En(Lt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),En(Lt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),En(Lt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),En(Lt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),En(Lt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt),pv=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},dv=function(t,e){return t&&go(e,Wn(e),t)},hv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},yv=Object.prototype.hasOwnProperty,vv=function(t){if(!Rt(t))return hv(t);var e=on(t),n=[];for(var r in t)(r!="constructor"||!e&&yv.call(t,r))&&n.push(r);return n},va=function(t){return or(t)?co(t,!0):vv(t)},gv=function(t,e){return t&&go(e,va(e),t)},bv=a(156),mv=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},_v=function(t,e){return go(t,oo(t),e)},Xc=so(Object.getPrototypeOf,Object),Fc=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Mn(e,oo(t)),t=Xc(t);return e}:fi,Ov=function(t,e){return go(t,Fc(t),e)},wv=function(t){return li(t,va,Fc)},xv=Object.prototype.hasOwnProperty,Ev=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&xv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ga=function(t){var e=new t.constructor(t.byteLength);return new dr(e).set(new dr(t)),e},jv=function(t,e){var n=e?ga(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Sv=/\w*$/,Pv=function(t){var e=new t.constructor(t.source,Sv.exec(t));return e.lastIndex=t.lastIndex,e},Uc=At?At.prototype:void 0,Gc=Uc?Uc.valueOf:void 0,Av=function(t){return Gc?Object(Gc.call(t)):{}},kv=function(t,e){var n=e?ga(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Tv=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ga(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return jv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return kv(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Pv(t);case"[object Set]":return new r;case"[object Symbol]":return Av(t)}},Hc=Object.create,Dv=function(){function t(){}return function(e){if(!Rt(e))return{};if(Hc)return Hc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Mv=function(t){return typeof t.constructor!="function"||on(t)?{}:Dv(Xc(t))},Nv=function(t){return Nn(t)&&gr(t)=="[object Map]"},Yc=rr.a&&rr.a.isMap,Cv=Yc?Qt(Yc):Nv,Rv=function(t){return Nn(t)&&gr(t)=="[object Set]"},Vc=rr.a&&rr.a.isSet,Iv=Vc?Qt(Vc):Rv,St={};St["[object Arguments]"]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object DataView]"]=St["[object Boolean]"]=St["[object Date]"]=St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Map]"]=St["[object Number]"]=St["[object Object]"]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object Symbol]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Error]"]=St["[object Function]"]=St["[object WeakMap]"]=!1;var Lv=function t(e,n,r,i,o,u){var l,d=1&n,b=2&n,x=4&n;if(r&&(l=o?r(e,i,o,u):r(e)),l!==void 0)return l;if(!Rt(e))return e;var j=Jt(e);if(j){if(l=Ev(e),!d)return mv(e,l)}else{var N=gr(e),B=N=="[object Function]"||N=="[object GeneratorFunction]";if(Object(Cr.a)(e))return Object(bv.a)(e,d);if(N=="[object Object]"||N=="[object Arguments]"||B&&!o){if(l=b||B?{}:Mv(e),!d)return b?Ov(e,gv(l,e)):_v(e,dv(l,e))}else{if(!St[N])return o?e:{};l=Tv(e,N,d)}}u||(u=new Vn);var W=u.get(e);if(W)return W;u.set(e,l),Iv(e)?e.forEach(function(ne){l.add(t(ne,n,r,ne,e,u))}):Cv(e)&&e.forEach(function(ne,oe){l.set(oe,t(ne,n,r,oe,e,u))});var ee=j?void 0:(x?b?wv:Kt:b?va:Wn)(e);return pv(ee||e,function(ne,oe){ee&&(ne=e[oe=ne]),_i(l,oe,t(ne,n,r,oe,e,u))}),l},ba=function(t){return Lv(t,5)};function Wc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wc(Object(n),!0).forEach(function(r){zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zr={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},Bv=Ut(Ut({},zr),{},{width:100,height:80,radius:0}),Xv=Ut(Ut({},zr),{},{r:50}),Fv=Ut(Ut({},zr),{},{rx:55,ry:45}),Uv=Ut(Ut({},zr),{},{rx:50,ry:50}),Gv=Ut({},zr),Hv=Ut(Ut({},zr),{},{stroke:"#000000",strokeWidth:1,r:4}),ma={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},Yv=Ut({},ma),Vv=Ut(Ut({},ma),{},{offset:30}),Wv=Ut(Ut({},ma),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Kc={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},an={rect:Bv,circle:Xv,diamond:Uv,ellipse:Fv,polygon:Gv,anchor:Hv,text:Kc,nodeText:Ut(Ut({},Kc),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:Yv,polyline:Vv,bezier:Wv,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#373738",strokeWidth:"2px"}};function Zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zc(Object(n),!0).forEach(function(r){Kv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $c=function(t){var e=ba(an);return t&&Object.keys(t).forEach(function(n){e[n]=qc(qc({},e[n]),t[n])}),e};function wi(t,e){return e*Math.round(t/e)||t}function Jc(t,e){return t%e}function _a(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Qc(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Oa,wa=function(t,e,n){var r=_a(t,2),i=r[0],o=r[1],u=_a(e,2),l=u[0],d=u[1],b=_a(n,2),x=b[0],j=b[1];return i>l&&i<x&&o>d&&o<j},Zv=(a(36),a(61),a(71),a(153),a(154),a(72),a(12),a(13),a(14),a(41),new Uint8Array(16));function qv(){if(!Oa&&!(Oa=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oa(Zv)}for(var $v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Jv=function(t){return typeof t=="string"&&$v.test(t)},Vt=[],xa=0;xa<256;++xa)Vt.push((xa+256).toString(16).substr(1));var Qv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vt[t[e+0]]+Vt[t[e+1]]+Vt[t[e+2]]+Vt[t[e+3]]+"-"+Vt[t[e+4]]+Vt[t[e+5]]+"-"+Vt[t[e+6]]+Vt[t[e+7]]+"-"+Vt[t[e+8]]+Vt[t[e+9]]+"-"+Vt[t[e+10]]+Vt[t[e+11]]+Vt[t[e+12]]+Vt[t[e+13]]+Vt[t[e+14]]+Vt[t[e+15]]).toLowerCase();if(!Jv(n))throw TypeError("Stringified UUID is invalid");return n},Ea=function(t,e,n){var r=(t=t||{}).random||(t.rng||qv)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Qv(r)},Br=function(){return Ea()},eg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+Ea(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+Ea(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},bo=(a(99),a(196),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function es(t){return(es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ts(Object(n),!0).forEach(function(r){tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe,rs,os,is,as,us,cs,ss,ls,fs,ps,ds,hs,ys,vs,gs,bs,ms,_s,Os,ws,xs,Es,js,Ss,ja=function(t){return t.anchors},xi=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(rg(t,e[r])){var i=ng(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},ng=function(t,e){for(var n,r=ja(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=zn(t.x,t.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:ns(ns({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},zn=function(t,e,n,r){return Math.hypot(t-n,e-r)},ar=function(t,e){var n=!1,r=pn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},rg=function(t,e){var n=!1,r=pn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},pn=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Ps=function(t,e,n){var r,i=function(u){var l=u,d=l.x,b=l.y,x=l.width,j=l.height,N=l.radius;return[{x:d-x/2+N,y:b-j/2+N,r:N},{x:d+x/2-N,y:b-j/2+N,r:N},{x:d-x/2+N,y:b+j/2-N,r:N},{x:d+x/2-N,y:b+j/2-N,r:N}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var l=zn(t.x,t.y,u.x,u.y);l<o&&(o=l,r=u)}),Sa(t,e,r)},Sa=function(t,e,n){var r,i=n,o=i.x,u=i.y,l=i.r;if(e===Tt.HORIZONTAL){var d=o-Math.sqrt(l*l-(t.y-u)*(t.y-u)),b=o+Math.sqrt(l*l-(t.y-u)*(t.y-u));r={x:Math.abs(d-t.x)<Math.abs(b-t.x)?d:b,y:t.y}}else if(e===Tt.VERTICAL){var x=u-Math.sqrt(l*l-(t.x-o)*(t.x-o)),j=u+Math.sqrt(l*l-(t.x-o)*(t.x-o)),N=Math.abs(x-t.y)<Math.abs(j-t.y)?x:j;r={x:t.x,y:N}}return r},As=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,b=n.y,x=n.width,j=n.height;return t.y===b+j/2||t.y===b-j/2?r=t.x>i&&t.x<o:t.x!==d+x/2&&t.x!==d-x/2||(r=t.y>u&&t.y<l),r},ks=function(t,e,n){var r,i=n,o=i.x,u=i.y,l=i.rx,d=i.ry;if(e===Tt.HORIZONTAL){var b=o-Math.sqrt(l*l-(t.y-u)*(t.y-u)*l*l/(d*d)),x=o+Math.sqrt(l*l-(t.y-u)*(t.y-u)*l*l/(d*d));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===Tt.VERTICAL){var j=u-Math.sqrt(d*d-(t.x-o)*(t.x-o)*d*d/(l*l)),N=u+Math.sqrt(d*d-(t.x-o)*(t.x-o)*d*d/(l*l)),B=Math.abs(j-t.y)<Math.abs(N-t.y)?j:N;r={x:t.x,y:B}}return r},Ts=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<i.length;l++)u.push({start:i[l],end:i[(l+1)%i.length]});return u.forEach(function(d){var b=d.start,x=d.end,j=b,N=x;b.x>x.x&&(j=x,N=b);var B,W=(N.y-j.y)/(N.x-j.x),ee=(j.x*N.y-N.x*j.y)/(j.x-N.x);if(W>Number.MAX_SAFE_INTEGER||ee>Number.MAX_SAFE_INTEGER?B={x:t.x,y:t.y}:e===Tt.HORIZONTAL?B={x:(t.y-ee)/W,y:t.y}:e===Tt.VERTICAL&&(B={x:t.x,y:W*t.x+ee}),bo(B,b,x)){var ne=zn(B.x,B.y,t.x,t.y);ne<o&&(o=ne,r=B)}}),r},Ds=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},Ms=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=e,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},Ei=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var u=za(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Ns=function(t){return es(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},bn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},og=1e3,ig=999,Pa=function(){return++og};function Cs(t){return(Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qe(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function Rs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mt=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rs(Object(n),!0).forEach(function(r){ug(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1,hideOutline:!1},an.line),Aa=(rs=qe((Oe=function(){function t(r,i,o){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=Br(),this.BaseType=Xt.EDGE,kt(this,"state",rs,this),this.modelType=at.EDGE,this.additionStateData=void 0,this.graphModel=void 0,this.menu=void 0,this.sourceAnchorId=Mt.sourceAnchorId,this.targetAnchorId=Mt.targetAnchorId,this.customTextPosition=!1,kt(this,"text",os,this),kt(this,"type",is,this),kt(this,"properties",as,this),kt(this,"sourceNodeId",us,this),kt(this,"targetNodeId",cs,this),kt(this,"startPoint",ss,this),kt(this,"endPoint",ls,this),kt(this,"strokeWidth",fs,this),kt(this,"stroke",ps,this),kt(this,"strokeDashArray",ds,this),kt(this,"outlineColor",hs,this),kt(this,"hideOutline",ys,this),kt(this,"outlineStrokeDashArray",vs,this),kt(this,"strokeOpacity",gs,this),kt(this,"zIndex",bs,this),kt(this,"isSelected",ms,this),kt(this,"isHovered",_s,this),kt(this,"isHitable",Os,this),kt(this,"hoverStroke",ws,this),kt(this,"selectedStroke",xs,this),kt(this,"points",Es,this),kt(this,"pointsList",js,this),kt(this,"draggable",Ss,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}Nt(this,Og(r)),this.graphModel.overlapMode===Ln.INCREASE&&(this.zIndex=r.zIndex||Pa())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,u;return ja(r).forEach(function(l){var d=ol(l,i);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return ja(r).forEach(function(l){var d=ol(l,u.startPoint);o?d<o&&(o=d,i=l):(o=d,i=l)}),i}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:i,y:o,value:u}),this.graphModel.overlapMode===Ln.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"setProperty",value:function(r,i){this.properties[r]=bn(i),this.setAttributes()}},{key:"setProperties",value:function(r){Object.assign(this.properties,bn(r)),this.setAttributes()}},{key:"updateData",value:function(r){var i=bn(In(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,u=o.x,l=o.y,d=o.draggable,b=o.editable;if(i.text&&typeof i.text=="string"){var x={value:i.text,draggable:d,editable:b},j=this.textPosition;i.text=u||l?Object.assign({},x,{x:u,y:l}):Object.assign({},x,j)}else if(Cs(i.text)==="object"){var N=Object.assign({},this.text,i.text);i.text=In(N,"x","y","value","draggable","editable")}Nt(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,b=o.draggable,x=o.editable;this.text={value:d,draggable:b,x:u+r,y:l+i,editable:x}}}},{key:"setText",value:function(r){r&&Nt(this.text,r)}},{key:"updateText",value:function(r){var i=this.text,o=i.x,u=i.y,l=i.draggable,d=i.editable;this.text={x:o,y:u,draggable:l,editable:d,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&Nt(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Nt(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&ag(e.prototype,n),t}()).prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),os=qe(Oe.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.text}}),is=qe(Oe.prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),as=qe(Oe.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),us=qe(Oe.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.sourceNodeId}}),cs=qe(Oe.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.targetNodeId}}),ss=qe(Oe.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.startPoint}}),ls=qe(Oe.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.endPoint}}),fs=qe(Oe.prototype,"strokeWidth",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.strokeWidth}}),ps=qe(Oe.prototype,"stroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.stroke}}),ds=qe(Oe.prototype,"strokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.strokeDashArray}}),hs=qe(Oe.prototype,"outlineColor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.outlineColor}}),ys=qe(Oe.prototype,"hideOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.hideOutline}}),vs=qe(Oe.prototype,"outlineStrokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.outlineStrokeDashArray}}),gs=qe(Oe.prototype,"strokeOpacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.strokeOpacity}}),bs=qe(Oe.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.zIndex}}),ms=qe(Oe.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.isSelected}}),_s=qe(Oe.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.isHovered}}),Os=qe(Oe.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ws=qe(Oe.prototype,"hoverStroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.hoverStroke}}),xs=qe(Oe.prototype,"selectedStroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.selectedStroke}}),Es=qe(Oe.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.points}}),js=qe(Oe.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.pointsList}}),Ss=qe(Oe.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qe(Oe.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),qe(Oe.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),qe(Oe.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),qe(Oe.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),qe(Oe.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),qe(Oe.prototype,"updateData",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateData"),Oe.prototype),qe(Oe.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),qe(Oe.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),qe(Oe.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),qe(Oe.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),qe(Oe.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),qe(Oe.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),qe(Oe.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),qe(Oe.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),qe(Oe.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),qe(Oe.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),qe(Oe.prototype,"updateStroke",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStroke"),Oe.prototype),qe(Oe.prototype,"updateStrokeWidth",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStrokeWidth"),Oe.prototype),qe(Oe.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),qe(Oe.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),qe(Oe.prototype,"setStyleFromTheme",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyleFromTheme"),Oe.prototype),qe(Oe.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),qe(Oe.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),qe(Oe.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),qe(Oe.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),qe(Oe.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),qe(Oe.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),ka=Aa;function Is(t){return(Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ls(t,e){return(Ls=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function sg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ta(t);if(e){var i=Ta(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lg(this,n)}}function lg(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ta(t){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ut,zs,Da=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ls(o,u)})(i,t);var e,n,r=sg(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"line")).modelType=at.LINE_EDGE,l}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&cg(e.prototype,n),i}(ka);a(42);function Bs(t){return(Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xs(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fs(){return(Fs=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=dg(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function dg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=mo(t))!==null;);return t}function Us(t,e){return(Us=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function hg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mo(t);if(e){var i=mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yg(this,n)}}function yg(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gs(t)}function Gs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function dn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ma=(zs=dn((ut=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Us(o,u)})(i,t);var e,n,r=hg(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"polyline")).modelType=at.POLYLINE_EDGE,l.offset=an.polyline.offset,l.draginngPointList=void 0,function(d,b,x,j){x&&Object.defineProperty(d,b,{enumerable:x.enumerable,configurable:x.configurable,writable:x.writable,value:x.initializer?x.initializer.call(j):void 0})}(l,"dbClickPosition",zs,Gs(l)),l}return e=i,(n=[{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=Xr(this.points),b=fg(mg(d),2),x=b[0],j=b[1];return{x:(x.x+j.x)/2,y:(x.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,b;return l.forEach(function(x){var j;o===Tt.HORIZONTAL?j=Math.abs(u.y-x.y):o===Tt.VERTICAL&&(j=Math.abs(u.x-x.x)),(!b||b>j)&&(b=j,d=x)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===Tt.HORIZONTAL?d={x:l.x,y:u.y}:o===Tt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(oe){return oe});if(o===1){var b=d[o],x=d[u],j=d[o-1];if(Js(j,b,this.sourceNode)){if(Qs(b,x,this.sourceNode)){var N=el(b,x,this.sourceNode);N&&(d[o]=N,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===j.x&&oe.x===b.x||oe.y===j.y&&oe.y===b.y)&&zn(oe.x,oe.y,b.x,b.y)<zn(j.x,j.y,b.x,b.y)&&(d[o-1]=oe)})}if(u===l.length-2){var B=d[o],W=d[u],ee=d[u+1];if(Js(W,ee,this.targetNode)){if(Qs(B,W,this.targetNode)){var ne=el(B,W,this.targetNode);ne&&(d[u]=ne,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===ee.x&&oe.x===W.x||oe.y===ee.y&&oe.y===W.y)&&zn(oe.x,oe.y,W.x,W.y)<zn(ee.x,ee.y,W.x,W.y)&&(d[u+1]=oe)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,b){var x=b.map(function(B){return B}),j=this.getAfterAnchor(o,l,d),N=this.getCorssPoint(o,l,j);return u==="start"?(x.unshift(N),x.unshift(j)):(x.push(N),x.push(j)),x}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(le){return le}),l=o[0],d=o[1],b=o[u.length-2],x=o[u.length-1],j=this.sourceNode,N=this.targetNode,B=j.modelType,W=N.modelType,ee=Ti(l,d),ne=u[0];switch(B){case at.RECT_NODE:j.radius!==0&&(As(l,j)||(ne=Ps(l,ee,j)));break;case at.CIRCLE_NODE:ne=Sa(l,ee,j);break;case at.ELLIPSE_NODE:ne=ks(l,ee,j);break;case at.DIAMOND_NODE:case at.POLYGON_NODE:ne=Ts(l,ee,j)}u[0]=ne;var oe=Ti(b,x),pe=u[u.length-1];switch(W){case at.RECT_NODE:N.radius!==0&&(As(x,N)||(pe=Ps(x,oe,N)));break;case at.CIRCLE_NODE:pe=Sa(x,oe,N);break;case at.ELLIPSE_NODE:pe=ks(x,oe,N);break;case at.DIAMOND_NODE:case at.POLYGON_NODE:pe=Ts(x,oe,N)}return u[u.length-1]=pe,u}},{key:"getData",value:function(){var o=Fs(mo(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=$s({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){var l=o.start,d=o.end,b=o.startIndex,x=o.endIndex,j=o.direction,N=this.pointsList,B=N;return j===Tt.HORIZONTAL?(N[b]={x:l.x,y:l.y+u.y},N[x]={x:d.x,y:d.y+u.y},B=this.pointsList.map(function(W){return W})):j===Tt.VERTICAL&&(N[b]={x:l.x+u.x,y:l.y},N[x]={x:d.x+u.x,y:d.y},B=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[b]),end:Object.assign({},N[x]),startIndex:b,endIndex:x,direction:j}}},{key:"dragAppend",value:function(o,u){var l=o.start,d=o.end,b=o.startIndex,x=o.endIndex,j=o.direction,N=this.pointsList;if(j===Tt.HORIZONTAL){N[b]={x:l.x,y:l.y+u.y},N[x]={x:d.x,y:d.y+u.y};var B=this.pointsList.map(function(De){return De});if(b!==0&&x!==this.pointsList.length-1&&(B=this.removeCrossPoints(b,x,B)),b===0){var W={x:l.x,y:l.y+u.y};if(!ar(W,this.sourceNode)){var ee=this.sourceNode.anchors;B=this.getDragingPoints(j,"start",W,ee,B)}}if(x===this.pointsList.length-1){var ne={x:d.x,y:d.y+u.y};if(!ar(ne,this.targetNode)){var oe=this.targetNode.anchors;B=this.getDragingPoints(j,"end",ne,oe,B)}}B=La(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(j===Tt.VERTICAL){N[b]={x:l.x+u.x,y:l.y},N[x]={x:d.x+u.x,y:d.y};var pe=this.pointsList.map(function(De){return De});if(b!==0&&x!==this.pointsList.length-1&&(pe=this.removeCrossPoints(b,x,pe)),b===0){var le={x:l.x+u.x,y:l.y};if(!ar(le,this.sourceNode)){var Se=this.sourceNode.anchors;pe=this.getDragingPoints(j,"start",le,Se,pe)}}if(x===this.pointsList.length-1){var he={x:d.x+u.x,y:d.y};if(!ar(he,this.targetNode)){var Re=this.targetNode.anchors;pe=this.getDragingPoints(j,"end",he,Re,pe)}}pe=La(pe),this.updatePointsAfterDrage(pe),this.draginngPointList=pe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[b]),end:Object.assign({},N[x]),startIndex:b,endIndex:x,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Xr(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,b=o.targetNode,x=$s({x:u.x,y:u.y},{x:l.x,y:l.y},d,b,this.offset||0);this.pointsList=x,this.initPoints()}}])&&pg(e.prototype,n),i}(ka)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dn(ut.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),dn(ut.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),dn(ut.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),dn(ut.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),dn(ut.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),dn(ut.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),dn(ut.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),dn(ut.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),dn(ut.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrage"),ut.prototype),dn(ut.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),dn(ut.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),dn(ut.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),_o=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-e.y)/(n.x-e.x)),d=Math.atan(r/i),b=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(u.leftX=e.x+b*Math.sin(l+d),u.leftY=e.y-b*Math.cos(l+d),u.rightX=e.x-b*Math.sin(l-d),u.rightY=e.y+b*Math.cos(l-d)):(u.leftX=e.x-b*Math.sin(l+d),u.leftY=e.y+b*Math.cos(l+d),u.rightX=e.x+b*Math.sin(l-d),u.rightY=e.y-b*Math.cos(l-d)):o==="end"&&(n.x>=e.x?(u.leftX=n.x+b*Math.sin(l-d),u.leftY=n.y-b*Math.cos(l-d),u.rightX=n.x-b*Math.sin(l+d),u.rightY=n.y+b*Math.cos(l+d)):(u.leftX=n.x-b*Math.sin(l-d),u.leftY=n.y+b*Math.cos(l-d),u.rightX=n.x+b*Math.sin(l+d),u.rightY=n.y-b*Math.cos(l+d))),u};function Hs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hs(Object(n),!0).forEach(function(r){vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gg(t){return function(e){if(Array.isArray(e))return Ca(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Vs(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ys(t){return(Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Na(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||Vs(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vs(t,e){if(t){if(typeof t=="string")return Ca(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ca(t,e):void 0}}function Ca(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ra=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Si=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Pi=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?Tt.HORIZONTAL:Tt.VERTICAL}(e,t)===Tt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Ws=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Oo=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(x){n.push(x.x),r.push(x.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-i,b=l-u;return e&&(d+=e,b+=e),{centerX:(i+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:i,minY:u,x:(i+o)/2,y:(u+l)/2,height:b,width:d}},Ai=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},ki=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ia=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Ks=function(t,e,n,r,i){return Ia(t,e)+Ia(t,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(t,[e,n,r,i])},wo=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(t.x-n.x)+i*(t.y-n.y))/(-u*o+i*l),b=(u*(t.y-n.y)-l*(t.x-n.x))/(-u*o+i*l);return d>=0&&d<=1&&b>=0&&b<=1},Zs=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Na(Ai(n),4),i=r[0],o=r[1],u=r[2],l=r[3];return wo(t,e,i,o)||wo(t,e,i,l)||wo(t,e,o,u)||wo(t,e,u,l)},bg=function(t,e,n,r,i,o,u){var l=[],d=[e],b={},x={},j={};x[e.id]=0,j[e.id]=Ks(e,n,e);var N={};t.forEach(function(ee){N[ee.id]=ee});for(var B=function(){var ee,ne,oe,pe=void 0,le=1/0;if(d.forEach(function(he){j[he.id]<le&&(le=j[he.id],pe=he)}),pe===n){var Se=[];return function he(Re,De,Ue,dt,jt){jt||(jt=0),Re.unshift(De[dt]),Ue[dt]&&Ue[dt]!==dt&&jt<=100&&he(Re,De,Ue,Ue[dt],jt+1)}(Se,N,b,n.id),{v:Se}}ne=pe,(oe=(ee=d).indexOf(ne))>-1&&ee.splice(oe,1),l.push(pe),function(he,Re,De,Ue){var dt=[];return he.forEach(function(jt){jt!==Re&&(jt.x!==Re.x&&jt.y!==Re.y||Zs(jt,Re,De)||Zs(jt,Re,Ue)||dt.push(jt))}),Ra(dt)}(t,pe,r,i).forEach(function(he){if(l.indexOf(he)===-1){d.indexOf(he)===-1&&d.push(he);var Re=j[pe.id]+Ia(pe,he);x[he.id]&&Re>=x[he.id]||(b[he.id]=pe.id,x[he.id]=Re,j[he.id]=x[he.id]+Ks(he,n,e,o,u))}})};d.length;){var W=B();if(Ys(W)==="object")return W.v}return[e,n]},qs=function(t){return pn(t)},La=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},$s=function(t,e,n,r,i){var o,u,l=qs(n),d=qs(r),b=Si(l,i),x=Si(d,i),j=Pi(b,t),N=Pi(x,e);if(o=b,u=x,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var B=_g(t,e,j,N);return[t,j].concat(gg(B),[N,e])}var W=Oo([j,N]),ee=Ws(b,W),ne=Ws(x,W),oe=[];oe=(oe=oe.concat(Ai(ee))).concat(Ai(ne));var pe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[W,ee,ne].forEach(function(Se){oe=oe.concat(function(he,Re){return function(De,Ue){return Ue<De.minX||Ue>De.maxX?[]:[{x:Ue,y:De.minY},{x:Ue,y:De.maxY}]}(he,Re.x).concat(function(De,Ue){return Ue<De.minY||Ue>De.maxY?[]:[{x:De.minX,y:Ue},{x:De.maxX,y:Ue}]}(he,Re.y))}(Se,pe).filter(function(he){return ki(he,b)&&ki(he,x)}))}),[{x:j.x,y:N.y},{x:N.x,y:j.y}].forEach(function(Se){ki(Se,b)&&ki(Se,x)&&oe.push(Se)}),oe.unshift(j),oe.push(N),oe=Ra(oe);var le=bg(oe,j,N,l,d,t,e);return le.unshift(t),le.push(e),le.length>2&&(le=La(le)),Ra(le)},mg=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=zn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var u=t[o],l=t[o+1],d=zn(u.x,u.y,l.x,l.y);d>i&&(i=d,n=u,r=l)}e=[n,r]}return e},Js=function(t,e,n){var r=ar(t,n),i=ar(e,n);return r&&i},Qs=function(t,e,n){var r=ar(t,n),i=ar(e,n);return!(r&&i)&&(r||i)},el=function(t,e,n){for(var r,i,o=pn(n),u=Ai(o),l=0;l<u.length;l++)wo(t,e,u[l],u[(l+1)%u.length])&&(i=[u[l],u[(l+1)%u.length]]);return i&&(r=function(d,b,x,j){var N=(b.y-d.y)*(j.x-x.x)-(d.x-b.x)*(x.y-j.y);if(N===0)return!1;var B=((b.x-d.x)*(j.x-x.x)*(x.y-d.y)+(b.y-d.y)*(j.x-x.x)*d.x-(j.y-x.y)*(b.x-d.x)*x.x)/N,W=-((b.y-d.y)*(j.y-x.y)*(x.x-d.x)+(b.x-d.x)*(j.y-x.y)*d.y-(j.x-x.x)*(b.y-d.y)*x.y)/N;return(B-d.x)*(B-b.x)<=0&&(W-d.y)*(W-b.y)<=0&&(B-x.x)*(B-j.x)<=0&&(W-x.y)*(W-j.y)<=0&&{x:B,y:W}}(t,e,i[0],i[1])),r},Ti=function(t,e){var n;return t.x===e.x?n=Tt.VERTICAL:t.y===e.y&&(n=Tt.HORIZONTAL),n},Xr=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=Na(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},_g=function(t,e,n,r){var i=[];if(Ti(t,n)===Ti(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=bo(o,t,n),l=bo(o,e,r);if(u||l)o={x:r.x,y:n.y};else{var d=tl(o,t,n),b=tl(o,e,r);d&&b&&(o={x:r.x,y:n.y})}i.push(o)}return i},tl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},za=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},nl=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,u=pn(r),l=pn(i),d=Si(u,o),b=Si(l,o);return{sNext:Pi(d,e),ePre:Pi(b,n)}},Di=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Mi(e[0]),Mi(e[1]),Mi(e[2]),Mi(e[3])]},Mi=function(t){var e=Na(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},rl=function(t,e){for(var n,r=t.x,i=t.y,o=Xr(e),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(N){var B=N.start,W=N.end;if(B.x===W.x){var ee={x:B.x,y:i};if(bo(ee,B,W)){var ne=Math.abs(B.x-r);ne<u&&(u=ne,n=ee)}}else if(B.y===W.y){var oe={x:r,y:B.y};if(bo(oe,B,W)){var pe=Math.abs(B.y-i);pe<u&&(u=pe,n=oe)}}}),!n){var b=l[0],x=b.start,j=b.end;n={x:x.x+(j.x-x.x)/2,y:x.y+(j.y-x.y)/2}}return n},Og=function(t){return In(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},ol=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Fr=function(){};function wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ur=window.document;function xo(t){var e=t.onDragStart,n=e===void 0?Fr:e,r=t.onDraging,i=r===void 0?Fr:r,o=t.onDragEnd,u=o===void 0?Fr:o,l=t.step,d=l===void 0?1:l,b=t.isStopPropagation,x=b===void 0||b,j=!1,N=!1,B=0,W=0,ee=0,ne=0;function oe(le){if(x&&le.stopPropagation(),N&&(j=!0,ee+=le.clientX-B,ne+=le.clientY-W,B=le.clientX,W=le.clientY,Math.abs(ee)>d||Math.abs(ne)>d)){var Se=ee%d,he=ne%d,Re=ee-Se,De=ne-he;ee=Se,ne=he,i({deltaX:Re,deltaY:De,event:le})}}function pe(le){if(x&&le.stopPropagation(),N=!1,ur.removeEventListener("mousemove",oe,!1),ur.removeEventListener("mouseup",pe,!1),j)return j=!1,u({event:le})}return function(le){if(le.button===0)return x&&le.stopPropagation(),N=!0,B=le.clientX,W=le.clientY,ur.addEventListener("mousemove",oe,!1),ur.addEventListener("mouseup",pe,!1),n({event:le})}}var se,il,al,ul,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,_l,Ol,Eo=function(){function t(r){var i=this,o=r.onDragStart,u=o===void 0?Fr:o,l=r.onDraging,d=l===void 0?Fr:l,b=r.onDragEnd,x=b===void 0?Fr:b,j=r.eventType,N=j===void 0?"":j,B=r.eventCenter,W=B===void 0?null:B,ee=r.step,ne=ee===void 0?1:ee,oe=r.isStopPropagation,pe=oe===void 0||oe,le=r.model,Se=le===void 0?null:le;(function(he,Re){if(!(he instanceof Re))throw new TypeError("Cannot call a class as a function")})(this,t),this.onDragStart=void 0,this.onDraging=void 0,this.onDragEnd=void 0,this.step=void 0,this.isStopPropagation=void 0,this.isDraging=!1,this.isStartDraging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.eventType=void 0,this.eventCenter=void 0,this.model=void 0,this.startTime=void 0,this.isGrag=void 0,this.handleMouseDown=function(he){var Re,De,Ue;if(he.button===0){i.isStopPropagation&&he.stopPropagation(),i.isStartDraging=!0,i.startX=he.clientX,i.startY=he.clientY,ur.addEventListener("mousemove",i.handleMouseMove,!1),ur.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:he});var dt=(Re=i.model)===null||Re===void 0?void 0:Re.getData();(De=i.eventCenter)===null||De===void 0||De.emit(ot["".concat(i.eventType,"_MOUSEDOWN")],{e:he,data:dt}),(Ue=i.eventCenter)===null||Ue===void 0||Ue.emit(ot["".concat(i.eventType,"_DRAGSTART")],{e:he,data:dt}),i.startTime=new Date().getTime()}},this.handleMouseMove=function(he){if(i.isStopPropagation&&he.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=he.clientX-i.startX,i.sumDeltaY+=he.clientY-i.startY,i.startX=he.clientX,i.startY=he.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Re,De,Ue,dt=i.sumDeltaX%i.step,jt=i.sumDeltaY%i.step,nn=i.sumDeltaX-dt,Pn=i.sumDeltaY-jt;i.sumDeltaX=dt,i.sumDeltaY=jt,i.onDraging({deltaX:nn,deltaY:Pn,event:he});var hn=(Re=i.model)===null||Re===void 0?void 0:Re.getData();(De=i.eventCenter)===null||De===void 0||De.emit(ot["".concat(i.eventType,"_MOUSEMOVE")],{e:he,data:hn}),(Ue=i.eventCenter)===null||Ue===void 0||Ue.emit(ot["".concat(i.eventType,"_DRAG")],{e:he,data:hn})}},this.handleMouseUp=function(he){var Re,De,Ue;if(i.isStartDraging=!1,i.isStopPropagation&&he.stopPropagation(),ur.removeEventListener("mousemove",i.handleMouseMove,!1),ur.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:he});var dt=(Re=i.model)===null||Re===void 0?void 0:Re.getData();(De=i.eventCenter)===null||De===void 0||De.emit(ot["".concat(i.eventType,"_MOUSEUP")],{e:he,data:dt}),(Ue=i.eventCenter)===null||Ue===void 0||Ue.emit(ot["".concat(i.eventType,"_DROP")],{e:he,data:dt})}},this.onDragStart=u,this.onDraging=d,this.onDragEnd=x,this.step=ne,this.isStopPropagation=pe,this.eventType=N,this.eventCenter=W,this.model=Se}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&wg(e.prototype,n),t}();function wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wl(Object(n),!0).forEach(function(r){xg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return El(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return El(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function El(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Eg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ve(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jl,Sl=(il=Ve((se=function(){function t(r){(function(W,ee){if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,t),this.BaseType=Xt.GRAPH,this.modelType=at.GRAPH,this.rootEl=void 0,this.theme=void 0,this.eventCenter=void 0,this.modelMap=new Map,this.width=void 0,this.height=void 0,this.topElement=void 0,this.selectElement=void 0,this.idGenerator=void 0,this.nodeMoveRules=[],Wt(this,"edgeType",il,this),Wt(this,"nodes",al,this),Wt(this,"activeElement",ul,this),Wt(this,"activeElementState",cl,this),Wt(this,"state",sl,this),Wt(this,"additionStateData",ll,this),Wt(this,"edges",fl,this),Wt(this,"isSlient",pl,this),Wt(this,"overlapMode",dl,this),Wt(this,"plugins",hl,this),Wt(this,"tools",yl,this),Wt(this,"background",vl,this),Wt(this,"transformMatrix",gl,this),Wt(this,"editConfig",bl,this),Wt(this,"gridSize",ml,this),Wt(this,"partial",_l,this),Wt(this,"fakerNode",Ol,this);var i=r.container,o=r.background,u=o===void 0?{}:o,l=r.grid,d=(l=l===void 0?{}:l).size,b=d===void 0?1:d,x=r.isSilentMode,j=x!==void 0&&x,N=r.eventCenter,B=r.idGenerator;this.background=u,this.isSlient=j,this.gridSize=b,this.rootEl=i,this.editConfig=new Dc(r),this.eventCenter=N,this.transformMatrix=new fv(N),this.theme=$c(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=B}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,N){return j.zIndex-N.zIndex});for(var i=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var b=r[d];this.partial&&!this.isElementInArea(b,u,l,!1)||(b.zIndex===9999&&(o=i.length),i.push(b))}if(o!==-1){var x=i[i.length-1];i[i.length-1]=i[o],i[o]=x}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],u=[];this.nodes.forEach(function(b){return u.push(b)}),this.edges.forEach(function(b){return u.push(b)});for(var l=0;l<u.length;l++){var d=u[l];this.isElementInArea(d,r,i)&&o.push(d)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:i-u.left,y:o-u.top},d=xl(this.transformMatrix.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===Xt.NODE){for(var l=pn(r=r),d=l.minX,b=l.minY,x=l.maxX,j=l.maxY,N=[{x:d,y:b},{x,y:b},{x,y:j},{x:d,y:j}],B=!0,W=0;W<N.length;W++){var ee=N[W],ne=ee.x,oe=ee.y,pe=this.transformMatrix.CanvasPointToHtmlPoint([ne,oe]),le=xl(pe,2);if(ne=le[0],oe=le[1],!wa([ne,oe],i,o)){B=!1;break}}return B}if(r.BaseType===Xt.EDGE){var Se=r=r,he=Se.startPoint,Re=Se.endPoint,De=this.transformMatrix.CanvasPointToHtmlPoint([he.x,he.y]),Ue=this.transformMatrix.CanvasPointToHtmlPoint([Re.x,Re.y]),dt=wa(De,i,o),jt=wa(Ue,i,o);return u?dt&&jt:dt||jt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=bi(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=wi(l,i.gridSize),o.y=wi(d,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=Jc(l,i.gridSize),o.text.y-=Jc(d,i.gridSize))),new u(o,i)}),this.edges=bi(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Xt.NODE&&o.nodes.push(u.getData()),u.BaseType===Xt.EDGE){var l=u.getData(),d=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=Br()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=Br()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=Ur(Ur({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,u,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&((u=this.topElement)===null||u===void 0||u.setZIndex(),this.topElement=l,l.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(l=i),i==="top"&&(l=Pa()),i==="bottom"&&(l=--ig),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ot.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=bn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(ot.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model;d.move(i,o,u),this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=this.nodesMap[r];if(u){var l=u.model,d=i-l.x,b=o-l.y;this.moveNode(r,d,b)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,Et.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=bn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FDE\u7EBF\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FDE\u7EBF\u3002"));var l=new u(Ur(Ur({},i),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(ot.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],b=d.textPosition,x=b.x,j=b.y,N=this.edges[u].sourceNodeId===r,B=this.edges[u].targetNodeId===r;if(N&&d.updateStartPoint({x:d.startPoint.x+i,y:d.startPoint.y+o}),B&&d.updateEndPoint({x:d.endPoint.x+i,y:d.endPoint.y+o}),N||B)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===at.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var W=d.text,ee=rl(W,d.points);d.moveText(ee.x-W.x,ee.y-W.y)}else{var ne=d.textPosition,oe=ne.x,pe=ne.y;d.moveText(oe-x,pe-j)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(ot.EDGE_DELETE,{data:u})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(ot.EDGE_DELETE,{data:o})}}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ot.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ot.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Et.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Et.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,u,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||((u=this.selectElement)===null||u===void 0||u.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,u,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||((u=this.selectElement)===null||u===void 0||u.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==Ln.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var u=this;r.nodes.forEach(function(l){return u.moveNode(l.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(b){if(b.sourceNodeId===r){var x=Ds(d,b.startPoint,d.width,d.height);b.updateStartPoint(x)}if(b.targetNodeId===r){var j=Ds(d,b.endPoint,d.width,d.height);b.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTheme",value:function(r){this.theme=$c(Ur(Ur({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&Eg(e.prototype,n),t}()).prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),al=Ve(se.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ul=Ve(se.prototype,"activeElement",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cl=Ve(se.prototype,"activeElementState",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sl=Ve(se.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ll=Ve(se.prototype,"additionStateData",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fl=Ve(se.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pl=Ve(se.prototype,"isSlient",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dl=Ve(se.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hl=Ve(se.prototype,"plugins",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yl=Ve(se.prototype,"tools",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vl=Ve(se.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gl=Ve(se.prototype,"transformMatrix",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bl=Ve(se.prototype,"editConfig",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=Ve(se.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_l=Ve(se.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ol=Ve(se.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve(se.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"nodesMap"),se.prototype),Ve(se.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"edgesMap"),se.prototype),Ve(se.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"sortElements"),se.prototype),Ve(se.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"textEditElement"),se.prototype),Ve(se.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"selectElements"),se.prototype),Ve(se.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setFakerNode"),se.prototype),Ve(se.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeFakerNode"),se.prototype),Ve(se.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setModel"),se.prototype),Ve(se.prototype,"updateEdgeByIndex",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"updateEdgeByIndex"),se.prototype),Ve(se.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"toFront"),se.prototype),Ve(se.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementZIndex"),se.prototype),Ve(se.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteNode"),se.prototype),Ve(se.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"addNode"),se.prototype),Ve(se.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"cloneNode"),se.prototype),Ve(se.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNode"),se.prototype),Ve(se.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNode2Coordinate"),se.prototype),Ve(se.prototype,"setTextEditable",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setTextEditable"),se.prototype),Ve(se.prototype,"createEdge",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"createEdge"),se.prototype),Ve(se.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveEdge"),se.prototype),Ve(se.prototype,"removeEdge",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdge"),se.prototype),Ve(se.prototype,"removeEdgeById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdgeById"),se.prototype),Ve(se.prototype,"removeEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdgeBySource"),se.prototype),Ve(se.prototype,"removeEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdgeByTarget"),se.prototype),Ve(se.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementState"),se.prototype),Ve(se.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementStateById"),se.prototype),Ve(se.prototype,"setElementTextById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementTextById"),se.prototype),Ve(se.prototype,"resetElementState",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"resetElementState"),se.prototype),Ve(se.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"selectNodeById"),se.prototype),Ve(se.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"selectEdgeById"),se.prototype),Ve(se.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"selectElementById"),se.prototype),Ve(se.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"clearSelectElements"),se.prototype),Ve(se.prototype,"moveElements",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveElements"),se.prototype),Ve(se.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNodes"),se.prototype),Ve(se.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"changeEdgeType"),se.prototype),Ve(se.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"changeNodeType"),se.prototype),Ve(se.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setTheme"),se.prototype),Ve(se.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"clearData"),se.prototype),se),jg=Sl;function Pl(t){return(Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Al(){return(Al=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kl(t,e){return(kl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Pg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ba(t);if(e){var i=Ba(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ag(this,n)}}function Ag(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ba(t){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Tl,kg=Sn(jl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kl(o,u)})(i,t);var e,n,r=Pg(i);function i(o){var u;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,i),(u=r.call(this)).stepDrag=void 0,u.stepScrollX=0,u.stepScrollY=0,u.onDraging=function(b){var x=b.deltaX,j=b.deltaY;u.setState({isDraging:!0});var N=u.props.graphModel,B=N.transformMatrix;N.editConfig.stopMoveGraph||B.translate(x,j)},u.onDragEnd=function(){u.setState({isDraging:!1})},u.zoomHandler=function(b){var x=u.props,j=x.graphModel,N=j.editConfig,B=j.transformMatrix,W=j.gridSize,ee=x.graphModel,ne=b.deltaX,oe=b.deltaY;if(N.stopScrollGraph||b.ctrlKey===!0){if(!N.stopZoomGraph){b.preventDefault();var pe=ee.getPointByClient({x:b.clientX,y:b.clientY}).canvasOverlayPosition,le=pe.x,Se=pe.y;B.zoom(b.deltaY<0,[le,Se])}}else{if(b.preventDefault(),u.stepScrollX+=ne,u.stepScrollY+=oe,Math.abs(u.stepScrollX)>=W){var he=u.stepScrollX%W,Re=u.stepScrollX-he;B.translate(-Re*B.SCALE_X,0),u.stepScrollX=he}if(Math.abs(u.stepScrollY)>=W){var De=u.stepScrollY%W,Ue=u.stepScrollY-De;B.translate(0,-Ue*B.SCALE_Y),u.stepScrollY=De}}},u.clickHandler=function(b){if(b.target.getAttribute("name")==="canvas-overlay"){var x=u.props,j=x.graphModel,N=x.eventCenter,B=j.textEditElement;j.selectElements.size>0&&j.clearSelectElements(),B&&B.setElementState(Et.DEFAULT),N.emit(ot.BLANK_CLICK,{e:b})}},u.handleContextMenu=function(b){if(b.target.getAttribute("name")==="canvas-overlay"){b.preventDefault();var x=u.props,j=x.graphModel,N=x.eventCenter,B=j.getPointByClient({x:b.clientX,y:b.clientY});j.setElementState(Et.SHOW_MENU,B.domOverlayPosition),N.emit(ot.BLANK_CONTEXTMENU,{e:b,position:B})}},u.mouseDownHandler=function(b){var x=u.props,j=x.eventCenter,N=x.graphModel,B=N.editConfig,W=N.transformMatrix.SCALE_X,ee=N.gridSize;B.stopMoveGraph?j.emit(ot.BLANK_MOUSEDOWN,{e:b}):(u.stepDrag.setStep(ee*W),u.stepDrag.handleMouseDown(b)),u.clickHandler(b)};var l=o.graphModel.gridSize,d=o.eventCenter;return u.stepDrag=new Eo({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:l,eventType:"BLANK",eventCenter:d,model:null}),u.state={isDraging:!1},u}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformMatrix.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,b=this.state.isDraging;return Object(q.g)("svg",Al({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:b?"lf-dragging":"lf-drag-able"},d.eventMap()),Object(q.g)("g",{transform:o},l))}}])&&Sg(e.prototype,n),i}(q.a))||jl;function Dl(t){return(Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Tg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ml(t,e){return(Ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Mg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xa(t);if(e){var i=Xa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ng(this,n)}}function Ng(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xa(t){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Cg=Sn(Tl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ml(o,u)})(i,t);var e,n,r=Mg(i);function i(){var o;Tg(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).setToolOverlayRef=function(b){var x=o.props.tool.getInstance();x.components.forEach(function(j){return j(x,b)}),x.components=[]},o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(b){return Object(q.g)(b,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(q.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Dg(e.prototype,n),i}(q.a))||Tl;a(198);function Nl(t){return(Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Rg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ig(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cl(t,e){return(Cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Lg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fa(t);if(e){var i=Fa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zg(this,n)}}function zg(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fa(t){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Rl,Bg=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Cl(o,u)})(i,t);var e,n,r=Lg(i);function i(){return Rg(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,u=o.image,l=u===void 0?"":u,d=o.color,b=d===void 0?"":d,x=o.repeat,j=x===void 0?"no-repeat":x,N=o.position,B=N===void 0?"center":N,W=o.size,ee=W===void 0?"auto auto":W,ne=o.opacity,oe=ne===void 0?1:ne;return b?{color:b,opacity:oe,image:"none"}:l?{image:"url(".concat(l,")"),repeat:j,position:B,size:ee,opacity:oe}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),u=o.image,l=o.color,d=o.repeat,b=o.size,x={backgroundImage:u,backgroundColor:l,backgroundRepeat:d,backgroundPosition:o.position,backgroundSize:b,opacity:o.opacity};return Object(q.g)("div",{className:"lf-background"},Object(q.g)("div",{style:x,className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&Ig(e.prototype,n),i}(q.a);function Il(t){return(Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Xg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ll(t,e){return(Ll=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ug(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ua(t);if(e){var i=Ua(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gg(this,n)}}function Gg(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ua(t){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var zl=Sn(Rl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ll(o,u)})(i,t);var e,n,r=Ug(i);function i(){var o;Xg(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).id=Br(),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,b=d===void 0?2:d,x=o.size,j=o.visible,N=Math.min(Math.max(2,b),x/2),B=1;return j||(B=0),Object(q.g)("rect",{width:N,height:N,rx:N/2,ry:N/2,fill:l,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,b=d===void 0?1:d,x=o.size,j=o.visible,N=Math.min(Math.max(1,b),x/2),B="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),W=1;return j||(W=0),Object(q.g)("path",{d:B,stroke:l,strokeWidth:N,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformMatrix,b=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),x="matrix(".concat(b,")");return Object(q.g)("div",{className:"lf-grid"},Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(q.g)("defs",null,Object(q.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:x,x:"0",y:"0",width:l,height:l,style:{transition:"all 0.1s ease"}},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(q.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Fg(e.prototype,n),i}(q.a))||Rl;zl.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(50);function Bl(t){return(Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Hg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fl,Gr=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=Hg(n,2),i=r[0],o=r[1];Bl(o)!=="object"&&(e[i]=o)}),Object(q.g)("line",e)};function Ul(t){return(Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gl(t,e){return(Gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Wg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ga(t);if(e){var i=Ga(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kg(this,n)}}function Kg(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ga(t){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Hl,Zg=Sn(Fl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gl(o,u)})(i,t);var e,n,r=Wg(i);function i(){return Yg(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,b=o.stroke,x=o.strokeWidth,j=u.x,N=j===void 0?0:j,B=u.y,W=B===void 0?0:B,ee={x1:-1e5,y1:W,x2:1e5,y2:W,stroke:l?b:"none",strokeWidth:x},ne={x1:N,y1:-1e5,x2:N,y2:1e5,stroke:d?b:"none",strokeWidth:x};return Object(q.g)("g",{className:"lf-snapline"},Object(q.g)(Gr,ee),Object(q.g)(Gr,ne))}}])&&Vg(e.prototype,n),i}(q.a))||Fl;function Yl(t){return(Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cr(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,u=t.className,l=e-r/2,d=n-i/2,b={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(u),x:0,y:0};return Object.entries(t).forEach(function(x){var j=qg(x,2),N=j[0],B=j[1];Yl(B)!=="object"&&(b[N]=B)}),b.x=l,b.y=d,Object(q.g)("rect",b)}function Wl(t){return(Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kl(t,e){return(Kl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ha(t);if(e){var i=Ha(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eb(this,n)}}function eb(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ha(t){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}cr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Zl,tb=Sn(Hl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Kl(o,u)})(i,t);var e,n,r=Qg(i);function i(){return $g(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.editConfig,d=l.hoverOutline,b=l.nodeSelectedOutline,x=[];return u.forEach(function(j){if(j.BaseType===Xt.NODE){var N=j.isHovered,B=j.isSelected,W=j.x,ee=j.y,ne=j.width,oe=j.height,pe=j.hideOutline,le=j.outlineColor,Se=j.hoverOutlineColor,he=j.outlineStrokeDashArray,Re=j.hoverOutlineStrokeDashArray;if(!pe&&(b||d&&N)){var De=B?le:Se,Ue=B?he:Re;x.push(Object(q.g)(cr,{className:"lf-outline-node",x:W,y:ee,width:ne+10,height:oe+10,radius:0,fill:"none",stroke:De,strokeDasharray:Ue}))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfig.edgeSelectedOutline,d=[],b=0;b<u.length;b++){var x=u[b];!x.hideOutline&&x.isSelected&&l&&(x.modelType===at.LINE_EDGE?d.push(this.getLineOutline(x)):x.modelType===at.POLYLINE_EDGE?d.push(this.getPolylineOutline(x)):x.modelType===at.BEZIER_EDGE&&d.push(this.getBezierOutline(x)))}return d}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,b=(u.y+l.y)/2,x=Math.abs(u.x-l.x)+10,j=Math.abs(u.y-l.y)+10,N=this.props.graphModel.theme.line,B=N.outlineColor,W=N.outlineStrokeDashArray;return Object(q.g)(cr,{className:"lf-outline-edge",x:d,y:b,width:x,height:j,radius:0,fill:"none",stroke:B,strokeDasharray:W})}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=Xr(u),d=Oo(l,8),b=d.x,x=d.y,j=d.width,N=d.height,B=this.props.graphModel.theme.polyline,W=B.outlineColor,ee=B.outlineStrokeDashArray;return Object(q.g)(cr,{className:"lf-outline",x:b,y:x,width:j,height:N,radius:0,fill:"none",stroke:W,strokeDasharray:ee})}},{key:"getBezierOutline",value:function(o){var u=o.path,l=Di(u),d=Oo(l,8),b=d.x,x=d.y,j=d.width,N=d.height,B=this.props.graphModel.theme.bezier,W=B.outlineColor,ee=B.outlineStrokeDashArray;return Object(q.g)(cr,{className:"lf-outline",x:b,y:x,width:j,height:N,radius:0,fill:"none",stroke:W,strokeDasharray:ee})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&Jg(e.prototype,n),i}(q.a))||Hl;function ql(t){return(ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return $l(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $l(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $l(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jo(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,u={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(l){var d=nb(l,2),b=d[0],x=d[1];ql(x)!=="object"&&(u[b]=x)}),Object(q.g)("circle",u)}function Jl(t){return(Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ql(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ef(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ef(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ef(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rf(t,e,n){return e&&nf(t.prototype,e),n&&nf(t,n),t}function of(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&af(t,e)}function af(t,e){return(af=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function uf(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ya(t);if(e){var i=Ya(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rb(this,n)}}function rb(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ya(t){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var cf,sf=function(t){of(n,t);var e=uf(n);function n(r){var i;tf(this,n),(i=e.call(this)).dragHandler=void 0,i.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=i.props,x=b.graphModel,j=b.bezierModel,N=b.type,B=x.transformMatrix,W=i.state,ee=W.endX,ne=W.endY,oe=Ql(B.moveCanvasPointByHtml([ee,ne],l,d),2),pe=oe[0],le=oe[1];i.setState({endX:pe,endY:le}),j.updateAdjustAnchor({x:pe,y:le},N)},i.onDragEnd=function(){var u=i.state,l=u.endX,d=u.endY,b=i.props,x=b.bezierModel,j=b.type;x.updateAdjustAnchor({x:l,y:d},j)},i.dragHandler=xo({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return rf(n,[{key:"render",value:function(){var r,i,o,u=this.props.position,l=u.x,d=u.y,b=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier,x=b.adjustAnchorStroke,j=b.adjustAnchorFill,N=b.adjustAnchorFillOpacity;return Object(q.g)(jo,{className:"lf-bezier-adjust-anchor",x:l,y:d,r:4,stroke:x,fill:j,fillOpacity:N,onMouseDown:this.dragHandler})}}]),n}(q.a),ob=Sn(Zl=function(t){of(n,t);var e=uf(n);function n(){return tf(this,n),e.apply(this,arguments)}return rf(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,l=Ql(Di(o),4),d=l[0],b=l[1],x=l[2],j=l[3],N=i.theme.bezier.adjustLineColor,B=[];return B.push(Object(q.g)(Gr,{x1:d.x,y1:d.y,x2:b.x,y2:b.y,stroke:N})),B.push(Object(q.g)(sf,{position:b,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),B.push(Object(q.g)(Gr,{x1:j.x,y1:j.y,x2:x.x,y2:x.y,stroke:N})),B.push(Object(q.g)(sf,{position:x,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),B}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var l=i[u];l.isSelected&&l.modelType===at.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(q.a))||Zl;function lf(t){return(lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ff(t,e){return(ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ub(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Va(t);if(e){var i=Va(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Va(t){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var pf,sb=Sn(cf=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ff(o,u)})(i,t);var e,n,r=ub(i);function i(){return ib(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformMatrix.getTransformStyle().transform,u=this.props.children;return Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(q.g)("g",{transform:o},u))}}])&&ab(e.prototype,n),i}(q.a))||cf;function df(t){return(df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hf(){return(hf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yf(t,e){return(yf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function pb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wa(t);if(e){var i=Wa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return db(this,n)}}function db(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wa(t){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var hb=Sn(pf=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yf(o,u)})(i,t);var e,n,r=pb(i);function i(){return lb(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,u,l){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",b=this.props.getView,x=b(o.type);return Object(q.g)(x,{key:o.id,model:o,graphModel:u,overlay:d,eventCenter:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,b=u.options,x=u.eventCenter,j=u.dnd,N=u.snaplineModel,B={};b.width&&(B.width="".concat(b.width,"px")),b.height&&(B.height="".concat(b.height,"px"));var W=l.fakerNode,ee=l.editConfig.adjustEdge;return Object(q.g)("div",{className:"lf-graph",style:B},Object(q.g)(kg,{graphModel:l,eventCenter:x,dnd:j},Object(q.g)("g",{className:"lf-base"},bi(l.sortElements,function(ne){return o.getComponent(ne,l,x)})),W?this.getComponent(W,l,x):""),Object(q.g)(sb,{graphModel:l},b.hideOutline?"":Object(q.g)(tb,{graphModel:l}),ee?Object(q.g)(ob,{graphModel:l}):"",b.isSilentMode||b.snapline===!1?"":Object(q.g)(Zg,{snaplineModel:N})),Object(q.g)(Cg,{graphModel:l,tool:d}),b.background&&Object(q.g)(Bg,{background:b.background}),b.grid&&Object(q.g)(zl,hf({},b.grid,{graphModel:l})))}}])&&fb(e.prototype,n),i}(q.a))||pf;function vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vf(Object(n),!0).forEach(function(r){yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gb=function(){function t(r){var i=this;(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,t),this.nodeConfig=void 0,this.lf=void 0,this.options=void 0,this.fakerNode=void 0,this.stopDrag=function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)},this.dragEnter=function(l){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(Ni(Ni({},i.nodeConfig),i.clientToLocalPoint({x:l.clientX,y:l.clientY}))))},this.onDragOver=function(l){if(l.preventDefault(),i.fakerNode){var d=i.clientToLocalPoint({x:l.clientX,y:l.clientY}),b=d.x,x=d.y;i.fakerNode.moveTo(b,x);var j=i.fakerNode.getData();i.lf.setNodeSnapLine(j),i.lf.eventCenter.emit(ot.NODE_DND_DRAG,{data:j})}return!1},this.onDragLeave=function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)},this.onDrop=function(l){if(i.lf.graphModel&&l&&i.nodeConfig){var d=i.lf.addNode(Ni(Ni({},i.nodeConfig),i.clientToLocalPoint({x:l.clientX,y:l.clientY})));l.preventDefault(),l.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var b=d.getData();i.lf.eventCenter.emit(ot.NODE_DND_ADD,{data:b})}};var o=r.options,u=r.lf;this.lf=u,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=yo(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=l.x,b=l.y;return{x:wi(d,u),y:wi(b,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&vb(e.prototype,n),t}();function gf(t){var e=t.container,n=t.grid;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");return n&&(t.grid=Nt({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Nt({},mf,t)}var Ot,bf,mf={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function _f(t){return(_f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Of(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return wf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xf(Object(n),!0).forEach(function(r){bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jf(){return(jf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=_b(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function _b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=So(t))!==null;);return t}function Sf(t,e){return(Sf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ob(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=So(t);if(e){var i=So(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wb(this,n)}}function wb(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pf(t)}function Pf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function So(t){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Bn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ae,Af,kf,Tf,Df,Mf,Nf,Cf,Rf,If,Lf,zf,Bf,Xf,Ff,Uf,Gf,Hf,Yf,Vf,Wf,Kf,Zf,qf,$f,Jf,Ka=(bf=Bn((Ot=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sf(o,u)})(i,t);var e,n,r=Ob(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"bezier")).modelType=at.BEZIER_EDGE,l.offset=an.bezier.offset,function(d,b,x,j){x&&Object.defineProperty(d,b,{enumerable:x.enumerable,configurable:x.configurable,writable:x.writable,value:x.initializer?x.initializer.call(j):void 0})}(l,"path",bf,Pf(l)),l}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,b=l.y;o+=d,u+=b}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=jf(So(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Ef(Ef({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return nl({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Of(o,4),l=u[0],d=u[1],b=u[2],x=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=this.getControls(),d=l.sNext,b=l.ePre;this.pointsList=[o,d,b,u],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=Of(this.pointsList,3),d=l[1],b=l[2];this.pointsList=[o,d,b,u],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,b=o.targetNode,x=nl({start:u,end:l,sourceNode:d,targetNode:b,offset:this.offset}),j=x.sNext,N=x.ePre;this.pointsList=[u,j,N,l],this.initPoints()}}])&&mb(e.prototype,n),i}(ka)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bn(Ot.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"initPoints"),Ot.prototype),Bn(Ot.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePoints"),Ot.prototype),Bn(Ot.prototype,"updatePath",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePath"),Ot.prototype),Bn(Ot.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateStartPoint"),Ot.prototype),Bn(Ot.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEndPoint"),Ot.prototype),Bn(Ot.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAdjustAnchor"),Ot.prototype),Bn(Ot.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustStart"),Ot.prototype),Bn(Ot.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustEnd"),Ot.prototype),Bn(Ot.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAfterAdjustStartAndEnd"),Ot.prototype),Ot);a(47);function Qf(t){return(Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function np(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(d,b){if(!!d){if(typeof d=="string")return rp(d,b);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return rp(d,b)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function rp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jn,op,Gt=Nt({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},hideOutline:!1},an.rect,an.circle),Kn=(Af=rt((Ae=function(){function t(r,i,o){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=Br(),this.BaseType=Xt.NODE,this.modelType=at.NODE,this.additionStateData=void 0,this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,Pt(this,"properties",Af,this),Pt(this,"type",kf,this),Pt(this,"x",Tf,this),Pt(this,"y",Df,this),Pt(this,"_width",Mf,this),this.graphModel=void 0,Pt(this,"_height",Nf,this),Pt(this,"fill",Cf,this),Pt(this,"fillOpacity",Rf,this),Pt(this,"strokeWidth",If,this),Pt(this,"stroke",Lf,this),Pt(this,"strokeOpacity",zf,this),Pt(this,"opacity",Bf,this),Pt(this,"outlineColor",Xf,this),Pt(this,"hideOutline",Ff,this),Pt(this,"hoverOutlineColor",Uf,this),Pt(this,"outlineStrokeDashArray",Gf,this),Pt(this,"hoverOutlineStrokeDashArray",Hf,this),Pt(this,"isSelected",Yf,this),Pt(this,"isHovered",Vf,this),Pt(this,"isHitable",Wf,this),Pt(this,"zIndex",Kf,this),Pt(this,"anchorsOffset",Zf,this),Pt(this,"state",qf,this),Pt(this,"text",$f,this),Pt(this,"draggable",Jf,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),Nt(this,function(l){return In(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===Ln.INCREASE&&(this.zIndex=r.zIndex||Pa())}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===Ln.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,b=0;b<u.length;b++){var x=u[b];if(!x.validate.call(this,this,r,i,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,b=0;b<u.length;b++){var x=u[b];if(!x.validate.call(this,r,this,i,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=np(this.moveRules);try{for(u.s();!(o=u.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(b){u.e(b)}finally{u.f()}var l,d=np(this.graphModel.nodeMoveRules);try{for(d.s();!(l=d.n()).done;)if(!(0,l.value)(this,r,i))return!1}catch(b){d.e(b)}finally{d.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,u=this.id;return r.map(function(l,d){return l.length?{id:"".concat(u,"_").concat(d),x:i+l[0],y:o+l[1]}:sr(sr({},l),{},{x:i+l.x,y:o+l.y,id:l.id||"".concat(u,"_").concat(d)})})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var u=this.x+r,l=this.y+i;this.x=u,this.y=l,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=i-this.y;(o||this.isAllowMoveNode(u,l))&&(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,l=o.y,d=o.value,b=o.draggable,x=o.editable;this.text={value:d,editable:x,draggable:b,x:u+r,y:l+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=bn(In(r,"type","x","y","text","properties")),o=this.text,u=o.x,l=o.y,d=o.draggable,b=o.editable;if(i.text&&typeof i.text=="string")i.text={x:u,y:l,value:i.text,draggable:d,editable:b};else if(Qf(i.text)==="object"){var x=sr(sr({},this.text),i.text);i.text=In(x,"x","y","value","draggable","editable")}Nt(this,i)}},{key:"setProperty",value:function(r,i){this.properties=sr(sr({},this.properties),{},tp({},r,bn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=sr(sr({},this.properties),bn(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&Nt(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gt.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){Nt(this,r)}}])&&xb(e.prototype,n),t}()).prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kf=rt(Ae.prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tf=rt(Ae.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.x}}),Df=rt(Ae.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.y}}),Mf=rt(Ae.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.width}}),Nf=rt(Ae.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.height}}),Cf=rt(Ae.prototype,"fill",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.fill}}),Rf=rt(Ae.prototype,"fillOpacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.fillOpacity}}),If=rt(Ae.prototype,"strokeWidth",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.strokeWidth}}),Lf=rt(Ae.prototype,"stroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.stroke}}),zf=rt(Ae.prototype,"strokeOpacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.strokeOpacity}}),Bf=rt(Ae.prototype,"opacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.opacity}}),Xf=rt(Ae.prototype,"outlineColor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.outlineColor}}),Ff=rt(Ae.prototype,"hideOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.hideOutline}}),Uf=rt(Ae.prototype,"hoverOutlineColor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.hoverOutlineColor}}),Gf=rt(Ae.prototype,"outlineStrokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.outlineStrokeDashArray}}),Hf=rt(Ae.prototype,"hoverOutlineStrokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.hoverOutlineStrokeDashArray}}),Yf=rt(Ae.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vf=rt(Ae.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wf=rt(Ae.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kf=rt(Ae.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.zIndex}}),Zf=rt(Ae.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qf=rt(Ae.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$f=rt(Ae.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.text}}),Jf=rt(Ae.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rt(Ae.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"addNodeMoveRules"),Ae.prototype),rt(Ae.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"move"),Ae.prototype),rt(Ae.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveTo"),Ae.prototype),rt(Ae.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveText"),Ae.prototype),rt(Ae.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateText"),Ae.prototype),rt(Ae.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setSelected"),Ae.prototype),rt(Ae.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setHovered"),Ae.prototype),rt(Ae.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setHitable"),Ae.prototype),rt(Ae.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setElementState"),Ae.prototype),rt(Ae.prototype,"updateStroke",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateStroke"),Ae.prototype),rt(Ae.prototype,"updateData",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateData"),Ae.prototype),rt(Ae.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setProperty"),Ae.prototype),rt(Ae.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setProperties"),Ae.prototype),rt(Ae.prototype,"setStyleFromTheme",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setStyleFromTheme"),Ae.prototype),rt(Ae.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setZIndex"),Ae.prototype),rt(Ae.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateAttributes"),Ae.prototype),Ae);function ip(t){return(ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ap(t,e){return(ap=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function jb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Za(t);if(e){var i=Za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sb(this,n)}}function Sb(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return up(t)}function up(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Za(t){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ci(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ht,cp,sp,qa=(op=Ci((jn=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ap(o,u)})(i,t);var e,n,r=jb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"circle")).modelType=at.CIRCLE_NODE,function(d,b,x,j){x&&Object.defineProperty(d,b,{enumerable:x.enumerable,configurable:x.configurable,writable:x.writable,value:x.initializer?x.initializer.call(j):void 0})}(l,"r",op,up(l)),l}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-d,id:"".concat(this.id,"_0")},{x:u+d,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+d,id:"".concat(this.id,"_2")},{x:u-d,y:l,id:"".concat(this.id,"_3")}]}}])&&Eb(e.prototype,n),i}(Kn)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.circle.r}}),Ci(jn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(jn.prototype,"width"),jn.prototype),Ci(jn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(jn.prototype,"height"),jn.prototype),Ci(jn.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(jn.prototype,"anchors"),jn.prototype),jn);a(121);function lp(t){return(lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $a(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return fp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pp(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yp(){return(yp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=kb(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function kb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Po(t))!==null;);return t}function vp(t,e){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Tb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Po(t);if(e){var i=Po(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ja(t)}function Ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function wr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var mn,gp,bp,Qa=(cp=wr((Ht=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vp(o,u)})(i,t);var e,n,r=Tb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"diamond")).modelType=at.DIAMOND_NODE,hp(l,"rx",cp,Ja(l)),hp(l,"ry",sp,Ja(l)),l}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,u=this.ry;return dp(dp({},yp(Po(i.prototype),"getData",this).call(this)),{},{rx:o,ry:u})}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=$a(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=$a(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"anchors",get:function(){var o=this,u=this.anchorsOffset,l=this.points;return u&&u.length>0?this.getAnchorsByOffset():l.map(function(d,b){var x=$a(d,2);return{x:x[0],y:x[1],id:"".concat(o.id,"_").concat(b)}})}}])&&Ab(e.prototype,n),i}(Kn)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sp=wr(Ht.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr(Ht.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(Ht.prototype,"points"),Ht.prototype),wr(Ht.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Ht.prototype,"pointsPosition"),Ht.prototype),wr(Ht.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Ht.prototype,"width"),Ht.prototype),wr(Ht.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Ht.prototype,"height"),Ht.prototype),wr(Ht.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(Ht.prototype,"anchors"),Ht.prototype),Ht);function mp(t){return(mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _p(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Op(t,e){return(Op=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Nb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tu(t);if(e){var i=tu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cb(this,n)}}function Cb(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eu(t)}function eu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ao(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var un,wp,nu=(gp=Ao((mn=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Op(o,u)})(i,t);var e,n,r=Nb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"ellipse")).modelType=at.ELLIPSE_NODE,_p(l,"rx",gp,eu(l)),_p(l,"ry",bp,eu(l)),l}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.rx,b=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-b,id:"".concat(this.id,"_0")},{x:u+d,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+b,id:"".concat(this.id,"_2")},{x:u-d,y:l,id:"".concat(this.id,"_3")}]}}])&&Mb(e.prototype,n),i}(Kn)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.ellipse.rx}}),bp=Ao(mn.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.ellipse.ry}}),Ao(mn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(mn.prototype,"width"),mn.prototype),Ao(mn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(mn.prototype,"height"),mn.prototype),Ao(mn.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(mn.prototype,"anchors"),mn.prototype),mn);function xp(t){return(xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ru(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ep(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ep(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ep(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jp(t,e){return(jp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ib(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ou(t);if(e){var i=ou(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lb(this,n)}}function Lb(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sp(t)}function Sp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ou(t){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ko(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var To,Pp,iu=(wp=ko((un=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&jp(o,u)})(i,t);var e,n,r=Ib(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"polygon")).modelType=at.POLYGON_NODE,function(d,b,x,j){x&&Object.defineProperty(d,b,{enumerable:x.enumerable,configurable:x.configurable,writable:x.writable,value:x.initializer?x.initializer.call(j):void 0})}(l,"points",wp,Sp(l)),l}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(b){return{x:b[0]+o-l/2,y:b[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ru(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ru(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"anchors",get:function(){var o=this,u=this.anchorsOffset,l=this.x,d=this.y,b=this.width,x=this.height,j=this.points;return u&&u.length>0?this.getAnchorsByOffset():j.map(function(N,B){var W=ru(N,2),ee=W[0],ne=W[1];return{x:l+ee-b/2,y:d+ne-x/2,id:"".concat(o.id,"_").concat(B)}})}}])&&Rb(e.prototype,n),i}(Kn)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ko(un.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(un.prototype,"pointsPosition"),un.prototype),ko(un.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(un.prototype,"width"),un.prototype),ko(un.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(un.prototype,"height"),un.prototype),ko(un.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(un.prototype,"anchors"),un.prototype),un);function Ap(t){return(Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kp(t,e){return(kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Bb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=au(t);if(e){var i=au(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xb(this,n)}}function Xb(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tp(t)}function Tp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function au(t){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Dp(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Xn,Mp,Np,Cp,uu=(Pp=Dp((To=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kp(o,u)})(i,t);var e,n,r=Bb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"rect")).modelType=at.RECT_NODE,function(d,b,x,j){x&&Object.defineProperty(d,b,{enumerable:x.enumerable,configurable:x.configurable,writable:x.writable,value:x.initializer?x.initializer.call(j):void 0})}(l,"radius",Pp,Tp(l)),l}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.width,b=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-b/2,id:"".concat(this.id,"_0")},{x:u+d/2,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+b/2,id:"".concat(this.id,"_2")},{x:u-d/2,y:l,id:"".concat(this.id,"_3")}]}}])&&zb(e.prototype,n),i}(Kn)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.rect.radius}}),Dp(To.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(To.prototype,"anchors"),To.prototype),To);function Rp(t){return(Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ip(t,e){return(Ip=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ub(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=su(t);if(e){var i=su(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function su(t){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Do(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ii,lu=(Mp=Do((Xn=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ip(o,u)})(i,t);var e,n,r=Ub(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"text")).modelType=at.TEXT_NODE,cu(l,"fontSize",Mp,Ri(l)),cu(l,"fontFamily",Np,Ri(l)),cu(l,"fontWeight",Cp,Ri(l)),l}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=Ei({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return u>100?u:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=Ei({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return u>20?u:20}}])&&Fb(e.prototype,n),i}(Kn)).prototype,"fontSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.text.fontSize}}),Np=Do(Xn.prototype,"fontFamily",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.text.fontFamily}}),Cp=Do(Xn.prototype,"fontWeight",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return an.text.fontWeight}}),Do(Xn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Xn.prototype,"width"),Xn.prototype),Do(Xn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Xn.prototype,"height"),Xn.prototype),Xn);function Lp(t){return(Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zp(t,e){return(zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Yb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fu(t);if(e){var i=fu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vb(this,n)}}function Vb(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fu(t){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qt,Bp,Xp,Fp,pu=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((Ii=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zp(o,u)})(i,t);var e,n,r=Yb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"html")).modelType=at.HTML_NODE,l}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.width,b=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-b/2,id:"".concat(this.id,"_0")},{x:u+d/2,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+b/2,id:"".concat(this.id,"_2")},{x:u-d/2,y:l,id:"".concat(this.id,"_3")}]}}])&&Hb(e.prototype,n),i}(Kn)).prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(Ii.prototype,"anchors"),Ii.prototype),Ii);function du(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Up=an.snapline,Gp=(Bp=xr((qt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.graphModel=void 0,du(this,"isShowHorizontal",Bp,this),du(this,"isShowVertical",Xp,this),du(this,"position",Fp,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||Up.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||Up.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,l=!1,d=!1,b=0;b<i.length;b++){var x=i[b];if(x.id!==r.id&&(o===x.x&&(l=!0),u===x.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var b=this.graphModel.fakerNode;if(b&&b.id===d)u=pn(b);else{var x=this.graphModel.getNodeModel(d);u=pn(x)}}for(var j=0;j<i.length;j++){var N=i[j];if(N.id!==r.id){var B=pn(N);if(B.minY===u.minY||B.maxY===u.minY){l=!0,o=u.minY;break}if(B.minY===u.maxY||B.maxY===u.maxY){l=!0,o=u.maxY;break}}}return Nt({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var b=this.graphModel.fakerNode;if(b&&b.id===d)u=pn(b);else{var x=this.graphModel.getNodeModel(d);u=pn(x)}}for(var j=0;j<i.length;j++){var N=i[j];if(N.id!==r.id){var B=pn(N);if(B.minX===u.minX||B.maxX===u.minX){l=!0,o=u.minX;break}if(B.minX===u.maxX||B.maxX===u.maxX){l=!0,o=u.maxX;break}}}return Nt({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var b=this.getVerticalSnapline(r,i);b.isShowVertical&&(o.isShowVertical=b.isShowVertical,o.position.x=b.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&Wb(e.prototype,n),t}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xp=xr(qt.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=xr(qt.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xr(qt.prototype,"stroke",[s.m],Object.getOwnPropertyDescriptor(qt.prototype,"stroke"),qt.prototype),xr(qt.prototype,"strokeWidth",[s.m],Object.getOwnPropertyDescriptor(qt.prototype,"strokeWidth"),qt.prototype),xr(qt.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(qt.prototype,"clearSnapline"),qt.prototype),xr(qt.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(qt.prototype,"setNodeSnapLine"),qt.prototype),qt);function Hp(t){return(Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Li(){return(Li=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Kb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Yp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vp(t,e){return(Vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function qb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hu(t);if(e){var i=hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $b(this,n)}}function $b(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hu(t){return(hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Jb=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vp(o,u)})(i,t);var e,n,r=qb(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).preTargetNode=void 0,o.dragHandler=void 0,o.sourceRuleResults=void 0,o.targetRuleResults=void 0,o.onDragStart=function(){var u=o.props,l=u.x,d=u.y,b=u.nodeModel,x=u.graphModel,j=x.overlapMode;x.selectNodeById(b.id),j!==Ln.INCREASE&&x.toFront(b.id),o.setState({startX:l,startY:d,endX:l,endY:d})},o.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=o.state,x=b.endX,j=b.endY,N=o.props,B=N.graphModel,W=N.nodeModel,ee=B.transformMatrix,ne=B.nodes,oe=Kb(ee.moveCanvasPointByHtml([x,j],l,d),2),pe=oe[0],le=oe[1];o.setState({endX:pe,endY:le,draging:!0});var Se=xi({x,y:j},ne);if(Se){var he=Se.node;o.preTargetNode=he;var Re=Se.anchor.id,De="".concat(he.id,"_").concat(Re);if(!o.targetRuleResults.has(De)){var Ue=o.props.anchorData,dt=Se.anchor,jt=W.isAllowConnectedAsSource(he,Ue,dt),nn=he.isAllowConnectedAsTarget(W,Ue,dt);o.sourceRuleResults.set(he.id,Ns(jt)),o.targetRuleResults.set(De,Ns(nn))}var Pn=o.sourceRuleResults.get(he.id).isAllPass,hn=o.targetRuleResults.get(De).isAllPass;Pn&&hn?he.setElementState(Et.ALLOW_CONNECT):he.setElementState(Et.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==Et.DEFAULT&&o.preTargetNode.setElementState(Et.DEFAULT)},o.onDragEnd=function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()},o.checkEnd=function(){var u=o.props,l=u.graphModel,d=u.nodeModel,b=u.x,x=u.y,j=u.eventCenter,N=u.id,B=l.nodes,W=l.edgeType,ee=o.state,ne=ee.endX,oe=ee.endY,pe=ee.draging,le=xi({x:ne,y:oe},B);if(o.preTargetNode&&o.preTargetNode.state!==Et.DEFAULT&&o.preTargetNode.setElementState(Et.DEFAULT),pe&&le&&le.node){var Se=le.node,he=o.sourceRuleResults.get(Se.id)||{},Re=he.isAllPass,De=he.msg,Ue=le.anchor.id,dt="".concat(Se.id,"_").concat(Ue),jt=o.targetRuleResults.get(dt)||{},nn=jt.isAllPass,Pn=jt.msg;if(Re&&nn)Se.setElementState(Et.ALLOW_CONNECT),b===le.anchor.x&&x===le.anchor.y||l.createEdge({type:W,sourceNodeId:d.id,sourceAnchorId:N,startPoint:{x:b,y:x},targetNodeId:le.node.id,targetAnchorId:le.anchor.id,endPoint:{x:le.anchor.x,y:le.anchor.y}});else{var hn=Se.getData();j.emit(ot.CONNECTION_NOT_ALLOWED,{data:hn,msg:Pn||De})}}},o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=xo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,b=o.endY;return zn(u,l,d,b)>10}},{key:"render",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,b=o.endY,x=this.props,j=x.x,N=x.y,B=x.style,W=x.edgeStyle,ee=x.hoverStyle;return Object(q.g)("g",{className:"lf-anchor"},Object(q.g)(jo,Li({className:"lf-node-anchor-hover",x:j,y:N},ee,{onMouseDown:this.dragHandler})),Object(q.g)(jo,Li({className:"lf-node-anchor",x:j,y:N},B,{onMouseDown:this.dragHandler})),this.isShowLine()&&Object(q.g)(Gr,Li({x1:u,y1:l,x2:d,y2:b,"pointer-events":"none"},W)))}}])&&Zb(e.prototype,n),i}(q.a);function Wp(t){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Kp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yu(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,u=t.fontSize,l=t.fill,d=l===void 0?"currentColor":l,b=t.model,x=t.autoWrap,j=x!==void 0&&x,N=t.overflowMode,B=N===void 0?"default":N,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(t).forEach(function(he){var Re=Qb(he,2),De=Re[0],Ue=Re[1];Wp(Ue)!=="object"&&(W[De]=Ue)}),j&&(B="autoWrap"),o){var ee=String(o).split(/[\r\n]/g),ne=ee.length;if(B!=="default"){var oe=b.BaseType,pe=b.textWidth,le=b.modelType;if(oe===Xt.NODE&&le!==at.TEXT_NODE||oe===Xt.EDGE&&pe)return function(he,Re){he.x,he.y;var De=he.value,Ue=he.color,dt=Ue===void 0?"#000000":Ue,jt=he.fontSize,nn=he.model,Pn=he.fontFamily,hn=Pn===void 0?"":Pn,zo=he.lineHeight,Bo=he.wrapPadding,Ui=Bo===void 0?"0, 0":Bo,Vu=he.overflowMode,Gi=nn.width,m_=nn.textWidth,Uh=nn.textHeight,Hi=m_||Gi,Wu=String(De).split(/[\r\n]/g),__=Wu.length,Gh=Ms({rows:Wu,style:{fontSize:"".concat(jt,"px"),width:"".concat(Hi,"px"),fontFamily:hn,lineHeight:zo,padding:Ui},rowsLength:__,className:"lf-get-text-height"}),Yi=nn.height>Gh?nn.height:Gh;Uh&&(Yi=Uh);var O_=Vu==="ellipsis";return Object(q.g)("g",null,Object(q.g)("foreignObject",{width:Hi,height:Yi,x:Re.x-Hi/2,y:Re.y-Yi/2},Object(q.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Yi,width:Hi,color:dt,padding:Ui}},Object(q.g)("div",{className:O_?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:{fontSize:jt,fontFamily:hn,lineHeight:zo}},Wu.map(function(w_){return Object(q.g)("div",{className:"lf-node-text--auto-wrap-inner"},w_)})))))}(t,W)}if(ne>1){var Se=ee.map(function(he,Re){var De=(Re-(ne-1)/2)*(u+2);return Object(q.g)("tspan",{className:"lf-text-tspan",x:n,y:i+De},he)});return Object(q.g)("text",W,Se)}return Object(q.g)("text",W,o)}}function Zp(t){return(Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qp(){return(qp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function em(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return $p(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $p(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $p(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jp(t,e){return(Jp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function nm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vu(t);if(e){var i=vu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vu(t){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Qp=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Jp(o,u)})(i,t);var e,n,r=nm(i);function i(o){var u;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,i),(u=r.call(this)).dragHandler=void 0,u.sumDeltaX=0,u.sumDeltaY=0,u.stepDrag=void 0,u.onDraging=function(b){var x=b.deltaX,j=b.deltaY,N=u.props,B=N.model,W=em(N.graphModel.transformMatrix.fixDeltaXY(x,j),2),ee=W[0],ne=W[1];B.moveText(ee,ne)},u.dblClickHandler=function(){u.props.editable&&u.props.model.setElementState(Et.TEXT_EDIT)},u.mouseDownHandle=function(b){var x=u.props,j=x.draggable,N=x.graphModel.editConfig.nodeTextDraggable;(j||N)&&u.stepDrag.handleMouseDown(b)};var l=o.model,d=o.draggable;return u.stepDrag=new Eo({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.style,d=u.text,b=d.value,x={x:d.x,y:d.y,className:"lf-element-text",value:b};return Object(q.g)(yu,qp({},x,l,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(q.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&tm(e.prototype,n),i}(q.a),om=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function ed(t){return(ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function td(){return(td=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nd(Object(n),!0).forEach(function(r){im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function am(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function id(t,e){return(id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function um(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gu(t);if(e){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cm(this,n)}}function cm(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gu(t){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Zn=function(t){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&id(u,l)})(o,t);var e,n,r,i=um(o);function o(u){var l;(function(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")})(this,o),(l=i.call(this)).stepDrag=void 0,l.contextMenuTime=void 0,l.startTime=void 0,l.clickTimer=void 0,l.onDraging=function(j){var N=j.deltaX,B=j.deltaY,W=l.props,ee=W.model,ne=W.graphModel;l.state.isDraging||l.setState({isDraging:!0});var oe=am(ne.transformMatrix.fixDeltaXY(N,B),2),pe=oe[0],le=oe[1];ne.moveNode(ee.id,pe,le)},l.onDragEnd=function(){l.setState({isDraging:!1})},l.handleClick=function(j){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var N=l.props,B=N.model,W=N.eventCenter,ee=N.graphModel,ne={data:B.getData(),e:j,position:ee.getPointByClient({x:j.clientX,y:j.clientY})},oe=j.button===2,pe=j.detail===2;if(!oe){var le=ee.editConfig;ee.selectNodeById(B.id,function(Se,he){var Re=he.multipleSelectKey;if(he.metaKeyMultipleSelected&&Se.metaKey)return!0;var De=!1;switch(Re){case"meta":De=Se.metaKey;break;case"alt":De=Se.altKey;break;case"shift":De=Se.shiftKey;break;default:De=!1}return De}(j,le)),l.toFront(),pe?(le.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),ee.setElementStateById(B.id,Et.TEXT_EDIT)),W.emit(ot.NODE_DBCLICK,ne)):(W.emit(ot.ELEMENT_CLICK,ne),W.emit(ot.NODE_CLICK,ne))}}},l.handleContextMenu=function(j){j.preventDefault();var N=l.props,B=N.model,W=N.eventCenter,ee=N.graphModel,ne=B.getData(),oe=ee.getPointByClient({x:j.clientX,y:j.clientY});ee.setElementStateById(B.id,Et.SHOW_MENU,oe.domOverlayPosition),ee.selectNodeById(B.id),W.emit(ot.NODE_CONTEXTMENU,{data:ne,e:j,position:oe}),l.toFront()},l.handleMouseDown=function(j){var N=l.props,B=N.model,W=N.graphModel;l.toFront(),l.startTime=new Date().getTime(),W.editConfig.adjustNodePosition&&B.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(j)},l.setHoverON=function(j){if(!l.state.isHovered){l.setState({isHovered:!0});var N=l.props,B=N.model,W=N.eventCenter,ee=B.getData();B.setHovered(!0),W.emit(ot.NODE_MOUSEENTER,{data:ee,e:j})}},l.setHoverOFF=function(j){l.setState({isHovered:!1});var N=l.props,B=N.model,W=N.eventCenter,ee=B.getData();B.setHovered(!1),W.emit(ot.NODE_MOUSELEAVE,{data:ee,e:j})},l.onMouseOut=function(j){om&&l.setHoverOFF(j)};var d=u.graphModel.gridSize,b=u.eventCenter,x=u.model;return l.stepDrag=new Eo({onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:d,eventType:"NODE",eventCenter:b,model:x}),l.state={isDraging:!1,isHovered:!1},l}return e=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getShapeStyle",value:function(){var u=this.props.model;return{width:u.width,height:u.height,fill:u.fill,fillOpacity:u.fillOpacity,strokeWidth:u.strokeWidth,stroke:u.stroke,strokeOpacity:u.strokeOpacity,opacity:u.opacity,outlineColor:u.outlineColor}}},{key:"getAttributes",value:function(){var u=this.props.model,l=u.id,d=u.properties,b=d===void 0?{}:d,x=u.type,j=u.x,N=u.y,B=u.isSelected,W=u.isHovered,ee=u.text,ne=this.getShapeStyle();return Er({id:l,properties:Er({},b),type:x,x:j,y:N,isSelected:B,isHovered:W,text:Er({},ee)},ne)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return Er({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return Er({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return Er({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,b=l.graphModel,x=l.eventCenter,j=d.isSelected,N=d.isHitable,B=this.state,W=B.isHovered,ee=B.isDraging;if(N&&(j||W)){var ne=this.getAnchorStyle(),oe=this.getAnchorHoverStyle(),pe=this.getNewEdgeStyle();return bi(d.anchors,function(le,Se){return Object(q.g)(Jb,td({},le,{anchorData:le,nodeDraging:ee,style:ne,hoverStyle:oe,edgeStyle:pe,anchorIndex:Se,nodeModel:d,eventCenter:x,graphModel:b,setHoverOFF:u.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return Er({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===Et.TEXT_EDIT)return"";var b=this.getTextStyle();if(l.text){var x=d.editConfig,j=!1;return(l.text.draggable||x.nodeTextDraggable)&&(j=!0),Object(q.g)(Qp,{editable:x.nodeTextEdit&&l.text.editable,style:b,model:l,graphModel:d,draggable:j})}}},{key:"getStateClassName",value:function(){var u="lf-node";switch(this.props.model.state){case Et.ALLOW_CONNECT:u+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:u+=" lf-node-not-allow";break;default:u+=" lf-node-default"}return this.state.isDraging&&(u+=" lf-dragging"),u}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==Ln.INCREASE&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,b=l.graphModel,x=b.editConfig,j=x.hideAnchors,N=x.adjustNodePosition,B=b.gridSize,W=b.transformMatrix.SCALE_X,ee=d.isHitable,ne=d.draggable,oe=Object(q.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return ee?(N&&ne&&this.stepDrag.setStep(B*W),u=Object(q.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):u=Object(q.g)("g",{className:this.getStateClassName()},oe),u}}])&&od(e.prototype,n),r&&od(e,r),o}(q.a);function ad(t){return(ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ud(Object(n),!0).forEach(function(r){sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bu(){return(bu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=pm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function pm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Hr(t))!==null;);return t}function cd(t,e){return(cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function dm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hr(t);if(e){var i=Hr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var mu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&cd(o,u)})(i,t);var e,n,r=dm(i);function i(){return lm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=bu(Hr(i.prototype),"getShapeStyle",this).call(this),u=this.props.model.radius;return zi(zi({},o),{},{radius:u})}},{key:"getAttributes",value:function(){var o=bu(Hr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return zi(zi({},o),u)}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)(cr,o)}}])&&fm(e.prototype,n),i}(Zn);function sd(t){return(sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ld(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ld(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _u(){return(_u=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=bm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function bm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Yr(t))!==null;);return t}function fd(t,e){return(fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function mm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yr(t);if(e){var i=Yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ou=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&fd(o,u)})(i,t);var e,n,r=mm(i);function i(){return vm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=_u(Yr(i.prototype),"getShapeStyle",this).call(this),u=this.props.model.r;return Bi(Bi({},o),{},{r:u})}},{key:"getAttributes",value:function(){var o=_u(Yr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Bi(Bi({},o),u)}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)(jo,o)}}])&&gm(e.prototype,n),i}(Zn);function pd(t){return(pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Om(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hd(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=Om(i,2),u=o[0],l=o[1];pd(l)!=="object"&&(r[u]=l)}),r.points=e.map(function(i){return i.join(",")}).join(" "),Object(q.g)("polygon",r)}function yd(t){return(yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vd(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wu(){return(wu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=jm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function jm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vr(t))!==null;);return t}function gd(t,e){return(gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Sm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vr(t);if(e){var i=Vr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vr(t){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var xu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&gd(o,u)})(i,t);var e,n,r=Sm(i);function i(){return xm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=wu(Vr(i.prototype),"getShapeStyle",this).call(this),u=this.props.model.points;return Xi(Xi({},o),{},{points:u})}},{key:"getAttributes",value:function(){var o=wu(Vr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Xi(Xi({},o),u)}},{key:"getShape",value:function(){var o=this.getAttributes(),u=o.width,l=o.height,d=o.x,b=o.y,x={transform:"matrix(1 0 0 1 ".concat(d-u/2," ").concat(b-l/2,")")};return Object(q.g)("g",x,Object(q.g)(hd,o))}}])&&Em(e.prototype,n),i}(Zn);function bd(t){return(bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function md(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?md(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Am(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function km(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eu(){return(Eu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Dm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Dm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Wr(t))!==null;);return t}function _d(t,e){return(_d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Mm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wr(t);if(e){var i=Wr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nm(this,n)}}function Nm(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ju=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_d(o,u)})(i,t);var e,n,r=Mm(i);function i(){return km(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return Fi(Fi({},Eu(Wr(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=Eu(Wr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Fi(Fi({},o),u)}},{key:"getShape",value:function(){var o=this.props.model.points,u=this.getAttributes(),l={fill:u.fill,fillOpacity:u.fillOpacity,strokeWidth:u.strokeWidth,stroke:u.stroke,strokeOpacity:u.strokeOpacity,points:o};return Object(q.g)("g",null,Object(q.g)(hd,l))}}])&&Tm(e.prototype,n),i}(Zn);function Od(t){return(Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return wd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rm(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,u=o===void 0?4:o,l=t.ry,d={cx:n,cy:i,rx:u,ry:l===void 0?4:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(b){var x=Cm(b,2),j=x[0],N=x[1];Od(N)!=="object"&&(d[j]=N)}),Object(q.g)("ellipse",d)}function xd(t){return(xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ed(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ed(Object(n),!0).forEach(function(r){Im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sd(){return(Sd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Bm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Bm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Mo(t))!==null;);return t}function Pd(t,e){return(Pd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Xm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mo(t);if(e){var i=Mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fm(this,n)}}function Fm(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Su=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pd(o,u)})(i,t);var e,n,r=Xm(i);function i(){return Lm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=Sd(Mo(i.prototype),"getAttributes",this).call(this),u=this.props.model,l=u.rx,d=u.ry;return jd(jd({},o),{},{rx:l,ry:d})}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)(Rm,o)}}])&&zm(e.prototype,n),i}(Zn);function Ad(t){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kd(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dd(t,e){return(Dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ym(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pu(t);if(e){var i=Pu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pu(t){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Au=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dd(o,u)})(i,t);var e,n,r=Ym(i);function i(){return Gm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,u=this.getTextStyle();if(o&&o.value&&u.backgroundStyle&&u.backgroundStyle.fill!=="transparnet"){var l=u.fontSize,d=o.value,b=o.x,x=o.y,j=String(d).split(/[\r\n]/g),N=j.length;j&&j.forEach(function(oe){za(oe)});var B=Ei({rows:j,fontSize:l,rowsLength:N}),W=B.width,ee=B.height,ne=Td(Td({},u.backgroundStyle),{},{x:b-1,y:x-1,width:W,height:ee});return Object(q.g)(cr,ne)}}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)("g",null,this.getBackgroud(),Object(q.g)(yu,o))}}])&&Hm(e.prototype,n),i}(Zn);function Md(t){return(Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nd(t,e){return(Nd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ku(t);if(e){var i=ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ku(t){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Tu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Nd(o,u)})(i,t);var e,n,r=Zm(i);function i(){var o;Wm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).ref=void 0,o.setRef=function(b){o.ref=b},o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),u=o.x,l=o.y,d=o.width,b=o.height;return Object(q.g)("foreignObject",{x:u-d/2,y:l-b/2,width:d,height:b,ref:this.setRef})}}])&&Km(e.prototype,n),i}(Zn);function Cd(t){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $m(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Rd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Id(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=$m(n,2),i=r[0],o=r[1];Cd(o)!=="object"&&(e[i]=o)}),Object(q.g)("path",e)}Id.defaultProps={strokeDasharray:""};var No=Id;function Ld(t){return(Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bd(t,e){return(Bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function t0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Du(t);if(e){var i=Du(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n0(this,n)}}function n0(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Du(t){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Xd=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bd(o,u)})(i,t);var e,n,r=t0(i);function i(){return Qm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,b=u.end,x={start:d,end:b,offset:l.offset,verticalLength:l.verticalLength,type:"end"},j=_o(x),N=j.leftX,B=j.leftY,W=j.rightX,ee=j.rightY;return function(ne){for(var oe=1;oe<arguments.length;oe++){var pe=arguments[oe]!=null?arguments[oe]:{};oe%2?zd(Object(pe),!0).forEach(function(le){Jm(ne,le,pe[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(pe)):zd(Object(pe)).forEach(function(le){Object.defineProperty(ne,le,Object.getOwnPropertyDescriptor(pe,le))})}return ne}({d:"M".concat(N," ").concat(B," L").concat(b.x," ").concat(b.y," L").concat(W," ").concat(ee," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),u=o.d,l=o.strokeWidth,d=o.stroke,b=o.fill;return Object(q.g)(No,{d:u,fill:b,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-arrow"},this.getShape())}}])&&e0(e.prototype,n),i}(q.a);function Fd(t){return(Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ud(){return(Ud=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gd(Object(n),!0).forEach(function(r){r0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e){return(Hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function i0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mu(t);if(e){var i=Mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a0(this,n)}}function a0(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mu(t){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var lr,u0=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hd(o,u)})(i,t);var e,n,r=i0(i);function i(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),(u=r.call(this,o)).setHoverON=function(){u.setState({isHoverd:!0})},u.setHoverOFF=function(){u.setState({isHoverd:!1})},u.state={isHoverd:!1},u}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=this.props.style,l=o.text,d=o.textWidth,b=In(u.background,"fill","stroke","radius","height");if(this.state.isHoverd&&u.hoverBackground&&(b=jr(jr({},b),u.hoverBackground)),l&&l.value&&b.fill!=="transparnet"){var x,j=u.fontSize,N=u.autoWrap,B=u.lineHeight,W=u.wrapPadding,ee=l.value,ne=l.x,oe=l.y,pe=String(ee).split(/[\r\n]/g),le=pe.length;if(N&&d){var Se=Ms({rows:pe,style:{fontSize:"".concat(j,"px"),width:"".concat(d,"px"),lineHeight:B,padding:W},rowsLength:le,className:"lf-get-text-height"});x=jr(jr({},b),{},{x:ne-1,y:oe-1,width:d,height:Se})}else{pe&&pe.forEach(function(Ue){za(Ue)});var he=Ei({rows:pe,fontSize:j,rowsLength:le}),Re=he.width,De=he.height;x=jr(jr({},b),{},{x:ne-1,y:oe-1,width:Re,height:De})}return Object(q.g)(cr,x)}}},{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.style,d=u.text,b=d.value,x=jr({x:d.x,y:d.y,className:"lf-element-text",value:b},l);return Object(q.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(q.g)(yu,Ud({},x,{model:u})))}}])&&o0(e.prototype,n),i}(Qp);function Yd(t){return(Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vd(){return(Vd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wd(Object(n),!0).forEach(function(r){c0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Kd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zd(t,e){return(Zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nu(t);if(e){var i=Nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Nu(t){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(lr||(lr={}));var qd=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zd(o,u)})(i,t);var e,n,r=f0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).dragHandler=void 0,o.oldEdge=void 0,o.onDragStart=function(){var u=o.props,l=u.x,d=u.y,b=u.edgeModel,x=b.startPoint,j=b.endPoint,N=b.pointsList;o.oldEdge={startPoint:x,endPoint:j,pointsList:N},o.setState({endX:l,endY:d,draging:!0})},o.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=o.state,x=b.endX,j=b.endY,N=o.props,B=N.graphModel,W=N.type,ee=s0(B.transformMatrix.moveCanvasPointByHtml([x,j],l,d),2),ne=ee[0],oe=ee[1];o.setState({endX:ne,endY:oe,draging:!0});var pe=o.props.edgeModel,le=B.nodes,Se=xi({x,y:j},le);if(Se&&Se.node){var he,Re=pe.startPoint,De=pe.endPoint,Ue=pe.sourceNode,dt=pe.targetNode;W===lr.SOURCE?he={startPoint:{x:Se.anchor.x,y:Se.anchor.y},endPoint:{x:De.x,y:De.y},sourceNode:Se.node,targetNode:dt}:W===lr.TARGET&&(he={startPoint:{x:Re.x,y:Re.y},endPoint:{x:Se.anchor.x,y:Se.anchor.y},sourceNode:Ue,targetNode:Se.node}),pe.updateAfterAdjustStartAndEnd(he)}else W===lr.SOURCE?pe.updateStartPoint({x:ne,y:oe}):W===lr.TARGET&&pe.updateEndPoint({x:ne,y:oe})},o.onDragEnd=function(){o.setState({draging:!1});var u=o.props,l=u.graphModel,d=u.edgeModel,b=u.type,x=u.eventCenter,j=l.nodes,N=o.state,B=N.endX,W=N.endY,ee=N.draging,ne=xi({x:B,y:W},j);if(ee)if(ne&&ne.node){var oe,pe=d.getData(),le=qn(qn({},pe),{},{sourceAnchorId:"",targetAnchorId:"",text:(pe==null||(oe=pe.text)===null||oe===void 0?void 0:oe.value)||""});b===lr.SOURCE?le=qn(qn({},le),{},{sourceNodeId:ne.node.id,sourceAnchorId:ne.anchor.id,startPoint:{x:ne.anchor.x,y:ne.anchor.y},targetNodeId:d.targetNodeId,endPoint:qn({},d.endPoint)}):b===lr.TARGET&&(le=qn(qn({},le),{},{sourceNodeId:d.sourceNodeId,startPoint:qn({},d.startPoint),targetNodeId:ne.node.id,targetAnchorId:ne.anchor.id,endPoint:{x:ne.anchor.x,y:ne.anchor.y}})),l.removeEdgeById(d.id);var Se=l.createEdge(qn({},le));x.emit(ot.EDGE_EXCHANGE_NODE,{data:{newEdge:Se.getData(),oldEdge:d.getData()}})}else o.recoveryEdge()},o.recoveryEdge=function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,b=l.endPoint,x=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(b),u.modelType!==at.LINE_EDGE&&(u.pointsList=x,u.initPoints())},o.getAdjustPointStyle=function(){return o.props.graphModel.theme.edgeAdjust},o.state={draging:!1,endX:0,endY:0},o.dragHandler=xo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,b=this.getAdjustPointStyle();return Object(q.g)("g",null,Object(q.g)(jo,Vd({className:"lf-edge-adjust-point"},b,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&l0(e.prototype,n),i}(q.a);function $d(t){return($d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cu(){return(Cu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jd(Object(n),!0).forEach(function(r){h0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qd(t,e){return(Qd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function g0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ru(t);if(e){var i=Ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ru(t){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Co=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Qd(o,u)})(i,t);var e,n,r=g0(i);function i(){var o;y0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).startTime=void 0,o.contextMenuTime=void 0,o.clickTimer=void 0,o.handleHover=function(b,x){var j=o.props,N=j.model,B=j.eventCenter;N.setHovered(b);var W=b?ot.EDGE_MOUSEENTER:ot.EDGE_MOUSELEAVE,ee=N.getData();B.emit(W,{data:ee,e:x})},o.setHoverON=function(b){o.handleHover(!0,b)},o.setHoverOFF=function(b){o.handleHover(!1,b)},o.handleContextMenu=function(b){b.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var x=o.props,j=x.model,N=x.graphModel,B=x.eventCenter,W=N.getPointByClient({x:b.clientX,y:b.clientY});N.setElementStateById(j.id,Et.SHOW_MENU,W.domOverlayPosition),o.toFront(),N.selectEdgeById(j.id);var ee=j==null?void 0:j.getData();B.emit(ot.EDGE_CONTEXTMENU,{data:ee,e:b,position:W})},o.handleMouseDown=function(b){b.stopPropagation(),o.startTime=new Date().getTime()},o.handleMouseUp=function(b){if(o.startTime&&!(new Date().getTime()-o.startTime>200||b.button===2)){var x=b.detail===2,j=o.props,N=j.model,B=j.graphModel,W=j.eventCenter,ee=N==null?void 0:N.getData(),ne=B.getPointByClient({x:b.clientX,y:b.clientY});if(x){var oe=B.editConfig,pe=B.textEditElement;if(pe&&pe.id===N.id&&B.setElementStateById(N.id,Et.DEFAULT),oe.edgeTextEdit&&N.text.editable&&B.setElementStateById(N.id,Et.TEXT_EDIT),N.modelType===at.POLYLINE_EDGE){var le=N,Se=B.getPointByClient({x:b.x,y:b.y}).canvasOverlayPosition,he=Se.x,Re=Se.y,De=rl({x:he,y:Re},le.points);le.dbClickPosition=De}W.emit(ot.EDGE_DBCLICK,{data:ee,e:b,position:ne})}else W.emit(ot.ELEMENT_CLICK,{data:ee,e:b,position:ne}),W.emit(ot.EDGE_CLICK,{data:ee,e:b,position:ne});var Ue=B.editConfig.metaKeyMultipleSelected;B.selectEdgeById(N.id,b.metaKey&&Ue),o.toFront()}},o.getIsDraging=function(){return!1},o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,u=o.strokeWidth,l=o.strokeOpacity,d=o.strokeDashArray,b=o.isSelected,x=o.isHovered,j=o.hoverStroke,N=o.selectedStroke,B=o.properties,W=this.props.model.stroke;return x?W=j:b&&(W=N),{stroke:W,strokeWidth:u,strokeOpacity:l,strokeDashArray:d,isSelected:b,isHovered:x,hoverStroke:j,selectedStroke:N,properties:d0({},B)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===Et.TEXT_EDIT)return"";var d=l.theme.edgeText,b=this.getTextStyle(),x=Nt({},d,b),j=!1,N=l.editConfig;return(u.text.draggable||N.edgeTextDraggable)&&(j=!0),Object(q.g)(u0,{editable:N.edgeTextEdit&&u.text.editable,model:u,graphModel:l,style:x,draggable:j})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,u=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:u.offset,verticalLength:u.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(q.g)(Xd,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=o.eventCenter,b=u.getAdjustStart(),x=u.getAdjustEnd();return Object(q.g)("g",null,Object(q.g)(qd,Cu({type:"SOURCE"},b,{edgeModel:u,graphModel:l,eventCenter:d})),Object(q.g)(qd,Cu({type:"TARGET"},x,{edgeModel:u,graphModel:l,eventCenter:d})))}},{key:"getAppendWidth",value:function(){return Object(q.g)("g",null)}},{key:"getAppend",value:function(){return Object(q.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==Ln.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model.isSelected,l=o.graphModel.editConfig,d=this.getIsDraging(),b=l.adjustEdgeStartAndEnd;return Object(q.g)("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),b&&u&&!d?this.getAdjustPoints():"")}}])&&v0(e.prototype,n),i}(q.a);function eh(t){return(eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function th(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?th(Object(n),!0).forEach(function(r){m0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rh(){return(rh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=w0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function w0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ro(t))!==null;);return t}function oh(t,e){return(oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function x0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ro(t);if(e){var i=Ro(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E0(this,n)}}function E0(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Iu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&oh(o,u)})(i,t);var e,n,r=x0(i);function i(){return _0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint;return nh(nh({},rh(Ro(i.prototype),"getAttributes",this).call(this)),{},{startPoint:u,endPoint:l})}},{key:"getEdge",value:function(){var o=this.getAttributes(),u=o.stroke,l=o.startPoint,d=o.endPoint,b=o.strokeWidth,x=o.strokeOpacity,j=o.strokeDashArray;return Object(q.g)(Gr,{x1:l.x,y1:l.y,x2:d.x,y2:d.y,strokeOpacity:x,strokeWidth:b,stroke:u,strokeDasharray:j})}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(N){var B,W=N.start,ee=N.end;if(W.x===ee.x&&W.y===ee.y)B="";else{var ne={start:W,end:ee,offset:10,verticalLength:5},oe=_o(ji(ji({},ne),{},{type:"start"})),pe=_o(ji(ji({},ne),{},{type:"end"}));B="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(pe.rightX," ").concat(pe.rightY,`
    L`).concat(pe.leftX," ").concat(pe.leftY," z")}return{d:B,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,b=u.fill,x=u.strokeDasharray,j=u.stroke;return Object(q.g)(No,{d:l,fill:b,strokeWidth:d,stroke:j,strokeDasharray:x})}}])&&O0(e.prototype,n),i}(Co);function ih(t){return(ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function j0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ah(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ah(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ah(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S0=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=j0(n,2),i=r[0],o=r[1];ih(o)!=="object"&&(e[i]=o)}),Object(q.g)("polyline",e)};function uh(t){return(uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ch(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ch(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return sh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lh(){return(lh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=T0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function T0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Io(t))!==null;);return t}function fh(t,e){return(fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function D0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Io(t);if(e){var i=Io(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M0(this,n)}}function M0(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Io(t){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Lu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&fh(o,u)})(i,t);var e,n,r=D0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).drag=void 0,o.isDraging=void 0,o.appendInfo=void 0,o.dragHandler=void 0,o.onDragStart=function(){o.props.model.dragAppendStart()},o.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=o.props,x=b.model,j=b.graphModel;o.isDraging=!0;var N=j.transformMatrix,B=j.editConfig,W=A0(N.fixDeltaXY(l,d),2),ee=W[0],ne=W[1],oe=x,pe=B.adjustEdgeMiddle;o.appendInfo=pe?oe.dragAppendSimple(o.appendInfo,{x:ee,y:ne}):oe.dragAppend(o.appendInfo,{x:ee,y:ne})},o.onDragEnd=function(){var u=o.props,l=u.model,d=u.eventCenter,b=l;b.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(ot.EDGE_ADJUST,{data:b.getData()})},o.beforeDragStart=function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l},o.getIsDraging=function(){return o.isDraging},o.drag=xo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=lh(Io(i.prototype),"getAttributes",this).call(this),u=this.props.model.points;return Kr(Kr({},o),{},{points:u})}},{key:"getEdge",value:function(){var o=this.getAttributes(),u=o.points,l=o.strokeWidth,d=o.stroke,b=o.strokeDashArray;return Object(q.g)(S0,{points:u,strokeWidth:l,stroke:d,strokeDasharray:b})}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},b=Xr(u);return b.length>=2&&(d.start=b[b.length-2],d.end=b[b.length-1]),d}},{key:"getAppendAttibutes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var b={start:l,end:d,offset:10,verticalLength:5},x=_o(Kr(Kr({},b),{},{type:"start"})),j=_o(Kr(Kr({},b),{},{type:"end"}));u="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttibutes(o),l=u.d,d=u.strokeWidth,b=u.fill,x=u.strokeDasharray,j=u.stroke;return Object(q.g)(No,{d:l,fill:b,strokeWidth:d,stroke:j,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,b=l.pointsList,x=l.draggable,j=[],N=b.length,B=function(ee){var ne="lf-polyline-append",oe={start:{x:b[ee].x,y:b[ee].y},end:{x:b[ee+1].x,y:b[ee+1].y},startIndex:ee,endIndex:ee+1,direction:"",dragAble:!0},pe=Object(q.g)("g",{className:ne},o.getAppendShape(oe)),le=d.editConfig,Se=le.adjustEdge,he=le.adjustEdgeMiddle;if(Se&&x){o.dragHandler=o.drag;var Re=oe.startIndex,De=oe.endIndex,Ue=he&&(Re===0||De===N-1);oe.dragAble=!Ue,oe.start.x===oe.end.x?(oe.dragAble&&(ne+="-ew-resize"),oe.direction=Tt.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ne+="-ns-resize"),oe.direction=Tt.HORIZONTAL),pe=Object(q.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(dt){return o.beforeDragStart(dt,oe)}},Object(q.g)("g",{className:ne},o.getAppendShape(oe)))}else o.dragHandler=function(){};j.push(pe)},W=0;W<N-1;W++)B(W);return Object(q.g)("g",null,j)}}])&&k0(e.prototype,n),i}(Co);function ph(t){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function N0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hh(Object(n),!0).forEach(function(r){C0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vh(){return(vh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=L0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function L0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Lo(t))!==null;);return t}function gh(t,e){return(gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function z0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lo(t);if(e){var i=Lo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B0(this,n)}}function B0(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var zu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&gh(o,u)})(i,t);var e,n,r=z0(i);function i(){return R0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=vh(Lo(i.prototype),"getAttributes",this).call(this),u=this.props.model.path;return yh(yh({},o),{},{path:u})}},{key:"getEdge",value:function(){var o=this.getAttributes(),u=o.path,l=o.strokeWidth,d=o.stroke,b=o.strokeDashArray;return Object(q.g)(No,{d:u,strokeWidth:l,stroke:d,fill:"none",strokeDasharray:b})}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return Object(q.g)(No,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,b=l.isSelected,x=N0(function(j){var N=Di(j);return[N[2],N[3]]}(d),2);return{start:x[0],end:x[1],hover:u,isSelected:b}}}])&&I0(e.prototype,n),i}(Co),bh=function(t,e){return h(t,e)},X0=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Bu=function(){return yt.a.Date.now()},F0=/\s/,U0=function(t){for(var e=t.length;e--&&F0.test(t.charAt(e)););return e},G0=/^\s+/,H0=function(t){return t&&t.slice(0,U0(t)+1).replace(G0,"")},Y0=/^[-+]0x[0-9a-f]+$/i,V0=/^0b[01]+$/i,W0=/^0o[0-7]+$/i,K0=parseInt,mh=function(t){if(typeof t=="number")return t;if(re(t))return NaN;if(Rt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=H0(t);var n=V0.test(t);return n||W0.test(t)?K0(t.slice(2),n?2:8):Y0.test(t)?NaN:+t},Z0=Math.max,q0=Math.min,$0=function(t,e,n){var r,i,o,u,l,d,b=0,x=!1,j=!1,N=!0;if(typeof t!="function")throw new TypeError("Expected a function");function B(le){var Se=r,he=i;return r=i=void 0,b=le,u=t.apply(he,Se)}function W(le){return b=le,l=setTimeout(ne,e),x?B(le):u}function ee(le){var Se=le-d;return d===void 0||Se>=e||Se<0||j&&le-b>=o}function ne(){var le=Bu();if(ee(le))return oe(le);l=setTimeout(ne,function(Se){var he=e-(Se-d);return j?q0(he,o-(Se-b)):he}(le))}function oe(le){return l=void 0,N&&r?B(le):(r=i=void 0,u)}function pe(){var le=Bu(),Se=ee(le);if(r=arguments,i=this,d=le,Se){if(l===void 0)return W(d);if(j)return clearTimeout(l),l=setTimeout(ne,e),B(d)}return l===void 0&&(l=setTimeout(ne,e)),u}return e=mh(e)||0,Rt(n)&&(x=!!n.leading,o=(j="maxWait"in n)?Z0(mh(n.maxWait)||0,e):o,N="trailing"in n?!!n.trailing:N),pe.cancel=function(){l!==void 0&&clearTimeout(l),b=0,r=d=i=l=void 0},pe.flush=function(){return l===void 0?u:oe(Bu())},pe},J0=a(157);function Q0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _h,Oh,wh,e_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=void 0,this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){bh(X0(this.undos),r)||(this.undos.push(r),bh(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ot.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=ba(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=ba(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(J0.a)(r,$0(function(){var o=r.modelToGraphData();i.add(o)},this.waitTime))}}])&&Q0(e.prototype,n),t}();function xh(t){return(xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Eh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Eh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Eh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jh(Object(n),!0).forEach(function(r){n_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ph(t,e){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function r_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xu(t);if(e){var i=Xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o_(this,n)}}function o_(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ah,kh,Th,Fu=Sn((wh=Oh=function(t){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Ph(u,l)})(o,t);var e,n,r,i=r_(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),(u=i.call(this)).ref=Object(q.f)(),u.__prevText={type:"",text:"",id:""},u.keyupHandler=function(l){var d=l.target.innerText,b=u.props.graphModel.textEditElement;l.keyCode===13&&l.altKey&&b.setElementState(0),u.__prevText={type:b.type,text:d,id:b.id}},u.state={style:{left:0,top:0}},u}return e=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,b=d.transformMatrix,x=d.theme,j=d.textEditElement;if(j){var N;if((N=j.text)===null||N===void 0||!N.value)if(j.BaseType===Xt.EDGE){var B=(j=j).text,W=j.textPosition,ee=W.x,ne=W.y;B.x=ee,B.y=ne,j.setText(B)}else j=j;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===Xt.EDGE){var pe=x.edgeText,le=pe.autoWrap,Se=pe.lineHeight,he=pe.wrapPadding,Re=j.textWidth;le&&Re&&(l=Zr(Zr({},oe),{},{width:Re,minWidth:Re,lineHeight:Se,padding:he}))}else if(j.BaseType===Xt.NODE){var De=x.nodeText,Ue=De.autoWrap,dt=De.lineHeight,jt=De.wrapPadding,nn=j,Pn=nn.width,hn=nn.textWidth,zo=nn.modelType;(zo!==at.TEXT_NODE&&Ue||zo===at.TEXT_NODE&&Ue&&hn)&&(l=Zr(Zr({},oe),{},{width:hn||Pn,minWidth:hn||Pn,lineHeight:dt,padding:jt}))}var Bo=j.text,Ui=Bo.x,Vu=Bo.y,Gi=t_(b.CanvasPointToHtmlPoint([Ui,Vu]),2);return{style:Zr({left:Gi[0],top:Gi[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfig,b=d.edgeTextEdit,x=d.nodeTextEdit;(b||x)&&l.on(ot.GRAPH_TRANSFORM,function(){u.textEditElement&&u.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,b=l.id;u.setElementTextById(b,d),u.eventCenter.emit(ot.TEXT_UPDATE,Zr({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(q.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&Sh(e.prototype,n),r&&Sh(e,r),o}(q.a),Oh.toolName="textEdit",_h=wh))||_h,i_=function(t){return t.modelType===at.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-l/2,x1:i+u/2,y1:o+l/2}}(t):t.modelType===at.POLYLINE_EDGE?function(e){var n=e.points,r=Xr(n),i=Oo(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(t):t.modelType===at.BEZIER_EDGE?function(e){var n=e.path,r=Di(n),i=Oo(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(t):void 0};function Dh(t){return(Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){b=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||Nh(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a_(t){return function(e){if(Array.isArray(e))return Uu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Nh(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nh(t,e){if(t){if(typeof t=="string")return Uu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(t,e):void 0}}function Uu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ch(t,e){return(Ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function c_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gu(t);if(e){var i=Gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s_(this,n)}}function s_(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Hu=Sn((Th=kh=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ch(o,u)})(i,t);var e,n,r=c_(i);function i(o){var u;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,i),(u=r.call(this)).stepDrag=void 0,u.handleMouseDown=function(b){u.stepDrag.handleMouseDown(b)},u.onDraging=function(b){var x=b.deltaX,j=b.deltaY,N=u.props.graphModel;N.moveElements(N.getSelectElements(!0),x,j)},u.handleContextMenu=function(b){b.preventDefault();var x=u.props,j=x.graphModel,N=x.graphModel,B=N.eventCenter,W=N.selectElements,ee=j.getPointByClient({x:b.clientX,y:b.clientY}),ne={nodes:[],edges:[]};a_(W.values()).forEach(function(oe){oe.BaseType===Xt.NODE&&ne.nodes.push(oe.getData()),oe.BaseType===Xt.EDGE&&ne.edges.push(oe.getData())}),B.emit(ot.SELECTION_CONTEXTMENU,{data:ne,e:b,position:ee})};var l=o.graphModel.gridSize,d=o.eventCenter;return u.stepDrag=new Eo({onDraging:u.onDraging,step:l,eventType:"multiple:select",eventCenter:d}),u}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformMatrix;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,b=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;u.forEach(function(ee){var ne={x:0,y:0,x1:0,y1:0};ee.BaseType===Xt.NODE&&(ne=function(oe){var pe=oe.x,le=oe.y,Se=oe.width,he=oe.height;return{x:pe-Se/2,y:le-he/2,x1:pe+Se/2,y1:le+he/2}}(ee)),ee.BaseType===Xt.EDGE&&(ne=i_(ee)),d=Math.min(d,ne.x),b=Math.min(b,ne.y),x=Math.max(x,ne.x1),j=Math.max(j,ne.y1)});var N=Mh(l.CanvasPointToHtmlPoint([d,b]),2);d=N[0],b=N[1];var B=Mh(l.CanvasPointToHtmlPoint([x,j]),2);x=B[0],j=B[1];var W={left:"".concat(d-10,"px"),top:"".concat(b-10,"px"),width:"".concat(x-d+20,"px"),height:"".concat(j-b+20,"px")};return Object(q.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&u_(e.prototype,n),i}(q.a),kh.toolName="multipleSelect",Ah=Th))||Ah;function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.tools=void 0,this.components=void 0,this.toolMap=new Map,this.instance=void 0,this.instance=r,this.isDisabledTool(Fu.toolName)||this.registerTool(Fu.toolName,Fu),this.isDisabledTool(Hu.toolName)||this.registerTool(Hu.toolName,Hu)}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&l_(e.prototype,n),t}();a(202);function p_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d_=function(){function t(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),this._events={}}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var u=this;return r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],b=function(x){for(var j=x.length,N=0;N<j;N++)if(x[N]){var B=x[N],W=B.callback;B.once&&(x.splice(N,1),x.length===0&&delete o._events[u],j--,N--),W.apply(o,[i])}};b(l),b(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var l=o._events[u]||[],d=l.length,b=0;b<d;b++)l[b].callback===i&&(l.splice(b,1),d--,b--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&p_(e.prototype,n),t}(),h_=a(158),y_=a.n(h_);function v_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rh=function(){function t(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),this.mousetrap=void 0,this.options=void 0,this.target=void 0,r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new y_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Jt(i))i.forEach(function(d){var b=d.keys,x=d.callback,j=d.action;return r.on(b,x,j)});else{var o=i.keys,u=i.callback,l=i.action;this.on(o,u,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&v_(e.prototype,n),t}(),g_=Rh,$n=null;function Ih(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Lh(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function zh(t){return(zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bh(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Yu=function(){function t(i){var o=this;(function(ee,ne){if(!(ee instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,t),this.container=void 0,this.width=void 0,this.height=void 0,this.graphModel=void 0,this.history=void 0,this.viewMap=new Map,this.tool=void 0,this.keyboard=void 0,this.dnd=void 0,this.options=void 0,this.getSnapshot=void 0,this.eventCenter=void 0,this.snaplineModel=void 0,this.components=[],this.adapterIn=void 0,this.adapterOut=void 0,this.getView=function(ee){return o.viewMap.get(ee)};var u,l,d=i.container,b=i.width,x=i.height,j=i.dndOptions,N=i.keyboard,B=i.isSilentMode,W=i.snapline;this.options=gf(i),this.container=d,this.width=b||d.getBoundingClientRect().width,this.height=x||d.getBoundingClientRect().height,this.tool=new f_(this),this.eventCenter=new d_,this.history=new e_(this.eventCenter),this.dnd=new gb({options:j,lf:this}),this.keyboard=new g_({lf:this,keyboard:N}),this.graphModel=new jg(Xh(Xh({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),B||W===!1||(this.snaplineModel=new Gp(this.graphModel),u=this.eventCenter,l=this.snaplineModel,u.on("node:mousemove",function(ee){var ne=ee.data;l.setNodeSnapLine(ne)}),u.on("node:mouseup",function(){l.clearSnapline()})),function(ee,ne){var oe=ee.keyboard,pe=oe.options.keyboard;oe.on(["cmd + c","ctrl + c"],function(){if(pe.enabled&&!ne.textEditElement){var le=ee.options.guards,Se=ne.getSelectElements(!1);return le&&le.beforeClone&&!le.beforeClone(Se)?($n=null,!1):(($n=Se).nodes.forEach(function(he){return Ih(he,40)}),$n.edges.forEach(function(he){return Lh(he,40)}),!1)}}),oe.on(["cmd + v","ctrl + v"],function(){if(pe.enabled&&!ne.textEditElement){if($n&&($n.nodes||$n.edges)){ee.clearSelectElements();var le=ee.addElements($n);if(!le)return;le.nodes.forEach(function(Se){return ee.select(Se.id,!0)}),le.edges.forEach(function(Se){return ee.select(Se.id,!0)}),$n.nodes.forEach(function(Se){return Ih(Se,40)}),$n.edges.forEach(function(Se){return Lh(Se,40)})}return!1}}),oe.on(["cmd + z","ctrl + z"],function(){if(pe.enabled&&!ne.textEditElement)return ee.undo(),!1}),oe.on(["cmd + y","ctrl + y"],function(){if(pe.enabled&&!ne.textEditElement)return ee.redo(),!1}),oe.on(["backspace"],function(){if(pe.enabled&&!ne.textEditElement){var le=ne.getSelectElements(!0);return ee.clearSelectElements(),le.edges.forEach(function(Se){return ee.deleteEdge(Se.id)}),le.nodes.forEach(function(Se){return ee.deleteNode(Se.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(u){var l=u.pluginName||u.name;o.indexOf(l)===-1&&i.__installPlugin(u)})}},{key:"__installPlugin",value:function(i){if(zh(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,t),void(u&&this.components.push(u.bind(i)))}var l=new i({lf:this,LogicFlow:t});l.render&&this.components.push(l.render.bind(l))}},{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:Co,BaseEdgeModel:Aa,BaseNode:Zn,BaseNodeModel:Kn,RectNode:mu,RectNodeModel:uu,CircleNode:Ou,CircleNodeModel:qa,PolygonNode:xu,PolygonNodeModel:iu,TextNode:Au,TextNodeModel:lu,LineEdge:Iu,LineEdgeModel:Da,DiamondNode:ju,DiamondNodeModel:Qa,PolylineEdge:Lu,PolylineEdgeModel:Ma,BezierEdge:zu,BezierEdgeModel:Ka,EllipseNode:Su,EllipseNodeModel:nu,HtmlNode:Tu,HtmlNodeModel:pu,h:q.g,type:i};this.viewMap.forEach(function(N){var B=N.extendKey;B&&(l[B]=N)}),this.graphModel.modelMap.forEach(function(N){var B=N.extendKey;B&&(l[B]=N)});var d=o(l),b=d.view,x=d.model,j=b;u&&!j.isObervered&&(j.isObervered=!0,j=de(j)),this.setView(i,j),this.graphModel.setModel(i,x)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=de(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:mu,model:uu,type:"rect"}),this._registerElement({type:"circle",view:Ou,model:qa}),this._registerElement({type:"polygon",view:xu,model:iu}),this._registerElement({type:"line",view:Iu,model:Da}),this._registerElement({type:"polyline",view:Lu,model:Ma}),this._registerElement({type:"bezier",view:zu,model:Ka}),this._registerElement({type:"text",view:Au,model:lu}),this._registerElement({type:"ellipse",view:Su,model:nu}),this._registerElement({type:"diamond",view:ju,model:Qa}),this._registerElement({type:"html",view:Tu,model:pu})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=bn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=bn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){var u=this.graphModel.transformMatrix;return u.zoom(i,o),"".concat(100*u.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,u=i.coordinate,l=i.id;if(!u){var d=this.getNodeModel(l);d&&(u=d.getData());var b=this.getEdgeModelById(l);b&&(u=b.textPosition)}var x=u,j=x.x,N=x.y;o.focusOn(j,N,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"deleteElement",value:function(i){return this.graphModel.getNodeModel(i)?this.deleteNode(i):!!this.graphModel.getEdgeModel(i)&&this.deleteEdge(i)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.removeEdgeById(i),d}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.removeEdge(o,u):o?this.graphModel.removeEdgeBySource(o):u&&this.graphModel.removeEdgeByTarget(u)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,u=o.edges,l=o.edgesMap,d=i.id,b=i.sourceNodeId,x=i.targetNodeId;if(d)return l[d]?[l[d].model]:void console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(d,"\u7684\u8FB9"));if(b&&x){var j=[];return u.forEach(function(W){W.sourceNodeId===b&&W.targetNodeId===x&&j.push(W)}),j}if(b){var N=[];return u.forEach(function(W){W.sourceNodeId===b&&N.push(W)}),N}if(x){var B=[];return u.forEach(function(W){W.targetNodeId===x&&B.push(W)}),B}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,u=i.id;return(o=this.getEdgeModelById(u))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(bn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,l=i.edges,d={},b={nodes:[],edges:[]},x=0;x<u.length;x++){var j=u[x],N=j.id,B=this.addNode(j);if(!B)return;N&&(d[N]=B.id),b.nodes.push(B)}return l.forEach(function(W){var ee=W.sourceNodeId,ne=W.targetNodeId;d[ee]&&(W.sourceNodeId=d[ee]),d[ne]&&(W.targetNodeId=d[ne]);var oe=o.graphModel.createEdge(W);b.edges.push(oe)}),b}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(i,this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(u){return u.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(bn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(q.j)(Object(q.g)(hb,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&Fh(e.prototype,n),r&&Fh(e,r),t}();function Sn(t){return de(t)}Yu.extensions=new Map,p.default=Yu}])})})(Ze,Ze.exports);var qr=x_(Ze.exports);function I_(g,y){return y={exports:{}},g(y,y.exports),y.exports}var L_=I_(function(g){var y=g.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(p),f=2;a===1/0;f*=2)a=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=a-Math.floor(a),m="",f=0;f<Math.floor(a);f++){var _=Math.floor(Math.random()*p).toString(p);m=_+m}if(s){var E=Math.pow(p,s),_=Math.floor(Math.random()*E).toString(p);m=_+m}var O=parseInt(m,p);return O!==1/0&&O>=Math.pow(2,c)?y(c,p):m};y.rack=function(c,p,a){var f=function(m){var _=0;do{if(_++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var E=y(c,p)}while(Object.hasOwnProperty.call(s,E));return s[E]=m,E},s=f.hats={};return f.get=function(m){return f.hats[m]},f.set=function(m,_){return f.hats[m]=_,f},f.bits=c||128,f.base=p||16,f}});function Fn(g){if(!(this instanceof Fn))return new Fn(g);g=g||[128,36,1],this._seed=g.length?L_.rack(g[0],g[1],g[2]):g}Fn.prototype.next=function(g){return this._seed(g||!0)};Fn.prototype.nextPrefixed=function(g,y){var c;do c=g+this.next(!0);while(this.assigned(c));return this.claim(c,y),c};Fn.prototype.claim=function(g,y){this._seed.set(g,y||!0)};Fn.prototype.assigned=function(g){return this._seed.get(g)||!1};Fn.prototype.unclaim=function(g){delete this._seed.hats[g]};Fn.prototype.clear=function(){var g=this._seed.hats,y;for(y in g)this.unclaim(y)};var z_=new Fn([32,32,1]);function $r(){return z_.next()}var Vh=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Zu=globalThis&&globalThis.__assign||function(){return Zu=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Zu.apply(this,arguments)};(function(g){Vh(y,g);function y(c,p){var a=this;return c.id||(c.id="Event_"+$r()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=g.call(this,c,p)||this,a}return y.prototype.getConnectedTargetRules=function(){var c=g.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},y.extendKey="StartEventModel",y})(Ze.exports.CircleNodeModel);(function(g){Vh(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getAttributes=function(){var c=g.prototype.getAttributes.call(this);return Zu({},c)},y.extendKey="StartEventNode",y})(Ze.exports.CircleNode);var Wh=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){Wh(y,g);function y(c,p){var a=this;return c.id||(c.id="Event_"+$r()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=g.call(this,c,p)||this,a}return y.prototype.getConnectedSourceRules=function(){var c=g.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},y.extendKey="EndEventModel",y})(Ze.exports.CircleNodeModel);(function(g){Wh(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var c=this.getAttributes(),p=c.x,a=c.y,f=c.fill,s=c.stroke,m=c.strokeWidth,_=c.r,E=g.prototype.getShape.call(this);return Ze.exports.h("g",{},E,Ze.exports.h("circle",{cx:p,cy:a,fill:f,stroke:s,strokeWidth:m,r:_-5}))},y.extendKey="EndEventView",y})(Ze.exports.CircleNode);var Kh=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){Kh(y,g);function y(c,p){var a=this;return c.id||(c.id="Gateway_"+$r()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=g.call(this,c,p)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return y.extendKey="ExclusiveGatewayModel",y})(Ze.exports.PolygonNodeModel);(function(g){Kh(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,a=c.y,f=c.fill,s=c.stroke,m=c.strokeWidth,_=c.width,E=c.height,O=c.points;return Ze.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-_/2)+" "+(a-E/2)+")"},Ze.exports.h("polygon",{fill:f,x:p,y:a,stroke:s,strokeWidth:m,points:O}),Ze.exports.h("path",{fill:f,stroke:s,strokeWidth:m,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},y.extendKey="ExclusiveGatewayNode",y})(Ze.exports.PolygonNode);var Zh=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){Zh(y,g);function y(c,p){var a=this;return c.id||(c.id="Activity_"+$r()),a=g.call(this,c,p)||this,a}return y.extendKey="UserTaskModel",y})(Ze.exports.RectNodeModel);(function(g){Zh(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,a=c.y,f=c.width,s=c.height,m=c.stroke;return Ze.exports.h("svg",{x:p-f/2+5,y:a-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ze.exports.h("path",{fill:m,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,a=c.y,f=c.width,s=c.height,m=c.fill,_=c.stroke,E=c.strokeWidth,O=c.radius;return Ze.exports.h("g",{},[Ze.exports.h("rect",{x:p-f/2,y:a-s/2,rx:O,ry:O,fill:m,stroke:_,strokeWidth:E,width:f,height:s}),this.getLabelShape()])},y.extendKey="UserTaskNode",y})(Ze.exports.RectNode);var qh=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){qh(y,g);function y(c,p){var a=this;return c.id||(c.id="Activity_"+$r()),a=g.call(this,c,p)||this,a}return y.extendKey="ServiceTaskModel",y})(Ze.exports.RectNodeModel);(function(g){qh(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,a=c.y,f=c.width,s=c.height,m=c.stroke;return Ze.exports.h("svg",{x:p-f/2+5,y:a-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ze.exports.h("path",{fill:m,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,a=c.y,f=c.width,s=c.height,m=c.fill,_=c.stroke,E=c.strokeWidth,O=c.radius;return Ze.exports.h("g",{},[Ze.exports.h("rect",{x:p-f/2,y:a-s/2,rx:O,ry:O,fill:m,stroke:_,strokeWidth:E,width:f,height:s}),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y})(Ze.exports.RectNode);var $h=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){$h(y,g);function y(c,p){var a=this;return c.id||(c.id="Flow_"+$r()),a=g.call(this,c,p)||this,a}return y.extendKey="SequenceFlowModel",y})(Ze.exports.PolylineEdgeModel);(function(g){$h(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y})(Ze.exports.PolylineEdge);var Jh={width:40,height:40},Qh={width:40,height:40},ey={width:40,height:40},ty={width:100,height:80},ny={width:100,height:80},B_={pluginName:"snapshot",install:function(g){var y=this;this.lf=g,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,g.getSnapshot=function(c,p){y.fileName=c||"logic-flow."+Date.now()+".png";var a=y.getSvgRootElement(g);y.downloadSvg(a,y.fileName,p)},g.getSnapshotBlob=function(c){var p=y.getSvgRootElement(g);return y.getBlob(p,c)},g.getSnapshotBase64=function(c){var p=y.getSvgRootElement(g);return y.getBase64(p,c)}},getSvgRootElement:function(g){var y=this;g.graphModel.nodes.forEach(function(p){var a=p.x,f=p.width,s=p.y,m=p.height,_=a-f/2,E=s-m/2;_<y.offsetX&&(y.offsetX=_-5),E<y.offsetY&&(y.offsetY=E-5)}),g.graphModel.edges.forEach(function(p){p.pointsList&&p.pointsList.forEach(function(a){var f=a.x,s=a.y;f<y.offsetX&&(y.offsetX=f-5),s<y.offsetY&&(y.offsetY=s-5)})});var c=g.container.querySelector("svg");return c},triggerDownload:function(g){var y=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",g),c.setAttribute("target","_blank"),c.dispatchEvent(y)},removeAnchor:function(g){for(var y=g.childNodes,c=g.childNodes&&g.childNodes.length,p=0;p<c;p++){var a=y[p],f=a.classList&&Array.from(a.classList)||[];f.indexOf("lf-anchor")>-1&&(g.removeChild(g.childNodes[p]),c--,p--)}},downloadSvg:function(g,y,c){var p=this;this.getCanvasData(g,c).then(function(a){var f=a.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(f,y)})},getBase64:function(g,y){var c=this;return new Promise(function(p){c.getCanvasData(g,y).then(function(a){var f=a.toDataURL("image/png");p({data:f,width:a.width,height:a.height})})})},getBlob:function(g,y){var c=this;return new Promise(function(p){c.getCanvasData(g,y).then(function(a){a.toBlob(function(f){p({data:f,width:a.width,height:a.height})},"image/png")})})},getCanvasData:function(g,y){var c=this,p=g.cloneNode(!0),a=p.lastChild,f=a.childNodes&&a.childNodes.length;if(f)for(var s=0;s<f;s++){var m=a.childNodes[s],_=m.classList&&Array.from(m.classList);if(_&&_.indexOf("lf-base")<0)a.removeChild(a.childNodes[s]),f--,s--;else{var E=a.childNodes[s];E&&E.childNodes.forEach(function(M){var z=M;c.removeAnchor(z.firstChild)})}}p.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var O=window.devicePixelRatio||1,S=document.createElement("canvas"),A=document.getElementsByClassName("lf-base")[0],P=A.getBoundingClientRect(),C=this.lf.graphModel,R=C.transformMatrix,G=R.SCALE_X,H=R.SCALE_Y,I=Math.ceil(P.width/G),V=Math.ceil(P.height/H);S.style.width=I+"px",S.style.height=V+"px",S.width=I*O+80,S.height=V*O+80;var Z=S.getContext("2d");Z.scale(O,O),y?(Z.fillStyle=y,Z.fillRect(0,0,I*O+80,V*O+80)):Z.clearRect(0,0,I,V);var Y=new Image;return new Promise(function(M){Y.onload=function(){Z.drawImage(Y,0,0),M(S)};var z="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(p),k=z.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=k})}},X_=new Fn([32,32,1]);function ry(){return X_.next()}var cn=function(){};cn.ObjTree=function(){return this};cn.ObjTree.VERSION="0.23";cn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;cn.ObjTree.prototype.attr_prefix="-";cn.ObjTree.prototype.parseXML=function(g){var y;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(g,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(g),y=c.documentElement);if(!!y)return this.parseDOM(y)};cn.ObjTree.prototype.parseHTTP=function(g,y,c){var p={};for(var a in y)p[a]=y[a];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,m=p.onComplete;p.onComplete=function(O){var S;O&&O.responseXML&&O.responseXML.documentElement&&(S=f.parseDOM(O.responseXML.documentElement)),s(S,O),m&&m(O)}}else p.asynchronous=!1;var _;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=g;var E=new HTTP.Request(p);E&&(_=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(g,p);E&&(_=E.transport)}if(c)return _;if(_&&_.responseXML&&_.responseXML.documentElement)return this.parseDOM(_.responseXML.documentElement)};cn.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var c=this.parseElement(g);if(this.__force_array[g.nodeName]&&(c=[c]),g.nodeType!=11){var p={};p[g.nodeName]=c,c=p}return c}};cn.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var y=g.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:g.nodeValue}var c,p={};if(g.attributes&&g.attributes.length){c={};for(var a=0;a<g.attributes.length;a++){var f=g.attributes[a].nodeName;if(typeof f=="string"){var s=g.attributes[a].nodeValue;!s||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(g.childNodes&&g.childNodes.length){var m=!0;c&&(m=!1);for(var a=0;a<g.childNodes.length&&m;a++){var _=g.childNodes[a].nodeType;_==3||_==4||(m=!1)}if(m){c||(c="");for(var a=0;a<g.childNodes.length;a++)c+=g.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<g.childNodes.length;a++){var f=g.childNodes[a].nodeName;if(typeof f=="string"){var s=this.parseElement(g.childNodes[a]);!s||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}return c}};cn.ObjTree.prototype.addNode=function(g,y,c,p){this.__force_array[y]?(c==1&&(g[y]=[]),g[y][g[y].length]=p):c==1?g[y]=p:c==2?g[y]=[g[y],p]:g[y][g[y].length]=p};cn.ObjTree.prototype.writeXML=function(g){var y=this.hash_to_xml(null,g);return this.xmlDecl+y};cn.ObjTree.prototype.hash_to_xml=function(g,y){var c=[],p=[];for(var a in y)if(!!y.hasOwnProperty(a)){var f=y[a];a.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+a+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(a,f):typeof f=="object"?c[c.length]=this.hash_to_xml(a,f):c[c.length]=this.scalar_to_xml(a,f):p[p.length]=" "+a.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),m=c.join("");return typeof g=="undefined"||g==null||(c.length>0?m.match(/\n/)?m="<"+g+s+`>
`+m+"</"+g+`>
`:m="<"+g+s+">"+m+"</"+g+`>
`:m="<"+g+s+` />
`),m};cn.ObjTree.prototype.array_to_xml=function(g,y){for(var c=[],p=0;p<y.length;p++){var a=y[p];typeof a=="undefined"||a==null?c[c.length]="<"+g+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(g,a):typeof a=="object"?c[c.length]=this.hash_to_xml(g,a):c[c.length]=this.scalar_to_xml(g,a)}return c.join("")};cn.ObjTree.prototype.scalar_to_xml=function(g,y){return g=="#text"?this.xml_escape(y):"<"+g+">"+this.xml_escape(y)+"</"+g+`>
`};cn.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Vi=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},Un;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(Un||(Un={}));var oy=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function qu(g){var y={};return Object.entries(g).forEach(function(c){var p=Vi(c,2),a=p[0],f=p[1];typeof f!="object"?a.indexOf("-")===0?y[a]=f:y["-"+a]=f:y[a]=qu(f)}),y}function $u(g){var y={};return Object.entries(g).forEach(function(c){var p=Vi(c,2),a=p[0],f=p[1];typeof f=="string"?a.indexOf("-")===0?y[a.substr(1)]=f:y[a]=f:typeof f=="object"?y[a]=$u(f):y[a]=f}),y}function F_(g,y){var c=new Map;y.nodes.forEach(function(a){var f,s={"-id":a.id};if(((f=a.text)===null||f===void 0?void 0:f.value)&&(s["-name"]=a.text.value),a.properties){var m=qu(a.properties);Object.assign(s,m)}c.set(a.id,s),g[a.type]?Array.isArray(g[a.type])?g[a.type].push(s):g[a.type]=[g[a.type],s]:g[a.type]=s});var p=y.edges.map(function(a){var f,s,m=c.get(a.targetNodeId);m["bpmn:incoming"]?Array.isArray(m["bpmn:incoming"])?m["bpmn:incoming"].push(a.id):m["bpmn:incoming"]=[m["bpmn:incoming"],a.id]:m["bpmn:incoming"]=a.id;var _=c.get(a.sourceNodeId);_["bpmn:outgoing"]?Array.isArray(_["bpmn:outgoing"])?_["bpmn:outgoing"].push(a.id):_["bpmn:outgoing"]=[_["bpmn:outgoing"],a.id]:_["bpmn:outgoing"]=a.id;var E={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(((f=a.text)===null||f===void 0?void 0:f.value)&&(E["-name"]=(s=a.text)===null||s===void 0?void 0:s.value),a.properties){var O=qu(a.properties);Object.assign(E,O)}return E});g[Un.FLOW]=p}function U_(g,y){g["bpmndi:BPMNEdge"]=y.edges.map(function(c){var p,a=c.id,f=c.pointsList.map(function(m){var _=m.x,E=m.y;return{"-x":_,"-y":E}}),s={"-id":a+"_di","-bpmnElement":a,"di:waypoint":f};return((p=c.text)===null||p===void 0?void 0:p.value)&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),g["bpmndi:BPMNShape"]=y.nodes.map(function(c){var p,a=c.id,f=100,s=80,m=c.x,_=c.y,E=Sr.shapeConfigMap.get(c.type);E&&(f=E.width,s=E.height),m-=f/2,_-=s/2;var O={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":m,"-y":_,"-width":f,"-height":s}};return((p=c.text)===null||p===void 0?void 0:p.value)&&(O["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),O})}function G_(g){var y=[],c=[],p=g["bpmn:definitions"];if(p){var a=p["bpmn:process"];Object.keys(a).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=a[f];if(f===Un.FLOW){var m=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Y_(s,m)}else{var _=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(H_(s,_,f))}}})}return{nodes:y,edges:c}}function H_(g,y,c){var p=[];if(Array.isArray(g))g.forEach(function(s){var m;Array.isArray(y)?m=y.find(function(E){return E["-bpmnElement"]===s["-id"]}):m=y;var _=iy(m,c,s);p.push(_)});else{var a=void 0;Array.isArray(y)?a=y.find(function(s){return s["-bpmnElement"]===g["-id"]}):a=y;var f=iy(a,c,g);p.push(f)}return p}function iy(g,y,c){var p=Number(g["dc:Bounds"]["-x"]),a=Number(g["dc:Bounds"]["-y"]),f=c["-name"],s=Sr.shapeConfigMap.get(y);s&&(p+=s.width/2,a+=s.height/2);var m;Object.entries(c).forEach(function(S){var A=Vi(S,2),P=A[0],C=A[1];oy.indexOf(P)===-1&&(m||(m={}),m[P]=C)}),m&&(m=$u(m));var _;if(f&&(_={x:p,y:a,value:f},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=g["bpmndi:BPMNLabel"]["dc:Bounds"];_.x=Number(E["-x"])+Number(E["-width"])/2,_.y=Number(E["-y"])+Number(E["-height"])/2}var O={id:g["-bpmnElement"],type:y,x:p,y:a,properties:m};return _&&(O.text=_),O}function Y_(g,y){var c=[];if(Array.isArray(g))g.forEach(function(a){var f;Array.isArray(y)?f=y.find(function(s){return s["-bpmnElement"]===a["-id"]}):f=y,c.push(ay(f,a))});else{var p=void 0;Array.isArray(y)?p=y.find(function(a){return a["-bpmnElement"]===g["-id"]}):p=y,c.push(ay(p,g))}return c}function ay(g,y){var c,p=y["-name"];if(p){var a=g["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(_){f<_.length&&(f=_.length)}),c={value:p,x:Number(a["-x"])+f*10/2,y:Number(a["-y"])+7}}var s;Object.entries(y).forEach(function(_){var E=Vi(_,2),O=E[0],S=E[1];oy.indexOf(O)===-1&&(s||(s={}),s[O]=S)}),s&&(s=$u(s));var m={id:y["-id"],type:Un.FLOW,pointsList:g["di:waypoint"].map(function(_){return{x:Number(_["-x"]),y:Number(_["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:s};return c&&(m.text=c),m}var Sr={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,y){this.shapeConfigMap.set(g,y)},adapterOut:function(g){var y={"-id":"Process_"+ry(),"-isExecutable":"false"};F_(y,g);var c={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};U_(c,g);var p={"bpmn:definitions":{"-id":"Definitions_"+ry(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(g){if(g)return G_(g)}};Sr.shapeConfigMap.set(Un.START,{width:Jh.width,height:Jh.height});Sr.shapeConfigMap.set(Un.END,{width:Qh.width,height:Qh.height});Sr.shapeConfigMap.set(Un.GATEWAY,{width:ey.width,height:ey.height});Sr.shapeConfigMap.set(Un.SYSTEM,{width:ty.width,height:ty.height});Sr.shapeConfigMap.set(Un.USER,{width:ny.width,height:ny.height});var uy=globalThis&&globalThis.__assign||function(){return uy=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},uy.apply(this,arguments)},cy;(function(g){g[g.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",g[g.START_EVENT=2]="START_EVENT",g[g.END_EVENT=3]="END_EVENT",g[g.USER_TASK=4]="USER_TASK",g[g.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(cy||(cy={}));var sy;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(sy||(sy={}));var V_=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var W_=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},K_=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(W_(arguments[y]));return g},Ct={pluginName:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){Ct.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){Ct.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){Ct.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){Ct.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){Ct.__lf.redo()}}],addItem:function(g){Ct.__controlItems.push(g)},removeItem:function(g){var y=Ct.__controlItems.findIndex(function(c){return c.key===g});return Ct.__controlItems.splice(y,1)[0]},install:function(){},render:function(g,y){Ct.__lf=g,Ct.__domContainer=y,Ct.__tool=this.__getControlTool(),y.appendChild(Ct.__tool)},destroy:function(){var g;try{(g=Ct.__domContainer)===null||g===void 0||g.removeChild(Ct.__tool)}catch(y){console.warn("unexpect destory error",y)}},__getControlTool:function(){var g="lf-control-item",y="lf-control-item disabled",c=document.createElement("div"),p=[];return c.className="lf-control",Ct.__controlItems.forEach(function(a){var f=document.createElement("div"),s=document.createElement("i"),m=document.createElement("span");switch(f.className=y,a.onClick&&(f.onclick=a.onClick.bind(null,Ct.__lf)),a.onMouseEnter&&(f.onmouseenter=a.onMouseEnter.bind(null,Ct.__lf)),a.onMouseLeave&&(f.onmouseleave=a.onMouseLeave.bind(null,Ct.__lf)),s.className=a.iconClass,m.className="lf-control-text",m.title=a.title,m.innerText=a.text,f.append(s,m),a.text){case"\u4E0A\u4E00\u6B65":Ct.__lf.on("history:change",function(_){var E=_.data.undoAble;f.className=E?g:y});break;case"\u4E0B\u4E00\u6B65":Ct.__lf.on("history:change",function(_){var E=_.data.redoAble;f.className=E?g:y});break;default:f.className=g;break}p.push(f)}),c.append.apply(c,K_(p)),c}},Z_=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},q_=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(Z_(arguments[y]));return g},Xo="lf:defaultNodeMenu",Fo="lf:defaultEdgeMenu",Uo="lf:defaultGraphMenu",ly="lf:defaultSelectionMenu",$_=function(){function g(y){var c=this,p=y.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(a){c.resetMenuItem(a)},this.lf.addMenuConfig=function(a){c.addMenuItem(a)},this.lf.setMenuByType=function(a){c.setMenuByType(a)}}return g.prototype.init=function(){var y=this,c=[{text:"\u5220\u9664",callback:function(f){y.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){y.lf.graphModel.setTextEditable(f.id)}},{text:"\u590D\u5236",callback:function(f){y.lf.cloneNode(f.id)}}];this.menuTypeMap.set(Xo,c);var p=[{text:"\u5220\u9664",callback:function(f){y.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){y.lf.graphModel.setTextEditable(f.id)}}];this.menuTypeMap.set(Fo,p),this.menuTypeMap.set(Uo,[]);var a=[{text:"\u5220\u9664",callback:function(f){y.lf.clearSelectElements(),f.edges.forEach(function(s){return y.lf.deleteEdge(s.id)}),f.nodes.forEach(function(s){return y.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(ly,a)},g.prototype.render=function(y,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(a){a.stopPropagation();for(var f=a.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(a){var f=a.data,s=a.position,m=s.domOverlayPosition,_=m.x,E=m.y,O=f.id,S=p.lf.graphModel.getNodeModel(O),A=[],P=p.menuTypeMap.get(S.type);S&&S.menu&&Array.isArray(S.menu)?A=S.menu:P?A=P:A=p.menuTypeMap.get(Xo),p.__currentData=f,p.showMenu(_,E,A)}),this.lf.on("edge:contextmenu",function(a){var f=a.data,s=a.position,m=s.domOverlayPosition,_=m.x,E=m.y,O=f.id,S=p.lf.graphModel.getEdgeModel(O),A=[],P=p.menuTypeMap.get(S.type);S&&S.menu&&Array.isArray(S.menu)?A=S.menu:P?A=P:A=p.menuTypeMap.get(Fo),p.__currentData=f,p.showMenu(_,E,A)}),this.lf.on("blank:contextmenu",function(a){var f=a.position,s=p.menuTypeMap.get(Uo),m=f.domOverlayPosition,_=m.x,E=m.y;p.showMenu(_,E,s)}),this.lf.on("selection:contextmenu",function(a){var f=a.data,s=a.position,m=p.menuTypeMap.get(ly),_=s.domOverlayPosition,E=_.x,O=_.y;p.__currentData=f,p.showMenu(E,O,m)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(y,c,p){if(!(!p||!p.length)){var a=this.__menuDOM;a.innerHTML="",a.append.apply(a,q_(this.__getMenuDom(p))),!!a.children.length&&(a.style.display="block",a.style.top=c+"px",a.style.left=y+"px")}},g.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},g.prototype.__getMenuDom=function(y){var c=[];return y&&y.length>0&&y.forEach(function(p){var a=document.createElement("li");if(p.className?a.className="lf-menu-item "+p.className:a.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",a.appendChild(f)}var s=document.createElement("span");s.className="lf-menu-item-text",p.text&&(s.innerText=p.text),a.appendChild(s),a.onclickCallback=p.callback,c.push(a)}),c},g.prototype.resetMenuItem=function(y){!y||(y.nodeMenu!==void 0&&this.menuTypeMap.set(Xo,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(Fo,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(Uo,y.graphMenu?y.graphMenu:[]))},g.prototype.addMenuItem=function(y){if(!!y){if(Array.isArray(y.nodeMenu)){var c=this.menuTypeMap.get(Xo);this.menuTypeMap.set(Xo,c.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var c=this.menuTypeMap.get(Fo);this.menuTypeMap.set(Fo,c.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var c=this.menuTypeMap.get(Uo);this.menuTypeMap.set(Uo,c.concat(y.graphMenu))}}},g.prototype.changeMenuItem=function(y,c){if(y==="add")this.addMenuItem(c);else if(y==="reset")this.resetMenuItem(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="Menu",g}();globalThis&&globalThis.__read;var J_=function(){function g(y){var c=this,p=y.lf;this.lf=p,this.lf.setPatternItems=function(a){c.shapeList=a,c.domContainer&&c.render(c.lf,c.domContainer)}}return g.prototype.render=function(y,c){var p=this;this.panelEl&&c.removeChild(this.panelEl),!(!this.shapeList||this.shapeList.length===0)&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(a){p.panelEl.appendChild(p.createDndItem(a))}),c.appendChild(this.panelEl),this.domContainer=c)},g.prototype.createDndItem=function(y){var c=this,p=document.createElement("div");p.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var a=document.createElement("div");if(a.className="lf-dnd-shape",y.icon&&(a.style.backgroundImage="url("+y.icon+")"),p.appendChild(a),y.label){var f=document.createElement("div");f.innerText=y.label,f.className="lf-dnd-text",p.appendChild(f)}return p.onmousedown=function(){y.type&&c.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback()},p},g.pluginName="DndPanel",g}();globalThis&&globalThis.__values;var fy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Go=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(g){fy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var c=this.getAttributes(),p=c.points,a=c.strokeWidth,f=c.stroke,s=c.strokeDashArray,m=p.split(" ").map(function($){return $.split(",").map(function(ae){return Number(ae)})}),_=Go(m[0],2),E=_[0],O=_[1],S="M"+E+" "+O,A=5,P=1;P<m.length-1;P++){var C=Go(m[P-1],2),R=C[0],G=C[1],H=Go(m[P],2),I=H[0],V=H[1],Z=Go(m[P+1],2),Y=Z[0],M=Z[1];if(I===R&&V!==G){var z=V>G?V-A:V+A;S=S+" L "+I+" "+z}if(V===G&&I!==R){var k=I>R?I-A:I+A;S=S+" L "+k+" "+V}if(S=S+" Q "+I+" "+V,I===Y&&V!==M){var z=V>M?V-A:V+A;S=S+" "+I+" "+z}if(V===M&&I!==Y){var k=I>Y?I-A:I+A;S=S+" "+k+" "+V}}var L=Go(m[m.length-1],2),F=L[0],te=L[1];return S=S+" L "+F+" "+te,Ze.exports.h("path",{d:S,strokeWidth:a,stroke:f,fill:"none",strokeDashArray:s})},y.extendKey="CurvedEdge",y})(Ze.exports.PolylineEdge);(function(g){fy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y})(Ze.exports.PolylineEdgeModel);var py=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Q_=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},eO=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(Q_(arguments[y]));return g};(function(g){py(y,g);function y(){var c=g!==null&&g.apply(this,arguments)||this;return c.isGroup=!0,c.children=new Set,c.isRestrict=!0,c}return y.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},y.prototype.setIsRestrict=function(c){this.isRestrict=c},y.prototype.isInRange=function(c){var p=c.x1,a=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&a>=this.y-this.height/2&&s<=this.y+this.height/2},y.prototype.setAllowAppendChild=function(c){c?this.stroke="red":this.stroke="rgb(24, 125, 255)"},y.prototype.addChild=function(c){this.children.add(c)},y.prototype.removeChild=function(c){this.children.delete(c)},y.prototype.getData=function(){var c=g.prototype.getData.call(this);return c.children=eO(this.children),c},y})(Ze.exports.RectNodeModel);(function(g){py(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.toFront=function(){},y.prototype.getShapeStyle=function(){var c=g.prototype.getShapeStyle.call(this);return c.radius=0,c},y})(Ze.exports.RectNode);var tO=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var Ju,zt,dy,Ho,hy,yy,vy={},gy=[],nO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function fr(g,y){for(var c in y)g[c]=y[c];return g}function by(g){var y=g.parentNode;y&&y.removeChild(g)}function Yo(g,y,c){var p,a,f,s={};for(f in y)f=="key"?p=y[f]:f=="ref"?a=y[f]:s[f]=y[f];if(arguments.length>2&&(s.children=arguments.length>3?Ju.call(arguments,2):c),typeof g=="function"&&g.defaultProps!=null)for(f in g.defaultProps)s[f]===void 0&&(s[f]=g.defaultProps[f]);return Wi(g,s,p,a,null)}function Wi(g,y,c,p,a){var f={type:g,props:y,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++dy:a};return a==null&&zt.vnode!=null&&zt.vnode(f),f}function Qu(g){return g.children}function Jr(g,y){this.props=g,this.context=y}function Qr(g,y){if(y==null)return g.__?Qr(g.__,g.__.__k.indexOf(g)+1):null;for(var c;y<g.__k.length;y++)if((c=g.__k[y])!=null&&c.__e!=null)return c.__e;return typeof g.type=="function"?Qr(g):null}function my(g){var y,c;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,y=0;y<g.__k.length;y++)if((c=g.__k[y])!=null&&c.__e!=null){g.__e=g.__c.base=c.__e;break}return my(g)}}function _y(g){(!g.__d&&(g.__d=!0)&&Ho.push(g)&&!Ki.__r++||yy!==zt.debounceRendering)&&((yy=zt.debounceRendering)||hy)(Ki)}function Ki(){for(var g;Ki.__r=Ho.length;)g=Ho.sort(function(y,c){return y.__v.__b-c.__v.__b}),Ho=[],g.some(function(y){var c,p,a,f,s,m;y.__d&&(s=(f=(c=y).__v).__e,(m=c.__P)&&(p=[],(a=fr({},f)).__v=f.__v+1,Py(m,f,a,c.__n,m.ownerSVGElement!==void 0,f.__h!=null?[s]:null,p,s==null?Qr(f):s,f.__h),oO(p,f),f.__e!=s&&my(f)))})}function Oy(g,y,c,p,a,f,s,m,_,E){var O,S,A,P,C,R,G,H=p&&p.__k||gy,I=H.length;for(c.__k=[],O=0;O<y.length;O++)if((P=c.__k[O]=(P=y[O])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?Wi(null,P,null,null,P):Array.isArray(P)?Wi(Qu,{children:P},null,null,null):P.__b>0?Wi(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=c,P.__b=c.__b+1,(A=H[O])===null||A&&P.key==A.key&&P.type===A.type)H[O]=void 0;else for(S=0;S<I;S++){if((A=H[S])&&P.key==A.key&&P.type===A.type){H[S]=void 0;break}A=null}Py(g,P,A=A||vy,a,f,s,m,_,E),C=P.__e,(S=P.ref)&&A.ref!=S&&(G||(G=[]),A.ref&&G.push(A.ref,null,P),G.push(S,P.__c||C,P)),C!=null?(R==null&&(R=C),typeof P.type=="function"&&P.__k===A.__k?P.__d=_=wy(P,_,g):_=xy(g,P,A,H,C,_),typeof c.type=="function"&&(c.__d=_)):_&&A.__e==_&&_.parentNode!=g&&(_=Qr(A))}for(c.__e=R,O=I;O--;)H[O]!=null&&(typeof c.type=="function"&&H[O].__e!=null&&H[O].__e==c.__d&&(c.__d=Qr(p,O+1)),ky(H[O],H[O]));if(G)for(O=0;O<G.length;O++)Ay(G[O],G[++O],G[++O])}function wy(g,y,c){for(var p,a=g.__k,f=0;a&&f<a.length;f++)(p=a[f])&&(p.__=g,y=typeof p.type=="function"?wy(p,y,c):xy(c,p,p,a,p.__e,y));return y}function xy(g,y,c,p,a,f){var s,m,_;if(y.__d!==void 0)s=y.__d,y.__d=void 0;else if(c==null||a!=f||a.parentNode==null)e:if(f==null||f.parentNode!==g)g.appendChild(a),s=null;else{for(m=f,_=0;(m=m.nextSibling)&&_<p.length;_+=2)if(m==a)break e;g.insertBefore(a,f),s=f}return s!==void 0?s:a.nextSibling}function rO(g,y,c,p,a){var f;for(f in c)f==="children"||f==="key"||f in y||Zi(g,f,null,c[f],p);for(f in y)a&&typeof y[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===y[f]||Zi(g,f,y[f],c[f],p)}function Ey(g,y,c){y[0]==="-"?g.setProperty(y,c):g[y]=c==null?"":typeof c!="number"||nO.test(y)?c:c+"px"}function Zi(g,y,c,p,a){var f;e:if(y==="style")if(typeof c=="string")g.style.cssText=c;else{if(typeof p=="string"&&(g.style.cssText=p=""),p)for(y in p)c&&y in c||Ey(g.style,y,"");if(c)for(y in c)p&&c[y]===p[y]||Ey(g.style,y,c[y])}else if(y[0]==="o"&&y[1]==="n")f=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in g?y.toLowerCase().slice(2):y.slice(2),g.l||(g.l={}),g.l[y+f]=c,c?p||g.addEventListener(y,f?Sy:jy,f):g.removeEventListener(y,f?Sy:jy,f);else if(y!=="dangerouslySetInnerHTML"){if(a)y=y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in g)try{g[y]=c==null?"":c;break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||y[0]==="a"&&y[1]==="r")?g.setAttribute(y,c):g.removeAttribute(y))}}function jy(g){this.l[g.type+!1](zt.event?zt.event(g):g)}function Sy(g){this.l[g.type+!0](zt.event?zt.event(g):g)}function Py(g,y,c,p,a,f,s,m,_){var E,O,S,A,P,C,R,G,H,I,V,Z=y.type;if(y.constructor!==void 0)return null;c.__h!=null&&(_=c.__h,m=y.__e=c.__e,y.__h=null,f=[m]),(E=zt.__b)&&E(y);try{e:if(typeof Z=="function"){if(G=y.props,H=(E=Z.contextType)&&p[E.__c],I=E?H?H.props.value:E.__:p,c.__c?R=(O=y.__c=c.__c).__=O.__E:("prototype"in Z&&Z.prototype.render?y.__c=O=new Z(G,I):(y.__c=O=new Jr(G,I),O.constructor=Z,O.render=aO),H&&H.sub(O),O.props=G,O.state||(O.state={}),O.context=I,O.__n=p,S=O.__d=!0,O.__h=[]),O.__s==null&&(O.__s=O.state),Z.getDerivedStateFromProps!=null&&(O.__s==O.state&&(O.__s=fr({},O.__s)),fr(O.__s,Z.getDerivedStateFromProps(G,O.__s))),A=O.props,P=O.state,S)Z.getDerivedStateFromProps==null&&O.componentWillMount!=null&&O.componentWillMount(),O.componentDidMount!=null&&O.__h.push(O.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&G!==A&&O.componentWillReceiveProps!=null&&O.componentWillReceiveProps(G,I),!O.__e&&O.shouldComponentUpdate!=null&&O.shouldComponentUpdate(G,O.__s,I)===!1||y.__v===c.__v){O.props=G,O.state=O.__s,y.__v!==c.__v&&(O.__d=!1),O.__v=y,y.__e=c.__e,y.__k=c.__k,y.__k.forEach(function(Y){Y&&(Y.__=y)}),O.__h.length&&s.push(O);break e}O.componentWillUpdate!=null&&O.componentWillUpdate(G,O.__s,I),O.componentDidUpdate!=null&&O.__h.push(function(){O.componentDidUpdate(A,P,C)})}O.context=I,O.props=G,O.state=O.__s,(E=zt.__r)&&E(y),O.__d=!1,O.__v=y,O.__P=g,E=O.render(O.props,O.state,O.context),O.state=O.__s,O.getChildContext!=null&&(p=fr(fr({},p),O.getChildContext())),S||O.getSnapshotBeforeUpdate==null||(C=O.getSnapshotBeforeUpdate(A,P)),V=E!=null&&E.type===Qu&&E.key==null?E.props.children:E,Oy(g,Array.isArray(V)?V:[V],y,c,p,a,f,s,m,_),O.base=y.__e,y.__h=null,O.__h.length&&s.push(O),R&&(O.__E=O.__=null),O.__e=!1}else f==null&&y.__v===c.__v?(y.__k=c.__k,y.__e=c.__e):y.__e=iO(c.__e,y,c,p,a,f,s,_);(E=zt.diffed)&&E(y)}catch(Y){y.__v=null,(_||f!=null)&&(y.__e=m,y.__h=!!_,f[f.indexOf(m)]=null),zt.__e(Y,y,c)}}function oO(g,y){zt.__c&&zt.__c(y,g),g.some(function(c){try{g=c.__h,c.__h=[],g.some(function(p){p.call(c)})}catch(p){zt.__e(p,c.__v)}})}function iO(g,y,c,p,a,f,s,m){var _,E,O,S=c.props,A=y.props,P=y.type,C=0;if(P==="svg"&&(a=!0),f!=null){for(;C<f.length;C++)if((_=f[C])&&"setAttribute"in _==!!P&&(P?_.localName===P:_.nodeType===3)){g=_,f[C]=null;break}}if(g==null){if(P===null)return document.createTextNode(A);g=a?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,A.is&&A),f=null,m=!1}if(P===null)S===A||m&&g.data===A||(g.data=A);else{if(f=f&&Ju.call(g.childNodes),E=(S=c.props||vy).dangerouslySetInnerHTML,O=A.dangerouslySetInnerHTML,!m){if(f!=null)for(S={},C=0;C<g.attributes.length;C++)S[g.attributes[C].name]=g.attributes[C].value;(O||E)&&(O&&(E&&O.__html==E.__html||O.__html===g.innerHTML)||(g.innerHTML=O&&O.__html||""))}if(rO(g,A,S,a,m),O)y.__k=[];else if(C=y.props.children,Oy(g,Array.isArray(C)?C:[C],y,c,p,a&&P!=="foreignObject",f,s,f?f[0]:c.__k&&Qr(c,0),m),f!=null)for(C=f.length;C--;)f[C]!=null&&by(f[C]);m||("value"in A&&(C=A.value)!==void 0&&(C!==S.value||C!==g.value||P==="progress"&&!C)&&Zi(g,"value",C,S.value,!1),"checked"in A&&(C=A.checked)!==void 0&&C!==g.checked&&Zi(g,"checked",C,S.checked,!1))}return g}function Ay(g,y,c){try{typeof g=="function"?g(y):g.current=y}catch(p){zt.__e(p,c)}}function ky(g,y,c){var p,a;if(zt.unmount&&zt.unmount(g),(p=g.ref)&&(p.current&&p.current!==g.__e||Ay(p,null,y)),(p=g.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){zt.__e(f,y)}p.base=p.__P=null}if(p=g.__k)for(a=0;a<p.length;a++)p[a]&&ky(p[a],y,typeof g.type!="function");c||g.__e==null||by(g.__e),g.__e=g.__d=void 0}function aO(g,y,c){return this.constructor(g,c)}Ju=gy.slice,zt={__e:function(g,y){for(var c,p,a;y=y.__;)if((c=y.__c)&&!c.__)try{if((p=c.constructor)&&p.getDerivedStateFromError!=null&&(c.setState(p.getDerivedStateFromError(g)),a=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(g),a=c.__d),a)return c.__E=c}catch(f){g=f}throw g}},dy=0,Jr.prototype.setState=function(g,y){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=fr({},this.state),typeof g=="function"&&(g=g(fr({},c),this.props)),g&&fr(c,g),g!=null&&this.__v&&(y&&this.__h.push(y),_y(this))},Jr.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),_y(this))},Jr.prototype.render=Qu,Ho=[],hy=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ki.__r=0;var Vo=globalThis&&globalThis.__assign||function(){return Vo=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Vo.apply(this,arguments)};function ec(g){var y=g.x,c=g.y,p=g.width,a=g.height,f=g.radius,s=g.className,m=y-p/2,_=c-a/2,E=Vo(Vo({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},g),{x:m,y:_});return Ze.exports.h("rect",Vo({},E))}ec.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Wo;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Wo||(Wo={}));function qi(g){var y=g.x,c=g.y,p=g.width,a=g.height;return{minX:y-p/2,minY:c-a/2,maxX:y+p/2,maxY:c+a/2}}function Ty(g){var y=qi(g),c=g.radius,p=y.minX,a=y.minY,f=y.maxX,s=y.maxY;return[{x:p+c,y:a+c},{x:f-c,y:a+c},{x:f-c,y:s-c},{x:p+c,y:s-c}]}function Dy(g){var y=g.point,c=g.beforeNode,p=g.afterNode,a=y.x,f=y.y,s={x:a,y:f},m=c.radius,_=qi(c),E=qi(p);if(a===_.minX){s.x=E.minX;var O=(f-c.y)/(c.height/2-m);O?s.y=p.y+(p.height/2-m)*O:s.y=p.y}else if(a===_.maxX){s.x=E.maxX;var O=(f-c.y)/(c.height/2-m);O?s.y=p.y+(p.height/2-m)*O:s.y=p.y}else if(f===_.minY){s.y=E.minY;var O=(a-c.x)/(c.width/2-m);O?s.x=p.x+(p.width/2-m)*O:s.x=p.x}else if(f===_.maxY){s.y=E.maxY;var O=(a-c.x)/(c.width/2-m);O?s.x=p.x+(p.width/2-m)*O:s.x=p.x}else{var S=Ty(c),A=Ty(p),P=qi(c),C=P.minX,R=P.minY,G=P.maxX,H=P.maxY,I=-1;if(a-C<m&&f-R<m?I=0:G-a<m&&f-R<m?I=1:G-a<m&&H-f<m?I=2:a-C<m&&R-f<m&&(I=3),I>-1){var V=Math.atan2(f-S[I].y,a-S[I].x);s.x=A[I].x+m*Math.cos(V),s.y=A[I].y+m*Math.sin(V)}}return s}function My(g){var y=g.point,c=g.beforeNode,p=g.afterNode,a=p.rx,f=p.ry,s=y,m=(y.y-c.y)/(y.x-c.x),_=a,E=f,O,S;return m>=1/0?(O=0,S=E):m<=-1/0?(O=0,S=-E):y.x-c.x>0?(O=_*E/Math.sqrt(E*E+_*_*m*m),S=_*E*m/Math.sqrt(E*E+_*_*m*m)):(O=-(_*E)/Math.sqrt(E*E+_*_*m*m),S=-(_*E*m)/Math.sqrt(E*E+_*_*m*m)),s={x:O+p.x,y:S+p.y},s}function Ny(g){var y=g.point,c=g.beforeNode,p=g.afterNode,a=y,f,s,m=y.x-c.x,_=y.y-c.y,E=c.rx,O=c.ry,S=Math.sqrt((E-Math.abs(m))*(E-Math.abs(m))+_*_)/Math.sqrt(E*E+O*O),A=p.rx,P=p.ry,C=Math.sqrt((A*A+P*P)*S*S*(A*A/(A*A+P*P))),R=C*(P/A);return m>=0?f=A-C:f=C-A,_>0?s=R:s=-R,a={x:f+p.x,y:s+p.y},a}var uO=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Pr.apply(this,arguments)},cO=Ze.exports.LogicFlowUtil.createDrag,sO=function(g){uO(y,g);function y(c){var p=g.call(this)||this;p.updatePosition=function(s){var m=s.deltaX,_=s.deltaY,E=p.nodeModel,O=E.x,S=E.y;p.nodeModel.x=O+m/2,p.nodeModel.y=S+_/2,p.nodeModel.moveText(m/2,_/2)},p.getResize=function(s){var m=s.index,_=s.deltaX,E=s.deltaY,O=s.width,S=s.height,A=s.pct,P=A===void 0?1:A,C={width:O,height:S};switch(m){case 0:C.width=O-_*P,C.height=S-E*P;break;case 1:C.width=O+_*P,C.height=S-E*P;break;case 2:C.width=O+_,C.height=S+E*P;break;case 3:C.width=O-_*P,C.height=S+E*P;break}return C},p.updateRect=function(s){var m=s.deltaX,_=s.deltaY,E=p.nodeModel,O=E.id,S=E.x,A=E.y,P=E.width,C=E.height,R=E.radius,G=p.index,H=p.getResize({index:G,deltaX:m,deltaY:_,width:P,height:C,pct:1}),I=p.nodeModel,V=I.minWidth,Z=I.minHeight,Y=I.maxWidth,M=I.maxHeight;if(!(H.width<V||H.width>Y||H.height<Z||H.height>M)){p.updatePosition({deltaX:m,deltaY:_}),p.nodeModel.width=H.width,p.nodeModel.height=H.height,p.nodeModel.setProperties({nodeSize:{width:H.width,height:H.height}});var z=p.getNodeEdges(O),k={x:S,y:A,width:P,height:C,radius:R},L={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:R},F={point:"",beforeNode:k,afterNode:L},te;z.sourceEdges.forEach(function($){F.point=$.startPoint,te=Dy(F),$.updateStartPoint(te)}),z.targetEdges.forEach(function($){F.point=$.endPoint,te=Dy(F),$.updateEndPoint(te)}),p.eventEmit({beforeNode:k,afterNode:L})}},p.updateEllipse=function(s){var m=s.deltaX,_=s.deltaY,E=p.nodeModel,O=E.id,S=E.rx,A=E.ry,P=E.x,C=E.y,R=p.index,G=S,H=A,I=p.getResize({index:R,deltaX:m,deltaY:_,width:G,height:H,pct:1/2}),V=p.nodeModel,Z=V.minWidth,Y=V.minHeight,M=V.maxWidth,z=V.maxHeight;if(!(I.width<Z/2||I.width>M/2||I.height<Y/2||I.height>z/2)){p.updatePosition({deltaX:m,deltaY:_}),p.nodeModel.rx=I.width,p.nodeModel.ry=I.height,p.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}});var k=p.getNodeEdges(O),L={x:P,y:C},F={rx:I.width,ry:I.height,x:p.nodeModel.x,y:p.nodeModel.y},te={point:{},beforeNode:L,afterNode:F},$;k.sourceEdges.forEach(function(ae){te.point=ae.startPoint,$=My(te),ae.updateStartPoint($)}),k.targetEdges.forEach(function(ae){te.point=ae.endPoint,$=My(te),ae.updateEndPoint($)}),p.eventEmit({beforeNode:Pr(Pr({},L),{rx:S,ry:A}),afterNode:F})}},p.updateDiamond=function(s){var m=s.deltaX,_=s.deltaY,E=p.nodeModel,O=E.id,S=E.rx,A=E.ry,P=E.x,C=E.y,R=p.index,G=S,H=A,I=p.getResize({index:R,deltaX:m,deltaY:_,width:G,height:H,pct:1/2}),V=cc.sizeRange.ellipse,Z=V.minRx,Y=V.minRy,M=V.maxRx,z=V.maxRy;if(!(I.width<Z||I.width>M||I.height<Y||I.height>z)){p.updatePosition({deltaX:m,deltaY:_}),p.nodeModel.rx=I.width,p.nodeModel.ry=I.height,p.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}});var k={x:P,y:C,rx:S,ry:A},L={rx:I.width,ry:I.height,x:p.nodeModel.x,y:p.nodeModel.y},F={point:{},beforeNode:k,afterNode:L},te,$=p.getNodeEdges(O);$.sourceEdges.forEach(function(ae){F.point=ae.startPoint,te=Ny(F),ae.updateStartPoint(te)}),$.targetEdges.forEach(function(ae){F.point=ae.endPoint,te=Ny(F),ae.updateEndPoint(te)}),p.eventEmit({beforeNode:k,afterNode:L})}},p.eventEmit=function(s){var m=s.beforeNode,_=s.afterNode,E=p.nodeModel,O=E.id,S=E.modelType,A=E.type,P=Pr({id:O,modelType:S,type:A},m),C=Pr({id:O,modelType:S,type:A},_);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:C})},p.onDraging=function(s){var m=s.deltaX,_=s.deltaY,E=p.nodeModel.modelType;E===Wo.RECT_NODE?p.updateRect({deltaX:m,deltaY:_}):E===Wo.ELLIPSE_NODE?p.updateEllipse({deltaX:m,deltaY:_}):E===Wo.DIAMOND_NODE&&p.updateDiamond({deltaX:m,deltaY:_})},p.index=c.index,p.nodeModel=c.nodeModel,p.graphModel=c.graphModel;var a=p.graphModel.gridSize,f=2;return a>1&&(f=2*a),p.state={},p.dragHandler=cO({onDraging:p.onDraging,step:f}),p}return y.prototype.getNodeEdges=function(c){for(var p=this.graphModel,a=p.edges,f=[],s=[],m=0;m<a.length;m++){var _=a[m];_.sourceNodeId===c?f.push(_):a[m].targetNodeId===c&&s.push(_)}return{sourceEdges:f,targetEdges:s}},y.prototype.render=function(){var c=this.props,p=c.x,a=c.y,f=c.style,s=c.index,m=cc.style.controlPoint,_=m.width,E=m.height,O=m.fill,S=m.stroke;return Yo("g",{className:"lf-resize-control-"+s},Yo(ec,Pr({className:"lf-node-control"},{x:p,y:a},f,{width:_,height:E,fill:O,stroke:S,onMouseDown:this.dragHandler})))},y}(Jr),lO=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),tc=globalThis&&globalThis.__assign||function(){return tc=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},tc.apply(this,arguments)},nc=function(g){lO(y,g);function y(){var c=g.call(this)||this;return c.state={},c}return y.prototype.getResizeControl=function(){var c=this.props,p=c.x,a=c.y,f=c.width,s=c.height,m=c.nodeModel,_=c.graphModel,E={minX:p-f/2,minY:a-s/2,maxX:p+f/2,maxY:a+s/2},O=E.minX,S=E.minY,A=E.maxX,P=E.maxY,C=[{x:O,y:S},{x:A,y:S},{x:A,y:P},{x:O,y:P}];return C.map(function(R,G){return Yo(sO,tc({index:G},R,{nodeModel:m,graphModel:_}))})},y.prototype.getGroupSolid=function(){var c=this.props,p=c.x,a=c.y,f=c.width,s=c.height,m=cc.style.outline,_=m.stroke,E=m.strokeWidth,O=m.strokeDasharray;return Yo(ec,{fill:"none",x:p,y:a,width:f,height:s,stroke:_,strokeWidth:E,strokeDasharray:O})},y.prototype.render=function(){return Yo("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(Jr),Cy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),rc=globalThis&&globalThis.__assign||function(){return rc=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},rc.apply(this,arguments)},fO=function(g){Cy(y,g);function y(){var c=g!==null&&g.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return y.prototype.setAttributes=function(){this.hideOutline=!0;var c=this.properties.nodeSize;c&&(this.width=c.width,this.height=c.height)},y}(Ze.exports.RectNodeModel),pO=function(g){Cy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(c){var p=this.props,a=p.model,f=p.graphModel;return Ze.exports.h(nc,rc({},c,{nodeModel:a,graphModel:f}))},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(),p?this.getControlGroup(c):"")},y}(Ze.exports.RectNode),oc={type:"rect",view:pO,model:fO},$i=globalThis&&globalThis.__assign||function(){return $i=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},$i.apply(this,arguments)};function dO(g){var y=g.x,c=y===void 0?0:y,p=g.y,a=p===void 0?0:p,f=g.rx,s=f===void 0?4:f,m=g.ry,_=m===void 0?4:m,E=$i({cx:c,cy:a,rx:s,ry:_,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},g);return Ze.exports.h("ellipse",$i({},E))}var Ry=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ji=globalThis&&globalThis.__assign||function(){return Ji=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Ji.apply(this,arguments)},hO=function(g){Ry(y,g);function y(){var c=g!==null&&g.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return y.prototype.setAttributes=function(){this.hideOutline=!0;var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},y}(Ze.exports.EllipseNodeModel),yO=function(g){Ry(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(c){var p=this.props,a=p.model,f=p.graphModel;return Ze.exports.h(nc,Ji({},c,{nodeModel:a,graphModel:f}))},y.prototype.getResizeShape=function(c){return Ze.exports.h("g",null,Ze.exports.h(dO,Ji({},c)))},y.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(c),p?this.getControlGroup(c):"")},y}(Ze.exports.EllipseNode),ic={type:"ellipse",view:yO,model:hO},ac=globalThis&&globalThis.__assign||function(){return ac=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},ac.apply(this,arguments)};function vO(g){var y=g.fillOpacity,c=y===void 0?1:y,p=g.strokeWidth,a=p===void 0?1:p,f=g.strokeOpacity,s=f===void 0?1:f,m=g.fill,_=m===void 0?"transparent":m,E=g.stroke,O=E===void 0?"#000":E,S=g.points,A=g.className,P=A===void 0?"lf-basic-shape":A,C={fill:_,fillOpacity:c,strokeWidth:a,stroke:O,strokeOpacity:s,points:"",className:P};return C.points=S.map(function(R){return R.join(",")}).join(" "),Ze.exports.h("polygon",ac({},C))}var Iy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Qi=globalThis&&globalThis.__assign||function(){return Qi=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Qi.apply(this,arguments)},gO=function(g){Iy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.setAttributes=function(){this.hideOutline=!0;var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},y}(Ze.exports.DiamondNodeModel),bO=function(g){Iy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(c){var p=this.props,a=p.model,f=p.graphModel;return Ze.exports.h(nc,Qi({},c,{nodeModel:a,graphModel:f}))},y.prototype.getResizeShape=function(c){return Ze.exports.h("g",null,Ze.exports.h(vO,Qi({},c)))},y.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(c),p?this.getControlGroup(c):"")},y}(Ze.exports.DiamondNode),uc={type:"diamond",view:bO,model:gO},Ly={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(g){g.register({type:oc.type,view:oc.view,model:oc.model}),g.register({type:ic.type,view:ic.view,model:ic.model}),g.register({type:uc.type,view:uc.view,model:uc.model})}},cc=Ly,mO=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var zy=globalThis&&globalThis.__assign||function(){return zy=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},zy.apply(this,arguments)};const _O={nodes:[{id:1,type:"rect",x:300,y:30,text:"\u5F00\u59CB"},{id:2,type:"diamond",x:300,y:150,text:"\u5224\u65AD"},{id:3,type:"circle",x:300,y:300,text:"\u7ED3\u675F"}],edges:[{type:"polyline",sourceNodeId:1,targetNodeId:2},{type:"polyline",sourceNodeId:2,targetNodeId:3}]},OO=E_({name:"Flow",setup(){const g=Hh(null);qr.use(Ct),qr.use($_),qr.use(J_),qr.use(B_),qr.use(Ly);const y=R_(),c=Hh(),p=j_(()=>({container:g.value,stopScrollGraph:!0,stopZoomGraph:!0,background:{color:y.state.theme==="dark"?"#18181c":"#ffffff"},grid:{type:"dot",size:20},style:{circle:{r:40,fill:"#fff",strokeWidth:2}}}));S_(()=>{c.value=new qr(p.value),c.value.setPatternItems([{label:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{var f,s;(f=c.value)==null||f.openSelectionSelect(),(s=c.value)==null||s.once("selection:selected",()=>{var m;(m=c.value)==null||m.closeSelectionSelect()})}},{type:"circle",text:"\u5F00\u59CB",label:"\u5F00\u59CB\u8282\u70B9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",label:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",label:"\u7ED3\u675F\u8282\u70B9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),c.value.setTheme({rect:{width:100,height:50,radius:6,fill:"#fff",strokeWidth:2}}),c.value.render(_O)});function a(){var f;(f=c.value)==null||f.getSnapshot()}return P_(()=>p.value,f=>{A_(()=>{var s;(s=c.value)==null||s.updateEditConfig(f)})}),{lfConitanerRef:g,generatorImage:a}}}),wO=N_("\u751F\u6210\u56FE\u7247"),xO={ref:"lfConitanerRef",style:{height:"70vh"}};function EO(g,y,c,p,a,f){const s=Yh("a-button"),m=Yh("a-card");return k_(),T_(m,{title:"\u6D41\u7A0B\u56FE","body-style":{padding:"10px"}},{extra:Ku(()=>[D_(s,{size:"small",type:"primary",onClick:g.generatorImage},{default:Ku(()=>[wO]),_:1},8,["onClick"])]),default:Ku(()=>[M_("div",xO,null,512)]),_:1})}var PO=C_(OO,[["render",EO]]);export{PO as default};
