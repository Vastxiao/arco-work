var $=Object.defineProperty,A=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var I=(l,o,s)=>o in l?$(l,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[o]=s,T=(l,o)=>{for(var s in o||(o={}))P.call(o,s)&&I(l,s,o[s]);if(C)for(var s of C(o))W.call(o,s)&&I(l,s,o[s]);return l},E=(l,o)=>A(l,M(o));import{_ as O,p as J,g as q}from"./index.353524b8.js";import{d as G,b as Q,u as X,a as Y,c as Z}from"./table.11835550.js";import{a as i,d as ee,e as ae,r as n,o as u,g as _,j as p,m as t,F as k,N as b,c,k as v,O as r,P as m,as as le,V as oe,M as te}from"./vendor.98fdfd48.js";const V=[{key:"name",label:"\u7528\u6237\u59D3\u540D",type:"input",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u59D3\u540D",value:i(""),reset:function(){this.value.value=""}},{key:"sex",label:"\u7528\u6237\u59D3\u522B",value:i(void 0),type:"select",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u59D3\u522B",optionItems:[{label:"\u7537",value:1},{label:"\u5973",value:2}],reset:function(){this.value.value=void 0}},{key:"date",label:"\u65E5\u671F",type:"date",value:i()},{key:"time",label:"\u65F6\u95F4",type:"time",value:i("")},{key:"checkbox",label:"\u590D\u9009",type:"check-group",value:i([]),optionItems:[{label:"\u9009\u98791",value:0},{label:"\u9009\u98792",value:1}]}],ne=ee({name:"TableWithSearch",setup(){const l=i(),o=G(f),{selectedRowKeys:s,onSelectionChange:w}=Q(),y=X(),x=Z("id"),g=Y([y.indexColumn,{title:"\u540D\u79F0",key:"nickName",dataIndex:"nickName"},{title:"\u6027\u522B",key:"gender",dataIndex:"gender"},{title:"\u5934\u50CF",key:"avatar",dataIndex:"avatar"},{title:"\u5730\u5740",key:"address",dataIndex:"address"},{title:"\u767B\u5F55\u65F6\u95F4",key:"lastLoginTime",dataIndex:"lastLoginTime"},{title:"\u767B\u5F55IP",key:"lastLoginIp",dataIndex:"lastLoginIp"},{title:"\u72B6\u6001",key:"status",dataIndex:"status"}]);function f(){J({url:q,data:()=>({page:o.page,pageSize:o.pageSize})}).then(d=>{y.handleSuccess(d),o.setTotalSize(d.totalSize||10)}).catch(console.log)}function S(){te.success("\u6A21\u62DF\u67E5\u8BE2\u6210\u529F\uFF0C\u53C2\u6570\u4E3A\uFF1A"+JSON.stringify(V.reduce((d,h)=>(d[h.key]=h.value.value,d),{})))}function F(){V.forEach(d=>{d.reset?d.reset():d.value.value=""})}return ae(f),E(T({},y),{rowKey:x,pagination:o,searchForm:l,tableColumns:g,conditionItems:V,onSearch:S,onResetSearch:F,selectedRowKeys:s,onSelectionChange:w})}}),ue={class:"main-container"};function se(l,o,s,w,y,x){const g=n("a-input"),f=n("a-option"),S=n("a-select"),F=n("a-date-picker"),d=n("a-time-picker"),h=n("a-checkbox"),D=n("a-checkbox-group"),R=n("a-form-item"),U=n("a-form"),z=n("TableHeader"),K=n("a-avatar"),B=n("a-tag"),L=n("a-table-column"),N=n("a-table"),j=n("TableFooter"),H=n("TableBody");return u(),_("div",ue,[p(H,{ref:"tableBody"},{header:t(()=>[p(z,{"show-filter":!0,title:"\u67E5\u8BE2\u6761\u4EF6",onSearch:l.onSearch,onResetSearch:l.onResetSearch},{"search-content":t(()=>[p(U,{layout:"inline"},{default:t(()=>[(u(!0),_(k,null,b(l.conditionItems,e=>(u(),c(R,{key:e.key,label:e.label},{default:t(()=>[e.type==="input"?(u(),c(g,{key:0,modelValue:e.value.value,"onUpdate:modelValue":a=>e.value.value=a,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):v("v-if",!0),e.type==="select"?(u(),c(S,{key:1,modelValue:e.value.value,"onUpdate:modelValue":a=>e.value.value=a,style:{width:"150px"},placeholder:e.placeholder},{default:t(()=>[(u(!0),_(k,null,b(e.optionItems,a=>(u(),c(f,{key:a.value,value:a.value},{default:t(()=>[r(m(a.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):v("v-if",!0),e.type==="date"?(u(),c(F,{key:2,modelValue:e.value.value,"onUpdate:modelValue":a=>e.value.value=a},null,8,["modelValue","onUpdate:modelValue"])):v("v-if",!0),e.type==="time"?(u(),c(d,{key:3,modelValue:e.value.value,"onUpdate:modelValue":a=>e.value.value=a,"value-format":"HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])):v("v-if",!0),e.type==="check-group"?(u(),c(D,{key:4,modelValue:e.value.value,"onUpdate:modelValue":a=>e.value.value=a},{default:t(()=>[(u(!0),_(k,null,b(e.optionItems,a=>(u(),c(h,{value:a.value,key:a.value},{default:t(()=>[r(m(a.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):v("v-if",!0)]),_:2},1032,["label"]))),128))]),_:1})]),_:1},8,["onSearch","onResetSearch"])]),default:t(()=>[p(N,{bordered:!1,"row-selection":{selectedRowKeys:l.selectedRowKeys},loading:l.tableLoading,data:l.dataList,columns:l.tableColumns,pagination:!1,rowKey:l.rowKey,onSelectionChange:l.onSelectionChange},{columns:t(()=>[(u(!0),_(k,null,b(l.tableColumns,e=>(u(),c(L,{key:e.key,align:e.align,title:e.title,width:e.width,"data-index":e.key,fixed:e.fixed},le({_:2},[e.key==="index"?{name:"cell",fn:t(({rowIndex:a})=>[r(m(a+1),1)])}:e.key==="gender"?{name:"cell",fn:t(({record:a})=>[r(m(a.gender===1?"\u7537":"\u5973"),1)])}:e.key==="avatar"?{name:"cell",fn:t(({record:a})=>[p(K,{size:"30",style:oe({backgroundColor:"var(--color-primary-light-1)"})},{default:t(()=>[r(m(a.nickName.substring(0,1)),1)]),_:2},1032,["style"])])}:e.key==="status"?{name:"cell",fn:t(({record:a})=>[a.status===1?(u(),c(B,{key:0,color:"blue",size:"small"},{default:t(()=>[r("\u6B63\u5E38")]),_:1})):(u(),c(B,{key:1,color:"red",size:"small"},{default:t(()=>[r("\u7981\u7528")]),_:1}))])}:void 0]),1032,["align","title","width","data-index","fixed"]))),128))]),_:1},8,["row-selection","loading","data","columns","rowKey","onSelectionChange"])]),footer:t(()=>[p(j,{pagination:l.pagination},null,8,["pagination"])]),_:1},512)])}var pe=O(ne,[["render",se],["__scopeId","data-v-6be650f9"]]);export{pe as default};
